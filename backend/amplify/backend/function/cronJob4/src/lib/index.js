parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"YVpg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.existsAndNotNull=void 0;const e=e=>null!=e;exports.existsAndNotNull=e;
},{}],"OT3r":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.exists=void 0;const e=e=>void 0!==e;exports.exists=e;
},{}],"Lnkh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hasBigInt=void 0;const t=()=>"function"==typeof BigInt;exports.hasBigInt=t;
},{}],"SIpp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hasCrypto=void 0;const e=()=>"undefined"!=typeof window&&void 0!==window.crypto;exports.hasCrypto=e;
},{}],"oYi2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hasMaxLength=void 0;const e=(e,t)=>null!=t&&t.length<=e;exports.hasMaxLength=e;
},{}],"UUpJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hasMinLength=void 0;const e=(e,t)=>null!=t&&t.length>=e;exports.hasMinLength=e;
},{}],"biGe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isFunction=void 0;const e=e=>"function"==typeof e;exports.isFunction=e;
},{}],"DR11":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hasPerformance=void 0;var e=require("./is-function");const r=()=>"undefined"!=typeof performance&&(0,e.isFunction)(performance.now);exports.hasPerformance=r;
},{"./is-function":"biGe"}],"k7cj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hasWASM=void 0;const e=()=>"undefined"!=typeof window&&void 0!==window.WebAssembly||"undefined"!=typeof global&&void 0!==global.WebAssembly;exports.hasWASM=e;
},{}],"FCBw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hasWebGL=void 0;const e=()=>{try{return document.createElement("canvas").getContext("webgl"),!0}catch(e){return!1}};exports.hasWebGL=e;
},{}],"vrOu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hasWebSocket=void 0;const e=()=>"undefined"!=typeof WebSocket;exports.hasWebSocket=e;
},{}],"rTeG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.implementsFunction=void 0;const e=(e,t)=>null!=e&&"function"==typeof e[t];exports.implementsFunction=e;
},{}],"zOxq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isNumeric=exports.isAlphaNum=exports.isAlpha=void 0;const s=s=>/^[a-z]+$/i.test(s);exports.isAlpha=s;const e=s=>/^[a-z0-9]+$/i.test(s);exports.isAlphaNum=e;const t=s=>/^[0-9]+$/.test(s);exports.isNumeric=t;
},{}],"fm3I":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isArray=void 0;const r=Array.isArray;exports.isArray=r;
},{}],"Fd5S":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isArrayLike=void 0;const e=e=>null!=e&&"function"!=typeof e&&void 0!==e.length;exports.isArrayLike=e;
},{}],"wvL1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isPrintableASCII=exports.isASCII=void 0;const e=e=>/^[\x00-\x7f]+$/.test(e);exports.isASCII=e;const t=e=>/^[\x20-\x7e]+$/.test(e);exports.isPrintableASCII=t;
},{}],"xa2y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isBlob=void 0;const e=e=>e instanceof Blob;exports.isBlob=e;
},{}],"Acg8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isBoolean=void 0;const e=e=>"boolean"==typeof e;exports.isBoolean=e;
},{}],"mBES":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isChrome=void 0;const e=()=>"undefined"!=typeof window&&!!window.chrome;exports.isChrome=e;
},{}],"WCIs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isDataURL=void 0;const e=e=>/^data:.+\/(.+);base64,/.test(e);exports.isDataURL=e;
},{}],"jz4d":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isDate=void 0;const e=e=>e instanceof Date;exports.isDate=e;
},{}],"Eop8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isEven=void 0;const e=e=>e%2==0;exports.isEven=e;
},{}],"Y8RG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isFalse=void 0;const e=e=>!1===e;exports.isFalse=e;
},{}],"buhi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isFile=void 0;const e=e=>e instanceof File;exports.isFile=e;
},{}],"ULKw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isFirefox=void 0;const e=()=>"undefined"!=typeof window&&!!window.InstallTrigger;exports.isFirefox=e;
},{}],"EAwp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isFloatString=void 0;const t=/^(?:[-+]?(?:[0-9]+))?(?:\.[0-9]*)?(?:[eE][\+\-]?(?:[0-9]+))?$/,e=e=>e.length>0&&t.test(e);exports.isFloatString=e;
},{}],"VlaI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isHex=void 0;const e=e=>/^[a-f0-9]+$/i.test(e);exports.isHex=e;
},{}],"a3Af":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isString=void 0;const e=e=>"string"==typeof e;exports.isString=e;
},{}],"XkcL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isHexColor=void 0;var e=require("./is-string");const r=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,s=s=>(0,e.isString)(s)&&r.test(s);exports.isHexColor=s;
},{"./is-string":"a3Af"}],"XfVX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isIE=void 0;const e=()=>"undefined"!=typeof document&&(void 0!==document.documentMode||navigator.userAgent.indexOf("MSIE")>0);exports.isIE=e;
},{}],"YbGb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isInRange=void 0;const e=(e,s,t)=>t>=e&&t<=s;exports.isInRange=e;
},{}],"K6ju":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isInt32=void 0;const e=e=>"number"==typeof e&&(0|e)===e;exports.isInt32=e;
},{}],"XINy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isIntString=void 0;const t=/^(?:[-+]?(?:0|[1-9][0-9]*))$/,e=e=>t.test(e);exports.isIntString=e;
},{}],"ZO3u":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isIterable=void 0;const e=e=>null!=e&&"function"==typeof e[Symbol.iterator];exports.isIterable=e;
},{}],"H9IH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isMap=void 0;const e=e=>e instanceof Map;exports.isMap=e;
},{}],"IYyo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isMobile=void 0;const e=()=>"undefined"!=typeof navigator&&/mobile|tablet|ip(ad|hone|od)|android|silk|crios/i.test(navigator.userAgent);exports.isMobile=e;
},{}],"AW7h":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isNaN=void 0;const e=e=>e!=e;exports.isNaN=e;
},{}],"zl1Q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isNegative=void 0;const e=e=>"number"==typeof e&&e<0;exports.isNegative=e;
},{}],"gkbj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isNil=void 0;const e=e=>null==e;exports.isNil=e;
},{}],"be1E":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isNode=void 0;const e=()=>"object"==typeof process&&"object"==typeof process.versions&&void 0!==process.versions.node;exports.isNode=e;
},{}],"tpHU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isNotStringAndIterable=void 0;const t=t=>null!=t&&"string"!=typeof t&&"function"==typeof t[Symbol.iterator];exports.isNotStringAndIterable=t;
},{}],"zVM5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isNull=void 0;const e=e=>null===e;exports.isNull=e;
},{}],"BYeX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isNumber=void 0;const e=e=>"number"==typeof e;exports.isNumber=e;
},{}],"mnS9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isObject=void 0;const e=e=>null!==e&&"object"==typeof e;exports.isObject=e;
},{}],"SEVW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isOdd=void 0;const e=e=>e%2!=0;exports.isOdd=e;
},{}],"S78L":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isPlainObject=void 0;const e=Object.getPrototypeOf,t=t=>{let l;return null!=t&&"object"==typeof t&&(null===(l=e(t))||null===e(l))};exports.isPlainObject=t;
},{}],"xy4Y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isPositive=void 0;const e=e=>"number"==typeof e&&e>0;exports.isPositive=e;
},{}],"qYYB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isPrimitive=void 0;const e=e=>{const t=typeof e;return"string"===t||"number"===t};exports.isPrimitive=e;
},{}],"GGkB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isPromise=void 0;const e=e=>e instanceof Promise;exports.isPromise=e;
},{}],"nGUt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isPromiseLike=void 0;var e=require("./implements-function");const i=i=>i instanceof Promise||(0,e.implementsFunction)(i,"then")&&(0,e.implementsFunction)(i,"catch");exports.isPromiseLike=i;
},{"./implements-function":"rTeG"}],"CKos":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isRegExp=void 0;const e=e=>e instanceof RegExp;exports.isRegExp=e;
},{}],"lezA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isSafari=void 0;var e=require("./is-chrome");const r=()=>"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!(0,e.isChrome)();exports.isSafari=r;
},{"./is-chrome":"mBES"}],"ZIC5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isSet=void 0;const e=e=>e instanceof Set;exports.isSet=e;
},{}],"tbvB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isSymbol=void 0;const e=e=>"symbol"==typeof e;exports.isSymbol=e;
},{}],"oYkV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isTransferable=void 0;const e=e=>e instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer||"undefined"!=typeof MessagePort&&e instanceof MessagePort;exports.isTransferable=e;
},{}],"qTek":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isTrue=void 0;const e=e=>!0===e;exports.isTrue=e;
},{}],"eCsB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isTypedArray=void 0;const r=r=>r&&(r instanceof Float32Array||r instanceof Float64Array||r instanceof Uint32Array||r instanceof Int32Array||r instanceof Uint8Array||r instanceof Int8Array||r instanceof Uint16Array||r instanceof Int16Array||r instanceof Uint8ClampedArray);exports.isTypedArray=r;
},{}],"EDM4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isUint32=void 0;const e=e=>"number"==typeof e&&e>>>0===e;exports.isUint32=e;
},{}],"qg6o":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isUndefined=void 0;const e=e=>void 0===e;exports.isUndefined=e;
},{}],"Kjht":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isUUID=void 0;const e=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,s=s=>e.test(s);exports.isUUID=s;
},{}],"pNtT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isUUIDv4=void 0;const e=/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,s=s=>e.test(s);exports.isUUIDv4=s;
},{}],"zhZp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isZero=void 0;const e=e=>0===e;exports.isZero=e;
},{}],"HctC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./exists-not-null");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./exists");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./has-bigint");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var n=require("./has-crypto");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});var u=require("./has-max-length");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});var o=require("./has-min-length");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}})});var i=require("./has-performance");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return i[e]}})});var c=require("./has-wasm");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}})});var f=require("./has-webgl");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return f[e]}})});var a=require("./has-websocket");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return a[e]}})});var s=require("./implements-function");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return s[e]}})});var l=require("./is-alphanum");Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return l[e]}})});var b=require("./is-array");Object.keys(b).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return b[e]}})});var d=require("./is-arraylike");Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return d[e]}})});var p=require("./is-ascii");Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return p[e]}})});var y=require("./is-blob");Object.keys(y).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return y[e]}})});var j=require("./is-boolean");Object.keys(j).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return j[e]}})});var _=require("./is-chrome");Object.keys(_).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return _[e]}})});var O=require("./is-data-url");Object.keys(O).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return O[e]}})});var m=require("./is-date");Object.keys(m).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return m[e]}})});var h=require("./is-even");Object.keys(h).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return h[e]}})});var g=require("./is-false");Object.keys(g).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return g[e]}})});var x=require("./is-file");Object.keys(x).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return x[e]}})});var v=require("./is-firefox");Object.keys(v).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return v[e]}})});var k=require("./is-float-string");Object.keys(k).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return k[e]}})});var M=require("./is-function");Object.keys(M).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return M[e]}})});var P=require("./is-hex");Object.keys(P).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return P[e]}})});var q=require("./is-hex-color");Object.keys(q).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return q[e]}})});var E=require("./is-ie");Object.keys(E).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return E[e]}})});var w=require("./is-in-range");Object.keys(w).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return w[e]}})});var z=require("./is-int32");Object.keys(z).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return z[e]}})});var A=require("./is-int-string");Object.keys(A).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return A[e]}})});var B=require("./is-iterable");Object.keys(B).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return B[e]}})});var C=require("./is-map");Object.keys(C).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return C[e]}})});var D=require("./is-mobile");Object.keys(D).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return D[e]}})});var F=require("./is-nan");Object.keys(F).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return F[e]}})});var G=require("./is-negative");Object.keys(G).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return G[e]}})});var H=require("./is-nil");Object.keys(H).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return H[e]}})});var I=require("./is-node");Object.keys(I).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return I[e]}})});var J=require("./is-not-string-iterable");Object.keys(J).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return J[e]}})});var K=require("./is-null");Object.keys(K).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return K[e]}})});var L=require("./is-number");Object.keys(L).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return L[e]}})});var N=require("./is-object");Object.keys(N).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return N[e]}})});var Q=require("./is-odd");Object.keys(Q).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Q[e]}})});var R=require("./is-plain-object");Object.keys(R).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return R[e]}})});var S=require("./is-positive");Object.keys(S).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return S[e]}})});var T=require("./is-primitive");Object.keys(T).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return T[e]}})});var U=require("./is-promise");Object.keys(U).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return U[e]}})});var V=require("./is-promiselike");Object.keys(V).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return V[e]}})});var W=require("./is-regexp");Object.keys(W).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return W[e]}})});var X=require("./is-safari");Object.keys(X).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return X[e]}})});var Y=require("./is-set");Object.keys(Y).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Y[e]}})});var Z=require("./is-string");Object.keys(Z).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Z[e]}})});var $=require("./is-symbol");Object.keys($).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return $[e]}})});var ee=require("./is-transferable");Object.keys(ee).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ee[e]}})});var re=require("./is-true");Object.keys(re).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return re[e]}})});var te=require("./is-typedarray");Object.keys(te).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return te[e]}})});var ne=require("./is-uint32");Object.keys(ne).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ne[e]}})});var ue=require("./is-undefined");Object.keys(ue).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ue[e]}})});var oe=require("./is-uuid");Object.keys(oe).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return oe[e]}})});var ie=require("./is-uuid4");Object.keys(ie).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ie[e]}})});var ce=require("./is-zero");Object.keys(ce).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ce[e]}})});
},{"./exists-not-null":"YVpg","./exists":"OT3r","./has-bigint":"Lnkh","./has-crypto":"SIpp","./has-max-length":"oYi2","./has-min-length":"UUpJ","./has-performance":"DR11","./has-wasm":"k7cj","./has-webgl":"FCBw","./has-websocket":"vrOu","./implements-function":"rTeG","./is-alphanum":"zOxq","./is-array":"fm3I","./is-arraylike":"Fd5S","./is-ascii":"wvL1","./is-blob":"xa2y","./is-boolean":"Acg8","./is-chrome":"mBES","./is-data-url":"WCIs","./is-date":"jz4d","./is-even":"Eop8","./is-false":"Y8RG","./is-file":"buhi","./is-firefox":"ULKw","./is-float-string":"EAwp","./is-function":"biGe","./is-hex":"VlaI","./is-hex-color":"XkcL","./is-ie":"XfVX","./is-in-range":"YbGb","./is-int32":"K6ju","./is-int-string":"XINy","./is-iterable":"ZO3u","./is-map":"H9IH","./is-mobile":"IYyo","./is-nan":"AW7h","./is-negative":"zl1Q","./is-nil":"gkbj","./is-node":"be1E","./is-not-string-iterable":"tpHU","./is-null":"zVM5","./is-number":"BYeX","./is-object":"mnS9","./is-odd":"SEVW","./is-plain-object":"S78L","./is-positive":"xy4Y","./is-primitive":"qYYB","./is-promise":"GGkB","./is-promiselike":"nGUt","./is-regexp":"CKos","./is-safari":"lezA","./is-set":"ZIC5","./is-string":"a3Af","./is-symbol":"tbvB","./is-transferable":"oYkV","./is-true":"qTek","./is-typedarray":"eCsB","./is-uint32":"EDM4","./is-undefined":"qg6o","./is-uuid":"Kjht","./is-uuid4":"pNtT","./is-zero":"zhZp"}],"UvSG":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.LogLevel=void 0,exports.LogLevel=e,function(e){e[e.FINE=0]="FINE",e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.SEVERE=4]="SEVERE",e[e.NONE=5]="NONE"}(e||(exports.LogLevel=e={}));
},{}],"BlkR":[function(require,module,exports) {
"use strict";var r,t;Object.defineProperty(exports,"__esModule",{value:!0}),exports.typedArray=p,exports.intType=exports.uintType=exports.TYPEDARRAY_CTORS=exports.SIZEOF=exports.TYPE2GL=exports.GL2TYPE=exports.GLType=exports.Type=void 0,exports.Type=r,function(r){r[r.U8=0]="U8",r[r.U8C=1]="U8C",r[r.I8=2]="I8",r[r.U16=3]="U16",r[r.I16=4]="I16",r[r.U32=5]="U32",r[r.I32=6]="I32",r[r.F32=7]="F32",r[r.F64=8]="F64"}(r||(exports.Type=r={})),exports.GLType=t,function(r){r[r.I8=5120]="I8",r[r.U8=5121]="U8",r[r.I16=5122]="I16",r[r.U16=5123]="U16",r[r.I32=5124]="I32",r[r.U32=5125]="U32",r[r.F32=5126]="F32"}(t||(exports.GLType=t={}));const U={[t.I8]:r.I8,[t.U8]:r.U8,[t.I16]:r.I16,[t.U16]:r.U16,[t.I32]:r.I32,[t.U32]:r.U32,[t.F32]:r.F32};exports.GL2TYPE=U;const I={[r.I8]:t.I8,[r.U8]:t.U8,[r.U8C]:t.U8,[r.I16]:t.I16,[r.U16]:t.U16,[r.I32]:t.I32,[r.I32]:t.I32,[r.U32]:t.U32,[r.F32]:t.F32,[r.F64]:void 0};exports.TYPE2GL=I;const e={[r.U8]:1,[r.U8C]:1,[r.I8]:1,[r.U16]:2,[r.I16]:2,[r.U32]:4,[r.I32]:4,[r.F32]:4,[r.F64]:8};exports.SIZEOF=e;const o={[r.U8]:Uint8Array,[r.U8C]:Uint8ClampedArray,[r.I8]:Int8Array,[r.U16]:Uint16Array,[r.I16]:Int16Array,[r.U32]:Uint32Array,[r.I32]:Int32Array,[r.F32]:Float32Array,[r.F64]:Float64Array,[t.U8]:Uint8Array,[t.I8]:Int8Array,[t.U16]:Uint16Array,[t.I16]:Int16Array,[t.U32]:Uint32Array,[t.I32]:Int32Array,[t.F32]:Float32Array};function p(r,...t){return new o[r](...t)}exports.TYPEDARRAY_CTORS=o;const n=t=>t<=256?r.U8:t<=65536?r.U16:r.U32;exports.uintType=n;const s=t=>t>=-128&&t<128?r.I8:t>=-32768&&t<32768?r.I16:r.I32;exports.intType=s;
},{}],"jgu4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EVENT_DISABLE=exports.EVENT_ENABLE=exports.EVENT_ALL=exports.NO_OP=exports.SEMAPHORE=exports.DEFAULT_EPS=void 0;const e=1e-6;exports.DEFAULT_EPS=1e-6;const E=Symbol();exports.SEMAPHORE=E;const s=()=>{};exports.NO_OP=s;const o="*";exports.EVENT_ALL="*";const t="enable";exports.EVENT_ENABLE="enable";const r="disable";exports.EVENT_DISABLE="disable";
},{}],"dgmA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.assert=void 0;var e=require("./constants");const o="undefined"==typeof process||"production"!==process.env.NODE_ENV||"1"===process.env.UMBRELLA_ASSERTS?(e,o="assertion failed")=>{if("function"==typeof e&&!e()||!e)throw new Error("function"==typeof o?o():o)}:e.NO_OP;exports.assert=o;
},{"./constants":"jgu4"}],"pZMv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.exposeGlobal=void 0;const e=(e,o,s=!1)=>{const n="undefined"!=typeof global?global:"undefined"!=typeof window?window:void 0;n&&(s||"undefined"==typeof process||"production"!==process.env.NODE_ENV||"1"===process.env.UMBRELLA_ASSERTS)&&(n[e]=o)};exports.exposeGlobal=e;
},{}],"gVIR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ConsoleLogger=exports.NULL_LOGGER=void 0;var e=require("./api/logger");const o=Object.freeze({level:e.LogLevel.NONE,fine(){},debug(){},info(){},warn(){},severe(){}});exports.NULL_LOGGER=o;class l{constructor(o,l=e.LogLevel.FINE){this.id=o,this.level=l}fine(...o){this.level<=e.LogLevel.FINE&&this.log("FINE",o)}debug(...o){this.level<=e.LogLevel.DEBUG&&this.log("DEBUG",o)}info(...o){this.level<=e.LogLevel.INFO&&this.log("INFO",o)}warn(...o){this.level<=e.LogLevel.WARN&&this.log("WARN",o)}severe(...o){this.level<=e.LogLevel.SEVERE&&this.log("SEVERE",o)}log(e,o){console.log(`[${e}] ${this.id}:`,...o)}}exports.ConsoleLogger=l;
},{"./api/logger":"UvSG"}],"lpSI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mixin=void 0;const e=(e,t={})=>{const o=Reflect.ownKeys(e),r=Reflect.ownKeys(t),n=Symbol("isa");function p(t){for(let r of o){const o=Object.getOwnPropertyDescriptor(t.prototype,r);!o||o.configurable?Object.defineProperty(t.prototype,r,{value:e[r],writable:!0}):console.log(`not patching: ${t.name}.${r.toString()}`)}return Object.defineProperty(t.prototype,n,{value:!0}),t}for(let c of r)Object.defineProperty(p,c,{value:t[c],enumerable:t.propertyIsEnumerable(c)});return Object.defineProperty(p,Symbol.hasInstance,{value:e=>!!e[n]}),p};exports.mixin=e;
},{}],"YDID":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.configurable=void 0;const e=e=>(function(o,r,t){t.configurable=e});exports.configurable=e;
},{}],"F8cC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.deprecated=void 0;var e=require("../assert");const t=(t,o=console.log)=>(function(r,n,s){const c=`${r.constructor.name}#${n.toString()}`,u=s.value;return(0,e.assert)("function"==typeof u,`${c} is not a function`),s.value=function(){return o(`DEPRECATED ${c}: ${t||"will be removed soon"}`),u.apply(this,arguments)},s});exports.deprecated=t;
},{"../assert":"dgmA"}],"g1OR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.nomixin=void 0;const e=(e,o,i)=>{i.configurable=!1};exports.nomixin=e;
},{}],"jcUa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sealed=void 0;const e=e=>{Object.seal(e),Object.seal(e.prototype)};exports.sealed=e;
},{}],"NStT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.IEnableMixin=void 0;var e=require("../constants"),i=require("../mixin");const t=(0,i.mixin)({_enabled:!0,isEnabled(){return this._enabled},enable(){this._enabled=!0,this.notify&&this.notify({id:e.EVENT_ENABLE,target:this})},disable(){this._enabled=!1,this.notify&&this.notify({id:e.EVENT_DISABLE,target:this})},toggle(){return this._enabled?this.disable():this.enable(),this._enabled}});exports.IEnableMixin=t;
},{"../constants":"jgu4","../mixin":"lpSI"}],"Bgy8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.INotifyMixin=exports.inotify_dispatch=void 0;var e=require("../constants"),t=require("../mixin");const i=(e,t)=>{if(e)for(let i,r=0,s=e.length;r<s;r++)if((i=e[r])[0].call(i[1],t),t.canceled)return};exports.inotify_dispatch=i;const r=(0,t.mixin)({addListener(e,t,i){let r=(this._listeners=this._listeners||{})[e];return!r&&(r=this._listeners[e]=[]),-1===this.__listener(r,t,i)&&(r.push([t,i]),!0)},removeListener(e,t,i){let r;if(!(r=this._listeners))return!1;const s=r[e];if(s){const n=this.__listener(s,t,i);if(-1!==n)return s.splice(n,1),!s.length&&delete r[e],!0}return!1},notify(t){let r;if(!(r=this._listeners))return!1;void 0===t.target&&(t.target=this),i(r[t.id],t),i(r[e.EVENT_ALL],t)},__listener(e,t,i){let r=e.length;for(;--r>=0;){const s=e[r];if(s[0]===t&&s[1]===i)break}return r}});exports.INotifyMixin=r;
},{"../constants":"jgu4","../mixin":"lpSI"}],"pkQO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.iterable=void 0;var e=require("../mixin");const i=i=>(0,e.mixin)({*[Symbol.iterator](){yield*this[i]}});exports.iterable=i;
},{"../mixin":"lpSI"}],"iE2i":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.IWatchMixin=void 0;var t=require("../mixin");const e=(0,t.mixin)({addWatch(t,e){return this._watches=this._watches||{},!this._watches[t]&&(this._watches[t]=e,!0)},removeWatch(t){if(this._watches)return!!this._watches[t]&&(delete this._watches[t],!0)},notifyWatches(t,e){if(!this._watches)return;const s=this._watches;for(let i in s)s[i](i,t,e)}});exports.IWatchMixin=e;
},{"../mixin":"lpSI"}],"AsNk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./api/logger");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./api/typedarray");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./assert");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var n=require("./constants");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});var u=require("./expose");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});var o=require("./logger");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}})});var c=require("./mixin");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}})});var i=require("./decorators/configurable");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return i[e]}})});var f=require("./decorators/deprecated");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return f[e]}})});var a=require("./decorators/nomixin");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return a[e]}})});var s=require("./decorators/sealed");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return s[e]}})});var d=require("./mixins/ienable");Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return d[e]}})});var l=require("./mixins/inotify");Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return l[e]}})});var b=require("./mixins/iterable");Object.keys(b).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return b[e]}})});var p=require("./mixins/iwatch");Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return p[e]}})});
},{"./api/logger":"UvSG","./api/typedarray":"BlkR","./assert":"dgmA","./constants":"jgu4","./expose":"pZMv","./logger":"gVIR","./mixin":"lpSI","./decorators/configurable":"YDID","./decorators/deprecated":"F8cC","./decorators/nomixin":"g1OR","./decorators/sealed":"jcUa","./mixins/ienable":"NStT","./mixins/inotify":"Bgy8","./mixins/iterable":"pkQO","./mixins/iwatch":"iE2i"}],"q5sT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.setLogger=exports.LOGGER=exports.CloseMode=exports.State=void 0;var e,t,o=require("@thi.ng/api");exports.State=e,function(e){e[e.IDLE=0]="IDLE",e[e.ACTIVE=1]="ACTIVE",e[e.DONE=2]="DONE",e[e.ERROR=3]="ERROR",e[e.DISABLED=4]="DISABLED"}(e||(exports.State=e={})),exports.CloseMode=t,function(e){e[e.NEVER=0]="NEVER",e[e.FIRST=1]="FIRST",e[e.LAST=2]="LAST"}(t||(exports.CloseMode=t={}));let s=o.NULL_LOGGER;exports.LOGGER=s;const r=e=>exports.LOGGER=s=e;exports.setLogger=r;
},{"@thi.ng/api":"AsNk"}],"CPq6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ensureTransducer=void 0;var e=require("@thi.ng/checks");const r=r=>(0,e.implementsFunction)(r,"xform")?r.xform():r;exports.ensureTransducer=r;
},{"@thi.ng/checks":"HctC"}],"wmkI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.unreduced=exports.ensureReduced=exports.isReduced=exports.reduced=exports.Reduced=void 0;class e{constructor(e){this.value=e}deref(){return this.value}}exports.Reduced=e;const s=s=>new e(s);exports.reduced=s;const t=s=>s instanceof e;exports.isReduced=t;const r=s=>s instanceof e?s:new e(s);exports.ensureReduced=r;const d=s=>s instanceof e?s.deref():s;exports.unreduced=d;
},{}],"JaIy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defError=void 0;const r=(r,e=(r=>void 0!==r?": "+r:""))=>(class extends Error{constructor(o){super(r(o)+e(o))}});exports.defError=r;
},{}],"TWhV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.illegalArgs=exports.IllegalArgumentError=void 0;var r=require("./deferror");const e=(0,r.defError)(()=>"illegal argument(s)");exports.IllegalArgumentError=e;const l=r=>{throw new e(r)};exports.illegalArgs=l;
},{"./deferror":"JaIy"}],"HmRg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.illegalArity=exports.IllegalArityError=void 0;var r=require("./deferror");const e=(0,r.defError)(()=>"illegal arity");exports.IllegalArityError=e;const l=r=>{throw new e(r)};exports.illegalArity=l;
},{"./deferror":"JaIy"}],"MJqy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.illegalState=exports.IllegalStateError=void 0;var e=require("./deferror");const r=(0,e.defError)(()=>"illegal state");exports.IllegalStateError=r;const t=e=>{throw new r(e)};exports.illegalState=t;
},{"./deferror":"JaIy"}],"gSco":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.unsupported=exports.UnsupportedOperationError=void 0;var r=require("./deferror");const e=(0,r.defError)(()=>"unsupported operation");exports.UnsupportedOperationError=e;const o=r=>{throw new e(r)};exports.unsupported=o;
},{"./deferror":"JaIy"}],"Qv5j":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./deferror");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./illegal-arguments");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./illegal-arity");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var u=require("./illegal-state");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});var n=require("./unsupported");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});
},{"./deferror":"JaIy","./illegal-arguments":"TWhV","./illegal-arity":"HmRg","./illegal-state":"MJqy","./unsupported":"gSco"}],"hay8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.reduce=u,exports.$$reduce=exports.reducer=void 0;var e=require("@thi.ng/checks"),r=require("@thi.ng/errors"),t=require("./reduced");const n=e=>2===e.length?[void 0,e[1]]:3===e.length?[e[1],e[2]]:(0,r.illegalArity)(e.length);function u(...r){const u=r[0],d=u[0],o=u[1],s=u[2],l=null==(r=n(r))[0]?d():r[0],p=r[1];return(0,t.unreduced)(o((0,e.implementsFunction)(p,"$reduce")?p.$reduce(s,l):(0,e.isArrayLike)(p)?c(s,l,p):i(s,l,p)))}const c=(e,r,n)=>{for(let u=0,c=n.length;u<c;u++)if(r=e(r,n[u]),(0,t.isReduced)(r)){r=r.deref();break}return r},i=(e,r,n)=>{for(let u of n)if(r=e(r,u),(0,t.isReduced)(r)){r=r.deref();break}return r},d=(e,r)=>[e,e=>e,r];exports.reducer=d;const o=(r,t)=>{const n=t.length-1;return(0,e.isIterable)(t[n])?t.length>1?u(r.apply(null,t.slice(0,n)),t[n]):u(r(),t[0]):void 0};exports.$$reduce=o;
},{"@thi.ng/checks":"HctC","@thi.ng/errors":"Qv5j","./reduced":"wmkI"}],"xJML":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.push=r;var e=require("../reduce");function r(r){return r?[...r]:(0,e.reducer)(()=>[],(e,r)=>(e.push(r),e))}
},{"../reduce":"hay8"}],"FSoq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.iterator=u,exports.iterator1=d,exports.$iter=void 0;var e=require("@thi.ng/api"),r=require("@thi.ng/checks"),t=require("./internal/ensure"),i=require("./reduced"),n=require("./rfn/push");function*u(e,r){const u=(0,t.ensureTransducer)(e)((0,n.push)()),d=u[1],s=u[2];for(let t of r){const e=s([],t);if((0,i.isReduced)(e))return void(yield*(0,i.unreduced)(d(e.deref())));e.length&&(yield*e)}yield*(0,i.unreduced)(d([]))}function*d(r,n){const u=(0,t.ensureTransducer)(r)([e.NO_OP,e.NO_OP,(e,r)=>r])[2];for(let t of n){let r=u(e.SEMAPHORE,t);if((0,i.isReduced)(r))return void((r=(0,i.unreduced)(r.deref()))!==e.SEMAPHORE&&(yield r));r!==e.SEMAPHORE&&(yield r)}}const s=(e,t,i=d)=>{const n=t.length-1;return(0,r.isIterable)(t[n])?t.length>1?i(e.apply(null,t.slice(0,n)),t[n]):i(e(),t[0]):void 0};exports.$iter=s;
},{"@thi.ng/api":"AsNk","@thi.ng/checks":"HctC","./internal/ensure":"CPq6","./reduced":"wmkI","./rfn/push":"xJML"}],"ZoN0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.compR=void 0;const e=(e,o)=>[e[0],e[1],o];exports.compR=e;
},{}],"fBkP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.map=t;var r=require("../func/compr"),e=require("../iterator");function t(o,u){return u?(0,e.iterator1)(t(o),u):e=>{const t=e[2];return(0,r.compR)(e,(r,e)=>t(r,o(e)))}}
},{"../func/compr":"ZoN0","../iterator":"FSoq"}],"O6O3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.transduce=a;var e=require("@thi.ng/errors"),r=require("./internal/ensure"),t=require("./reduce"),u=require("./xform/map");function a(...n){let s,i;switch(n.length){case 4:i=n[3],s=n[2];break;case 3:i=n[2];break;case 2:return(0,u.map)(e=>a(n[0],n[1],e));default:(0,e.illegalArity)(n.length)}return(0,t.reduce)((0,r.ensureTransducer)(n[0])(n[1]),s,i)}
},{"@thi.ng/errors":"Qv5j","./internal/ensure":"CPq6","./reduce":"hay8","./xform/map":"fBkP"}],"TrOB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.run=n;var e=require("@thi.ng/api"),r=require("./transduce");const t=[e.NO_OP,e.NO_OP,e.NO_OP];function n(n,...s){if(1===s.length)(0,r.transduce)(n,t,s[0]);else{const t=s[0];(0,r.transduce)(n,[e.NO_OP,e.NO_OP,(e,r)=>t(r)],s[1])}}
},{"@thi.ng/api":"AsNk","./transduce":"O6O3"}],"KHPz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.step=void 0;var e=require("./internal/ensure"),r=require("./reduced"),t=require("./rfn/push");const s=s=>{const{1:u,2:n}=(0,e.ensureTransducer)(s)((0,t.push)());let d=!1;return e=>{if(!d){let t=n([],e);return(d=(0,r.isReduced)(t))&&(t=u(t.deref())),1===t.length?t[0]:t.length>0?t:void 0}}};exports.step=s;
},{"./internal/ensure":"CPq6","./reduced":"wmkI","./rfn/push":"xJML"}],"kdWN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.__mathop=void 0;var e=require("../reduce");const r=(r,t,o,s)=>{const u=(0,e.$$reduce)(r,s);if(void 0!==u)return u;const c=s[0]||o;return(0,e.reducer)(()=>c,t)};exports.__mathop=r;
},{"../reduce":"hay8"}],"DNzN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.add=r;var e=require("../internal/mathop");function r(...t){return(0,e.__mathop)(r,(e,r)=>e+r,0,t)}
},{"../internal/mathop":"kdWN"}],"e0Ul":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.assocMap=r;var e=require("../reduce");function r(t){return t?(0,e.reduce)(r(),t):(0,e.reducer)(()=>new Map,(e,[r,t])=>e.set(r,t))}
},{"../reduce":"hay8"}],"TDT0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.assocObj=r;var e=require("../reduce");function r(u){return u?(0,e.reduce)(r(),u):(0,e.reducer)(()=>({}),(e,[r,u])=>(e[r]=u,e))}
},{"../reduce":"hay8"}],"JlsD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.conj=r;var e=require("../reduce");function r(t){return t?(0,e.reduce)(r(),t):(0,e.reducer)(()=>new Set,(e,r)=>e.add(r))}
},{"../reduce":"hay8"}],"n9G6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.count=r;var e=require("../reduce");function r(...t){const u=(0,e.$$reduce)(r,t);if(void 0!==u)return u;let c=t[0]||0,o=t[1]||1;return(0,e.reducer)(()=>c,(e,r)=>e+o)}
},{"../reduce":"hay8"}],"plMW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.div=r;var e=require("../reduce");function r(u,t){return t?(0,e.reduce)(r(u),t):(0,e.reducer)(()=>u,(e,r)=>e/r)}
},{"../reduce":"hay8"}],"eUq5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.every=u;var e=require("../reduce"),r=require("../reduced");function u(...d){const c=(0,e.$$reduce)(u,d);if(void 0!==c)return c;const t=d[0];return(0,e.reducer)(()=>!0,t?(e,u)=>t(u)?e:(0,r.reduced)(!1):(e,u)=>u?e:(0,r.reduced)(!1))}
},{"../reduce":"hay8","../reduced":"wmkI"}],"kAV5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fill=r,exports.fillN=t;var e=require("../reduce");function r(...t){const u=(0,e.$$reduce)(r,t);if(void 0!==u)return u;let i=t[0]||0;return(0,e.reducer)(()=>[],(e,r)=>(e[i++]=r,e))}function t(...e){return r(...e)}
},{"../reduce":"hay8"}],"aB8a":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.comp=r,exports.compL=t,exports.compI=void 0;var e=require("@thi.ng/errors");function r(...t){let[s,c,n,u,o,a,l,p,i,x]=t;switch(t.length){case 0:(0,e.illegalArity)(0);case 1:return s;case 2:return(...e)=>s(c(...e));case 3:return(...e)=>s(c(n(...e)));case 4:return(...e)=>s(c(n(u(...e))));case 5:return(...e)=>s(c(n(u(o(...e)))));case 6:return(...e)=>s(c(n(u(o(a(...e))))));case 7:return(...e)=>s(c(n(u(o(a(l(...e)))))));case 8:return(...e)=>s(c(n(u(o(a(l(p(...e))))))));case 9:return(...e)=>s(c(n(u(o(a(l(p(i(...e)))))))));case 10:default:const d=(...e)=>s(c(n(u(o(a(l(p(i(x(...e))))))))));return 10===t.length?d:r(d,...t.slice(10))}}function t(...e){return r.apply(null,e.reverse())}const s=t;exports.compI=s;
},{"@thi.ng/errors":"Qv5j"}],"sYrC":[function(require,module,exports) {
"use strict";function e(e){return(...t)=>!e(...t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.complement=e;
},{}],"JDYT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.constantly=void 0;const t=t=>()=>t;exports.constantly=t;
},{}],"eLV0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Delay=exports.delay=void 0;const e=e=>new t(e);exports.delay=e;class t{constructor(e){this.body=e,this.realized=!1}deref(){return this.realized||(this.value=this.body(),this.realized=!0),this.value}isRealized(){return this.realized}}exports.Delay=t;
},{}],"I5Cp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.delayed=void 0;const e=(e,t)=>new Promise(o=>setTimeout(()=>o(e),t));exports.delayed=e;
},{}],"QG59":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.identity=void 0;const e=e=>e;exports.identity=e;
},{}],"sz08":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ifDef=void 0;const e=(e,o)=>null!=o?e(o):void 0;exports.ifDef=e;
},{}],"ShiN":[function(require,module,exports) {
"use strict";function e(...e){const[r,t,n,u,s,c,a,l]=e;switch(e.length){case 1:return e=>[r(e)];case 2:return e=>[r(e),t(e)];case 3:return e=>[r(e),t(e),n(e)];case 4:return e=>[r(e),t(e),n(e),u(e)];case 5:return e=>[r(e),t(e),n(e),u(e),s(e)];case 6:return e=>[r(e),t(e),n(e),u(e),s(e),c(e)];case 7:return e=>[r(e),t(e),n(e),u(e),s(e),c(e),a(e)];case 8:return e=>[r(e),t(e),n(e),u(e),s(e),c(e),a(e),l(e)];default:return r=>{let t=new Array(e.length);for(let n=e.length;--n>=0;)t[n]=e[n](r);return t}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.juxt=e;
},{}],"waBt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.partial=r;var e=require("@thi.ng/errors");function r(r,...t){let[s,a,u,n,c,l,i,o]=t;switch(t.length){case 1:return(...e)=>r(s,...e);case 2:return(...e)=>r(s,a,...e);case 3:return(...e)=>r(s,a,u,...e);case 4:return(...e)=>r(s,a,u,n,...e);case 5:return(...e)=>r(s,a,u,n,c,...e);case 6:return(...e)=>r(s,a,u,n,c,l,...e);case 7:return(...e)=>r(s,a,u,n,c,l,i,...e);case 8:return(...e)=>r(s,a,u,n,c,l,i,o,...e);default:(0,e.illegalArgs)()}}
},{"@thi.ng/errors":"Qv5j"}],"EJOL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.promisify=void 0;const e=e=>new Promise((o,s)=>e((e,r)=>null!=e?s(e):o(r)));exports.promisify=e;
},{}],"LUk0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.threadFirst=void 0;const e=(e,...t)=>t.reduce((e,t)=>"function"==typeof t?t(e):t[0](e,...t.slice(1)),e);exports.threadFirst=e;
},{}],"maEh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.threadLast=void 0;const e=(e,...t)=>t.reduce((e,t)=>"function"==typeof t?t(e):t[0](...t.slice(1),e),e);exports.threadLast=e;
},{}],"P7Af":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.trampoline=void 0;const e=e=>{for(;"function"==typeof e;)e=e();return e};exports.trampoline=e;
},{}],"PMVb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./comp");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./complement");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./constantly");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var n=require("./delay");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});var u=require("./delayed");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});var o=require("./identity");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}})});var c=require("./ifdef");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}})});var f=require("./juxt");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return f[e]}})});var a=require("./partial");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return a[e]}})});var i=require("./promisify");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return i[e]}})});var d=require("./thread-first");Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return d[e]}})});var l=require("./thread-last");Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return l[e]}})});var s=require("./trampoline");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return s[e]}})});
},{"./comp":"aB8a","./complement":"sYrC","./constantly":"JDYT","./delay":"eLV0","./delayed":"I5Cp","./identity":"QG59","./ifdef":"sz08","./juxt":"ShiN","./partial":"waBt","./promisify":"EJOL","./thread-first":"LUk0","./thread-last":"maEh","./trampoline":"P7Af"}],"dDKf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.__groupByOpts=void 0;var e=require("@thi.ng/compose"),r=require("../rfn/push");const s=s=>Object.assign({key:e.identity,group:(0,r.push)()},s);exports.__groupByOpts=s;
},{"@thi.ng/compose":"PMVb","../rfn/push":"xJML"}],"u4d5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.groupByMap=t;var e=require("../internal/group-opts"),r=require("../reduce");function t(...o){const u=(0,r.$$reduce)(t,o);if(void 0!==u)return u;const s=(0,e.__groupByOpts)(o[0]),[n,p,c]=s.group;return[()=>new Map,e=>{for(let r of e.keys())e.set(r,p(e.get(r)));return e},(e,r)=>{const t=s.key(r);return e.set(t,e.has(t)?c(e.get(t),r):c(n(),r))}]}
},{"../internal/group-opts":"dDKf","../reduce":"hay8"}],"Ik92":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.frequencies=o;var e=require("@thi.ng/compose"),r=require("../reduce"),u=require("./count"),t=require("./group-by-map");function o(...i){return(0,r.$$reduce)(o,i)||(0,t.groupByMap)({key:i[0]||e.identity,group:(0,u.count)()})}
},{"@thi.ng/compose":"PMVb","../reduce":"hay8","./count":"n9G6","./group-by-map":"u4d5"}],"KupN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.groupByObj=t;var r=require("../internal/group-opts"),e=require("../reduce");function t(...u){const o=(0,e.$$reduce)(t,u);if(o)return o;const n=(0,r.__groupByOpts)(u[0]),[s,p,c]=n.group;return[()=>({}),r=>{for(let e in r)r[e]=p(r[e]);return r},(r,e)=>{const t=n.key(e);return r[t]=r[t]?c(r[t],e):c(s(),e),r}]}
},{"../internal/group-opts":"dDKf","../reduce":"hay8"}],"zZIj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.groupBinary=void 0;var r=require("./group-by-obj"),e=require("./push");const o=(r,e,o,u)=>p=>r(p)&e?u:o,u=(u,p,t,s,y="l",g="r")=>{const i=t||(()=>({}));let n=(0,r.groupByObj)({key:o(p,1,y,g),group:s||(0,e.push)()});for(let e=2,b=1<<u;e<b;e<<=1)n=(0,r.groupByObj)({key:o(p,e,y,g),group:[i,n[1],n[2]]});return[i,n[1],n[2]]};exports.groupBinary=u;
},{"./group-by-obj":"KupN","./push":"xJML"}],"pFJf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.last=t;var e=require("@thi.ng/api"),r=require("../reduce");function t(u){return u?(0,r.reduce)(t(),u):(0,r.reducer)(e.NO_OP,(e,r)=>r)}
},{"@thi.ng/api":"AsNk","../reduce":"hay8"}],"OQp8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.compare=void 0;const e=(e,o)=>e===o?0:null==e?null==o?0:-1:null==o?null==e?0:1:"function"==typeof e.compare?e.compare(o):"function"==typeof o.compare?-o.compare(e):e<o?-1:e>o?1:0;exports.compare=e;
},{}],"sCfq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.compareByKey=o,exports.compareByKeys2=t,exports.compareByKeys3=c,exports.compareByKeys4=n;var e=require("./compare");const r=e=>"function"==typeof e?e:r=>r[e];function o(o,t=e.compare){const c=r(o);return(e,r)=>t(c(e),c(r))}function t(o,t,c=e.compare,n=e.compare){const p=r(o),a=r(t);return(e,r)=>{let o=c(p(e),p(r));return 0===o?n(a(e),a(r)):o}}function c(o,t,c,n=e.compare,p=e.compare,a=e.compare){const s=r(o),u=r(t),m=r(c);return(e,r)=>{let o=n(s(e),s(r));return 0===o&&0===(o=p(u(e),u(r)))?a(m(e),m(r)):o}}function n(o,t,c,n,p=e.compare,a=e.compare,s=e.compare,u=e.compare){const m=r(o),y=r(t),i=r(c),f=r(n);return(e,r)=>{let o=p(m(e),m(r));return 0===o&&0===(o=a(y(e),y(r)))&&0===(o=s(i(e),i(r)))?u(f(e),f(r)):o}}
},{"./compare":"OQp8"}],"xQQc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.compareNumDesc=exports.compareNumAsc=void 0;const e=(e,o)=>e-o;exports.compareNumAsc=e;const o=(e,o)=>o-e;exports.compareNumDesc=o;
},{}],"ofQw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.reverse=void 0;const e=e=>(r,s)=>-e(r,s);exports.reverse=e;
},{}],"kNRw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./compare");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./keys");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./numeric");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var u=require("./reverse");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});
},{"./compare":"OQp8","./keys":"sCfq","./numeric":"xQQc","./reverse":"ofQw"}],"eOls":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.maxCompare=t;var e=require("@thi.ng/compare"),r=require("../reduce");function t(...o){const u=(0,r.$$reduce)(t,o);if(void 0!==u)return u;const c=o[0],i=o[1]||e.compare;return(0,r.reducer)(c,(e,r)=>i(e,r)>=0?e:r)}
},{"@thi.ng/compare":"kNRw","../reduce":"hay8"}],"LAGn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.max=r;var e=require("../reduce");function r(t){return t?(0,e.reduce)(r(),t):(0,e.reducer)(()=>-1/0,(e,r)=>Math.max(e,r))}
},{"../reduce":"hay8"}],"R84Q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mean=r;var e=require("../reduce");function r(t){let u=1;return t?(0,e.reduce)(r(),t):[()=>u=0,e=>u>1?e/u:e,(e,r)=>(u++,e+r)]}
},{"../reduce":"hay8"}],"OrDh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.minCompare=t;var e=require("@thi.ng/compare"),r=require("../reduce");function t(...o){const u=(0,r.$$reduce)(t,o);if(void 0!==u)return u;const c=o[0],i=o[1]||e.compare;return(0,r.reducer)(c,(e,r)=>i(e,r)<=0?e:r)}
},{"@thi.ng/compare":"kNRw","../reduce":"hay8"}],"aZ1b":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.min=r;var e=require("../reduce");function r(t){return t?(0,e.reduce)(r(),t):(0,e.reducer)(()=>1/0,(e,r)=>Math.min(e,r))}
},{"../reduce":"hay8"}],"cwhU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mul=r;var e=require("../internal/mathop");function r(...t){return(0,e.__mathop)(r,(e,r)=>e*r,1,t)}
},{"../internal/mathop":"kdWN"}],"nd4j":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pushCopy=void 0;var e=require("../reduce");const r=()=>(0,e.reducer)(()=>[],(e,r)=>((e=e.slice()).push(r),e));exports.pushCopy=r;
},{"../reduce":"hay8"}],"L1zx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pushSort=r;var e=require("@thi.ng/compare");function r(r=e.compare,t){return t?[...t].sort(r):[()=>[],e=>e.sort(r),(e,r)=>(e.push(r),e)]}
},{"@thi.ng/compare":"kNRw"}],"vhuO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.reductions=u;var e=require("../reduce"),r=require("../reduced");function u(t,d){const[c,n,s]=t;return d?(0,e.reduce)(u(t),d):[()=>[c()],e=>(e[e.length-1]=n(e[e.length-1]),e),(e,u)=>{const t=s(e[e.length-1],u);return(0,r.isReduced)(t)?(e.push(t.deref()),(0,r.reduced)(e)):(e.push(t),e)}]}
},{"../reduce":"hay8","../reduced":"wmkI"}],"BWxf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.some=u;var e=require("../reduce"),r=require("../reduced");function u(...d){const c=(0,e.$$reduce)(u,d);if(void 0!==c)return c;const t=d[0];return(0,e.reducer)(()=>!1,t?(e,u)=>t(u)?(0,r.reduced)(!0):e:(e,u)=>u?(0,r.reduced)(!0):e)}
},{"../reduce":"hay8","../reduced":"wmkI"}],"OHsj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.str=r;var e=require("../reduce");function r(r,t){r=r||"";let u=!0;return t?[...t].join(r):(0,e.reducer)(()=>"",(e,t)=>(e=u?e+t:e+r+t,u=!1,e))}
},{"../reduce":"hay8"}],"bWaZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sub=r;var e=require("../internal/mathop");function r(...t){return(0,e.__mathop)(r,(e,r)=>e-r,0,t)}
},{"../internal/mathop":"kdWN"}],"TeGF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.benchmark=t;var e=require("../func/compr"),r=require("../iterator");function t(o){return o?(0,r.iterator1)(t(),o):r=>{const t=r[2];let o=Date.now();return(0,e.compR)(r,(e,r)=>{const n=Date.now(),u=n-o;return o=n,t(e,u)})}}
},{"../func/compr":"ZoN0","../iterator":"FSoq"}],"XFQx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.cat=void 0;var e=require("../func/compr"),r=require("../reduced");const u=()=>u=>{const c=u[2];return(0,e.compR)(u,(e,u)=>{if(u)for(let t of(0,r.unreduced)(u))if(e=c(e,t),(0,r.isReduced)(e))break;return(0,r.isReduced)(u)?(0,r.ensureReduced)(e):e})};exports.cat=u;
},{"../func/compr":"ZoN0","../reduced":"wmkI"}],"DdWQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.converge=i;var e=require("@thi.ng/api"),r=require("../func/compr"),t=require("../iterator"),u=require("../reduced");function i(...c){return(0,t.$iter)(i,c)||(t=>{const i=t[2],n=c[0];let o=e.SEMAPHORE,s=!1;return(0,r.compR)(t,(r,t)=>s||o!==e.SEMAPHORE&&n(o,t)?(s=!0,(0,u.ensureReduced)(i(r,t))):(o=t,i(r,t)))})}
},{"@thi.ng/api":"AsNk","../func/compr":"ZoN0","../iterator":"FSoq","../reduced":"wmkI"}],"ndcf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.range=t,exports.Range=void 0;var e=require("../reduced");function t(e,t,o){return new s(e,t,o)}class s{constructor(e,t,s){void 0===e?(e=0,t=1/0):void 0===t&&(t=e,e=0),s=void 0===s?e<t?1:-1:s,this.from=e,this.to=t,this.step=s}*[Symbol.iterator](){const e=this.step,t=this.to;let s=this.from;if(e>0)for(;s<t;)yield s,s+=e;else if(e<0)for(;s>t;)yield s,s+=e}$reduce(t,s){const o=this.step;if(o>0)for(let r=this.from,i=this.to;r<i&&!(0,e.isReduced)(s);r+=o)s=t(s,r);else for(let r=this.from,i=this.to;r>i&&!(0,e.isReduced)(s);r+=o)s=t(s,r);return s}}exports.Range=s;
},{"../reduced":"wmkI"}],"xkJV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.range2d=t;var e=require("@thi.ng/errors"),r=require("./range");function*t(...t){let a,l,n,o,s,i;switch(t.length){case 6:n=t[4],i=t[5];case 4:[a,l,o,s]=t;break;case 2:[l,s]=t,a=o=0;break;default:(0,e.illegalArity)(t.length)}const c=(0,r.range)(a,l,n);for(let e of(0,r.range)(o,s,i))for(let r of c)yield[r,e]}
},{"@thi.ng/errors":"Qv5j","./range":"ndcf"}],"rJmY":[function(require,module,exports) {
"use strict";function*e(...e){const t=e.map(e=>e[Symbol.iterator]());for(;;){const e=[];for(let o of t){let t=o.next();if(t.done)return;e.push(t.value)}yield e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.zip=e;
},{}],"eq8Y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.convolve1d=h,exports.convolve2d=g,exports.buildKernel2d=exports.buildKernel1d=void 0;var e=require("@thi.ng/errors"),r=require("../iter/range"),t=require("../iter/range2d"),i=require("../iter/zip"),n=require("../iterator"),d=require("../rfn/add"),o=require("../transduce"),u=require("./map");const s=(e,t)=>{const n=t>>1;return[...(0,i.zip)(e,(0,r.range)(-n,n+1))]};exports.buildKernel1d=s;const a=(e,r,n=r)=>{const d=r>>1,o=n>>1;return[...(0,i.zip)(e,(0,t.range2d)(-d,d+1,-o,o+1))]};exports.buildKernel2d=a;const c=(e,r,t,i,n)=>i?({0:i,1:n})=>{return i*e[r<-n?t+n:r>=t-n?n-1:r+n]}:({0:i,1:d})=>r<-d||r>=t-d?n:i*e[r+d],l=(e,r,t,i,n,d,o)=>d?({0:d,1:{0:o,1:u}})=>{return d*e[(t<-u?n+u:t>=n-u?u-1:t+u)*i+(r<-o?i+o:r>=i-o?o-1:r+o)]}:({0:d,1:{0:u,1:s}})=>r<-u||t<-s||r>=i-u||t>=n-s?o:d*e[(t+s)*i+r+u],p=()=>(0,e.illegalArgs)("no kernel or kernel config");function h(e,r){if(r)return(0,n.iterator1)(h(e),r);const{src:t,width:i}=e,a=!1!==e.wrap,l=e.border||0,g=e.reduce||d.add;let w=e.kernel;return w||((!e.weights||!e.kwidth)&&p(),w=s(e.weights,e.kwidth)),(0,u.map)(e=>(0,o.transduce)((0,u.map)(c(t,e,i,a,l)),g(),w))}function g(e,r){if(r)return(0,n.iterator1)(g(e),r);const{src:t,width:i,height:s}=e,c=!1!==e.wrap,h=e.border||0,w=e.reduce||d.add;let k=e.kernel;return k||(!(e.weights&&e.kwidth&&e.kheight)&&p(),k=a(e.weights,e.kwidth,e.kheight)),(0,u.map)(e=>(0,o.transduce)((0,u.map)(l(t,e[0],e[1],i,s,c,h)),w(),k))}
},{"@thi.ng/errors":"Qv5j","../iter/range":"ndcf","../iter/range2d":"xkJV","../iter/zip":"rJmY","../iterator":"FSoq","../rfn/add":"DNzN","../transduce":"O6O3","./map":"fBkP"}],"tm7A":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.dedupe=u;var e=require("@thi.ng/api"),r=require("../func/compr"),t=require("../iterator");function u(...i){return(0,t.$iter)(u,i)||(t=>{const u=t[2],o=i[0];let n=e.SEMAPHORE;return(0,r.compR)(t,o?(r,t)=>(r=n!==e.SEMAPHORE&&o(n,t)?r:u(r,t),n=t,r):(e,r)=>(e=n===r?e:u(e,r),n=r,e))})}
},{"@thi.ng/api":"AsNk","../func/compr":"ZoN0","../iterator":"FSoq"}],"pCRw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.delayed=void 0;var e=require("@thi.ng/compose"),r=require("./map");const d=d=>(0,r.map)(r=>(0,e.delayed)(r,d));exports.delayed=d;
},{"@thi.ng/compose":"PMVb","./map":"fBkP"}],"bj39":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.distinct=t;var e=require("../func/compr"),r=require("../iterator");function t(...c){return(0,r.$iter)(t,c)||(r=>{const t=r[2],n=c[0]||{},o=n.key,s=(n.cache||(()=>new Set))();return(0,e.compR)(r,o?(e,r)=>{const c=o(r);return s.has(c)?e:(s.add(c),t(e,r))}:(e,r)=>s.has(r)?e:(s.add(r),t(e,r)))})}
},{"../func/compr":"ZoN0","../iterator":"FSoq"}],"dKhC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.throttle=t;var r=require("../func/compr"),e=require("../iterator");function t(o,u){return u?(0,e.iterator1)(t(o),u):e=>{const t=e[2],u=o();return(0,r.compR)(e,(r,e)=>u(e)?t(r,e):r)}}
},{"../func/compr":"ZoN0","../iterator":"FSoq"}],"ao7H":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.dropNth=r;var t=require("../iterator"),e=require("./throttle");function r(o,u){return u?(0,t.iterator1)(r(o),u):(o=Math.max(0,o-1),(0,e.throttle)(()=>{let t=o;return()=>t-- >0||(t=o,!1)}))}
},{"../iterator":"FSoq","./throttle":"dKhC"}],"hQVd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.dropWhile=t;var e=require("../func/compr"),r=require("../iterator");function t(...o){return(0,r.$iter)(t,o)||(r=>{const t=r[2],u=o[0];let i=!0;return(0,e.compR)(r,(e,r)=>(i=i&&u(r))?e:t(e,r))})}
},{"../func/compr":"ZoN0","../iterator":"FSoq"}],"ouQu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.drop=t;var r=require("../func/compr"),e=require("../iterator");function t(o,u){return u?(0,e.iterator1)(t(o),u):e=>{const t=e[2];let u=o;return(0,r.compR)(e,(r,e)=>u>0?(u--,r):t(r,e))}}
},{"../func/compr":"ZoN0","../iterator":"FSoq"}],"KyNU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.duplicate=u;var e=require("../func/compr"),r=require("../iterator"),t=require("../reduced");function u(o=1,c){return c?(0,r.iterator)(u(o),c):r=>{const u=r[2];return(0,e.compR)(r,(e,r)=>{for(let c=o;c>=0&&!(0,t.isReduced)(e);c--)e=u(e,r);return e})}}
},{"../func/compr":"ZoN0","../iterator":"FSoq","../reduced":"wmkI"}],"Srlq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.filter=t;var r=require("../func/compr"),e=require("../iterator");function t(o,u){return u?(0,e.iterator1)(t(o),u):e=>{const t=e[2];return(0,r.compR)(e,(r,e)=>o(e)?t(r,e):r)}}
},{"../func/compr":"ZoN0","../iterator":"FSoq"}],"l6zS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bsEQ=exports.bsGE=exports.bsGT=exports.bsLE=exports.bsLT=exports.binarySearchNumeric=exports.binarySearch=void 0;var e=require("@thi.ng/compare");const r=(r,s,t=(e=>e),o=e.compare,c=0,n=r.length-1)=>{const p=t(s);for(;c<=n;){const e=c+n>>>1,s=o(t(r[e]),p);if(s<0)c=e+1;else{if(!(s>0))return e;n=e-1}}return-c-1};exports.binarySearch=r;const s=(r,s,t=e.compareNumAsc,o=0,c=r.length-1)=>{for(;o<=c;){const e=o+c>>>1,n=t(r[e],s);if(n<0)o=e+1;else{if(!(n>0))return e;c=e-1}}return-o-1};exports.binarySearchNumeric=s;const t=e=>e<0?-e-2:e-1;exports.bsLT=t;const o=e=>e<0?-e-2:e;exports.bsLE=o;const c=(e,r)=>(e=e<0?-e-1:e+1,e<r?e:-1);exports.bsGT=c;const n=(e,r)=>(e=e<0?-e-1:e,e<r?e:-1);exports.bsGE=n;const p=e=>e<0?-1:e;exports.bsEQ=p;
},{"@thi.ng/compare":"kNRw"}],"zlnS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.equivObject=exports.equivMap=exports.equivSet=exports.equivArrayLike=exports.equiv=void 0;const e=Object.getPrototypeOf({}),t="function",o="string",n=(n,u)=>{let f;return n===u||(null==n?n==u:typeof n.equiv===t?n.equiv(u):null==u?n==u:typeof u.equiv===t?u.equiv(n):typeof n!==o&&typeof u!==o&&(null!=(f=Object.getPrototypeOf(n))&&f!==e||null!=(f=Object.getPrototypeOf(u))&&f!==e?typeof n!==t&&void 0!==n.length&&typeof u!==t&&void 0!==u.length?i(n,u):n instanceof Set&&u instanceof Set?r(n,u):n instanceof Map&&u instanceof Map?s(n,u):n instanceof Date&&u instanceof Date?n.getTime()===u.getTime():n instanceof RegExp&&u instanceof RegExp?n.toString()===u.toString():n!=n&&u!=u:p(n,u)))};exports.equiv=n;const i=(e,t,o=n)=>{let i=e.length;if(i===t.length)for(;--i>=0&&o(e[i],t[i]););return i<0};exports.equivArrayLike=i;const r=(e,t,o=n)=>e.size===t.size&&o([...e.keys()].sort(),[...t.keys()].sort());exports.equivSet=r;const s=(e,t,o=n)=>e.size===t.size&&o([...e].sort(),[...t].sort());exports.equivMap=s;const p=(e,t,o=n)=>{if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e)if(!t.hasOwnProperty(n)||!o(e[n],t[n]))return!1;return!0};exports.equivObject=p;
},{}],"xE8w":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.endsWith=void 0;var e=require("@thi.ng/equiv");const t=(t,r,i=e.equiv)=>{let n=t.length,s=r.length;if(n<s)return!1;for(;--n,--s>=0&&i(t[n],r[s]););return s<0};exports.endsWith=t;
},{"@thi.ng/equiv":"zlnS"}],"x9sR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ensureIterable=void 0;var e=require("@thi.ng/errors");const r=r=>((null==r||!r[Symbol.iterator])&&(0,e.illegalArgs)(`value is not iterable: ${r}`),r);exports.ensureIterable=r;
},{"@thi.ng/errors":"Qv5j"}],"V6cY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ensureArrayLike=exports.ensureArray=void 0;var e=require("@thi.ng/checks"),r=require("./ensure-iterable");const s=s=>(0,e.isArray)(s)?s:[...(0,r.ensureIterable)(s)];exports.ensureArray=s;const t=s=>(0,e.isArrayLike)(s)?s:[...(0,r.ensureIterable)(s)];exports.ensureArrayLike=t;
},{"@thi.ng/checks":"HctC","./ensure-iterable":"x9sR"}],"lNKO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.findIndex=exports.find=void 0;var e=require("@thi.ng/equiv");const r=(r,n,i=e.equiv)=>{const o=t(r,n,i);return-1!==o?r[o]:void 0};exports.find=r;const t=(r,t,n=e.equiv)=>{for(let e=r.length;--e>=0;)if(n(t,r[e]))return e;return-1};exports.findIndex=t;
},{"@thi.ng/equiv":"zlnS"}],"DK46":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fillRange=void 0;const e=(e,r=0,t=0,o=e.length,l=(o>t?1:-1))=>{if(l>0)for(;t<o;t+=l)e[r++]=t;else for(;t>o;t+=l)e[r++]=t;return e};exports.fillRange=e;
},{}],"MfNo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fuzzyMatch=void 0;var e=require("@thi.ng/equiv");const t=(t,r,n=e.equiv)=>{const u=t.length,o=r.length;if(o>u)return!1;if(o===u)return n(r,t);e:for(let e=0,i=0;e<o;e++){const o=r[e];for(;i<u;)if(n(t[i++],o))continue e;return!1}return!0};exports.fuzzyMatch=t;
},{"@thi.ng/equiv":"zlnS"}],"jh3B":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isSorted=void 0;var e=require("@thi.ng/compare");const r=(r,t=e.compare,o=0,s=r.length)=>{let i=r[o];for(;++o<s;){const e=r[o];if(t(i,e)>0)return!1;i=e}return!0};exports.isSorted=r;
},{"@thi.ng/compare":"kNRw"}],"NQnt":[function(require,module,exports) {
"use strict";function*e(e,r=0,t){if(!e)return;r=r,void 0===t&&(t=e.length);const o=r<=t?1:-1;for(;r!==t;r+=o)yield e[r]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.arrayIterator=e;
},{}],"i4MI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.normalizedLevenshtein=exports.levenshtein=void 0;const e=(e,t)=>e===t,t=(t,n,r=1/0,o=e)=>{if(t===n)return 0;if(t.length>n.length){const e=t;t=n,n=e}let s=t.length,l=n.length;for(;s>0&&o(t[~-s],n[~-l]);)s--,l--;let i=0;for(;i<s&&o(t[i],n[i]);)i++;if(l-=i,0===(s-=i)||l<3)return l;let f,h,u,c,g,p,v,x,a,d,m,z,L,M=0;const _=(e,t,n,r,s)=>e<t||n<t?e>n?n+1:e+1:o(s,r)?t:t+1,b=[];for(f=0;f<s;f++)b.push(f+1,t[i+f]);const j=b.length-1,y=l-3;for(;M<y;){for(d=n[i+(u=M)],m=n[i+(c=M+1)],z=n[i+(g=M+2)],L=n[i+(p=M+3)],v=M+=4,h=1/0,f=0;f<j;f+=2)u=_(x=b[f],u,c,d,a=b[f+1]),c=_(u,c,g,m,a),g=_(c,g,p,z,a),(v=_(g,p,v,L,a))<h&&(h=v),b[f]=v,p=g,g=c,c=u,u=x;if(h>r)return 1/0}for(;M<l;){for(d=n[i+(u=M)],v=++M,h=1/0,f=0;f<j;f+=2)x=b[f],b[f]=v=_(x,u,v,d,b[f+1]),v<h&&(h=v),u=x;if(h>r)return 1/0}return v};exports.levenshtein=t;const n=(n,r,o=1/0,s=e)=>{const l=Math.max(n.length,r.length);return l>0?t(n,r,o,s)/l:0};exports.normalizedLevenshtein=n;
},{}],"EqUB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.peek=void 0;const e=e=>e[e.length-1];exports.peek=e;
},{}],"G56K":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.multiSwap=exports.swap=void 0;const e=(e,t,r)=>{const s=e[t];e[t]=e[r],e[r]=s};exports.swap=e;const t=(...t)=>{const[r,s,o]=t,c=t.length;switch(c){case 0:return e;case 1:return(t,s,o)=>{e(t,s,o),e(r,s,o)};case 2:return(t,o,c)=>{e(t,o,c),e(r,o,c),e(s,o,c)};case 3:return(t,c,n)=>{e(t,c,n),e(r,c,n),e(s,c,n),e(o,c,n)};default:return(r,s,o)=>{e(r,s,o);for(let n=c;--n>=0;)e(t[n],s,o)}}};exports.multiSwap=t;
},{}],"X5E8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.quickSort=t;var e=require("@thi.ng/compare"),r=require("./swap");function t(o,i=e.compare,s=r.swap,u=0,a=o.length-1){if(u<a){const e=o[u+(a-u>>1)];let r=u-1,c=a+1;for(;;){do{r++}while(i(o[r],e)<0);do{c--}while(i(o[c],e)>0);if(r>=c)break;s(o,r,c)}t(o,i,s,u,c),t(o,i,s,c+1,a)}return o}
},{"@thi.ng/compare":"kNRw","./swap":"G56K"}],"YP0X":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ARandom=void 0;const t=1/4294967295;class e{float(e=1){return this.int()*t*e}norm(e=1){return 2*(this.int()*t-.5)*e}minmax(t,e){return this.float()*(e-t)+t}gaussian(t=10,e=-.5,r=1){let s=0,o=t;for(;o-- >0;)s+=this.float(r);return s/t+e}}exports.ARandom=e;
},{}],"Q2ru":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DEFAULT_SEED_160=exports.DEFAULT_SEED_128=exports.DEFAULT_SEED_32=void 0;const E=3737844653;exports.DEFAULT_SEED_32=3737844653;const e=[3737844653,799659867,3827263459,1552149530];exports.DEFAULT_SEED_128=e;const t=[...e,4137311345];exports.DEFAULT_SEED_160=t;
},{}],"SshM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Smush32=void 0;var e=require("./arandom"),r=require("./constants");class t extends e.ARandom{constructor(e=r.DEFAULT_SEED_32){super(),this.buffer=new Uint32Array([e,0])}copy(){const e=new t;return e.buffer.set(this.buffer),e}seed(e){return this.buffer.set([e,0]),this}int(){const e=this.buffer,r=1540483477,t=e[1]++*r>>>0,s=e[0]=(t^t>>24^e[0]*r>>>0)*r>>>0;return(s^s>>>13)>>>0}}exports.Smush32=t;
},{"./arandom":"YP0X","./constants":"Q2ru"}],"tnSi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SYSTEM=exports.SystemRandom=void 0;var e=require("./arandom");const r=Math.random;class t extends e.ARandom{int(){return 4294967295*r()>>>0}float(e=1){return r()*e}norm(e=1){return 2*(r()-.5)*e}}exports.SystemRandom=t;const o=new t;exports.SYSTEM=o;
},{"./arandom":"YP0X"}],"bcvC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Xoshiro128=void 0;var e=require("./arandom"),r=require("./constants");class t extends e.ARandom{constructor(e=r.DEFAULT_SEED_128){super(),this.buffer=new Uint32Array(4),this.seed(e)}copy(){return new t(this.buffer)}bytes(){return new Uint8Array(this.buffer.buffer)}seed(e){return this.buffer.set(e),this}int(){const e=this.buffer;let r=e[0]+e[3];const t=(r<<7|r>>>25)>>>0;return r=e[1]<<9,e[2]^=e[0],e[3]^=e[1],e[1]^=e[2],e[0]^=e[3],e[2]^=r,r=e[3],e[3]=(r<<11|r>>>21)>>>0,t}}exports.Xoshiro128=t;
},{"./arandom":"YP0X","./constants":"Q2ru"}],"JzxI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.XorShift128=void 0;var e=require("./arandom"),r=require("./constants");class t extends e.ARandom{constructor(e=r.DEFAULT_SEED_128){super(),this.buffer=new Uint32Array(4),this.seed(e)}copy(){return new t(this.buffer)}bytes(){return new Uint8Array(this.buffer.buffer)}seed(e){return this.buffer.set(e),this}int(){const e=this.buffer;let r,t=e[3];return t^=t<<11,t^=t>>>8,e[3]=e[2],e[2]=e[1],r=e[1]=e[0],e[0]=(t^r^r>>>19)>>>0}}exports.XorShift128=t;
},{"./arandom":"YP0X","./constants":"Q2ru"}],"PJEx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.XorWow=void 0;var e=require("./arandom"),r=require("./constants");class t extends e.ARandom{constructor(e=r.DEFAULT_SEED_160){super(),this.buffer=new Uint32Array(5),this.seed(e)}copy(){return new t(this.buffer)}seed(e){return this.buffer.set(e),this}bytes(){return new Uint8Array(this.buffer.buffer)}int(){const e=this.buffer;let r,t=e[3];return t^=t>>>2,t^=t<<1,e[3]=e[2],e[2]=e[1],t^=r=e[1]=e[0],t^=r<<4,e[0]=t,t+(e[4]+=362437)>>>0}}exports.XorWow=t;
},{"./arandom":"YP0X","./constants":"Q2ru"}],"aQ9X":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.XsAdd=void 0;var e=require("./arandom"),r=require("./constants");class t extends e.ARandom{constructor(e=r.DEFAULT_SEED_32){super(),this.buffer=new Uint32Array(4),this.seed(e)}bytes(){return new Uint8Array(this.buffer.buffer)}copy(){const e=new t;return e.buffer.set(this.buffer),e}seed(e){const r=this.buffer;r.set([e,0,0,0]);for(let t=0,s=1;s<8;t=s++){let e=(r[3&t]^r[3&t]>>>30)>>>0;e=35173*e+((27655*e&65535)<<16)>>>0,r[3&s]^=s+e>>>0}return this}int(){const e=this.buffer;let r=e[0];return r^=r<<15,r^=r>>>18,r^=e[3]<<11,e[0]=e[1],e[1]=e[2],e[2]=e[3],e[3]=r,r+e[2]>>>0}}exports.XsAdd=t;
},{"./arandom":"YP0X","./constants":"Q2ru"}],"fQeo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.randomBytes=void 0;var e=require("@thi.ng/checks"),t=require("./system");const r=(0,e.hasCrypto)()?e=>window.crypto.getRandomValues(e):e=>{const r=e.length;for(let o=0;o<r;o++)e[o]=255&t.SYSTEM.int();return e};exports.randomBytes=r;
},{"@thi.ng/checks":"HctC","./system":"tnSi"}],"eX8I":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.randomID=void 0;var e=require("./system");const r=(r=4,t="",o="abcdefghijklmnopqrstuvwxyz",s=e.SYSTEM)=>{for(const e=o.length;--r>=0;)t+=o[0|s.float(e)];return t};exports.randomID=r;
},{"./system":"tnSi"}],"Ynbr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.uuidv4Bytes=void 0;var e=require("./random-bytes");const r=r=>((r=(0,e.randomBytes)(r||new Uint8Array(16)))[6]=64|15&r[6],r[8]=128|63&r[8],r);exports.uuidv4Bytes=r;
},{"./random-bytes":"fQeo"}],"Xp9g":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.weightedRandom=void 0;var e=require("@thi.ng/api"),t=require("./system");const r=(r,o,s=t.SYSTEM)=>{const n=r.length;(0,e.assert)(n>0,"no choices given");const i=r.map(o?(e,t)=>[e,o[t]]:e=>[e,1]).sort((e,t)=>t[1]-e[1]),c=i.reduce((e,t)=>e+t[1],0);return(0,e.assert)(c>0,"no choices given"),()=>{const e=s.float(c);let t=c;for(let r=0;r<n;r++)if((t-=i[r][1])<=e)return i[r][0]}};exports.weightedRandom=r;
},{"@thi.ng/api":"AsNk","./system":"tnSi"}],"rTK3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./arandom");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./smush32");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./system");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var u=require("./xoshiro128");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});var n=require("./xorshift128");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});var o=require("./xorwow");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}})});var c=require("./xsadd");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}})});var f=require("./random-bytes");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return f[e]}})});var a=require("./random-id");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return a[e]}})});var i=require("./uuid");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return i[e]}})});var s=require("./weighted-random");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return s[e]}})});
},{"./arandom":"YP0X","./smush32":"SshM","./system":"tnSi","./xoshiro128":"bcvC","./xorshift128":"JzxI","./xorwow":"PJEx","./xsadd":"aQ9X","./random-bytes":"fQeo","./random-id":"eX8I","./uuid":"Ynbr","./weighted-random":"Xp9g"}],"Tsv0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.shuffle=exports.shuffleRange=void 0;var e=require("@thi.ng/api"),t=require("@thi.ng/random");const r=(r,s=0,o=r.length,l=t.SYSTEM)=>{(0,e.assert)(s>=0&&o>=s&&o<=r.length,`illegal range ${s}..${o}`);let n=o-s;const f=n;if(f>1)for(;--n>=0;){const e=s+l.float(f)|0,t=s+l.float(f)|0,o=r[e];r[e]=r[t],r[t]=o}return r};exports.shuffleRange=r;const s=(e,s=e.length,o=t.SYSTEM)=>r(e,0,s,o);exports.shuffle=s;
},{"@thi.ng/api":"AsNk","@thi.ng/random":"rTK3"}],"vc6T":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.startsWith=void 0;var e=require("@thi.ng/equiv");const t=(t,r,s=e.equiv)=>{let i=t.length,o=r.length;if(i<o)return!1;for(;-o>=0&&s(t[o],r[o]););return o<0};exports.startsWith=t;
},{"@thi.ng/equiv":"zlnS"}],"ZwJl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.swizzle=void 0;const e=e=>{const[r,t,s,n,c,u,a,o]=e;switch(e.length){case 0:return()=>[];case 1:return e=>[e[r]];case 2:return e=>[e[r],e[t]];case 3:return e=>[e[r],e[t],e[s]];case 4:return e=>[e[r],e[t],e[s],e[n]];case 5:return e=>[e[r],e[t],e[s],e[n],e[c]];case 6:return e=>[e[r],e[t],e[s],e[n],e[c],e[u]];case 7:return e=>[e[r],e[t],e[s],e[n],e[c],e[u],e[a]];case 8:return e=>[e[r],e[t],e[s],e[n],e[c],e[u],e[a],e[o]];default:return r=>{const t=[];for(let s=e.length;--s>=0;)t[s]=r[e[s]];return t}}};exports.swizzle=e;
},{}],"cGHC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./binary-search");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./ends-with");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./ensure-array");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var n=require("./ensure-iterable");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});var u=require("./find");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});var o=require("./fill-range");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}})});var f=require("./fuzzy-match");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return f[e]}})});var c=require("./is-sorted");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}})});var i=require("./iterator");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return i[e]}})});var a=require("./levenshtein");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return a[e]}})});var s=require("./peek");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return s[e]}})});var l=require("./quicksort");Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return l[e]}})});var d=require("./shuffle");Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return d[e]}})});var b=require("./starts-with");Object.keys(b).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return b[e]}})});var p=require("./swap");Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return p[e]}})});var y=require("./swizzle");Object.keys(y).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return y[e]}})});
},{"./binary-search":"l6zS","./ends-with":"xE8w","./ensure-array":"V6cY","./ensure-iterable":"x9sR","./find":"lNKO","./fill-range":"DK46","./fuzzy-match":"MfNo","./is-sorted":"jh3B","./iterator":"NQnt","./levenshtein":"i4MI","./peek":"EqUB","./quicksort":"X5E8","./shuffle":"Tsv0","./starts-with":"vc6T","./swap":"G56K","./swizzle":"ZwJl"}],"pnui":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.filterFuzzy=i;var e=require("@thi.ng/arrays"),r=require("../iterator"),t=require("./filter");function i(...u){const n=u.length>1&&(0,r.$iter)(i,u);if(n)return n;const l=u[0],{key:o,equiv:s}=u[1]||{};return(0,t.filter)(r=>(0,e.fuzzyMatch)(null!=o?o(r):r,l,s))}
},{"@thi.ng/arrays":"cGHC","../iterator":"FSoq","./filter":"Srlq"}],"jOUa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.flattenWith=u;var e=require("../func/compr"),r=require("../iterator"),t=require("../reduced");function u(o,i){return i?(0,r.iterator)(u(o),i):r=>{const u=r[2],i=(e,r)=>{const n=o(r);if(n){for(let r of n)if(e=i(e,r),(0,t.isReduced)(e))break;return e}return u(e,r)};return(0,e.compR)(r,i)}}
},{"../func/compr":"ZoN0","../iterator":"FSoq","../reduced":"wmkI"}],"K478":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.flatten=e;var t=require("./flatten-with");function e(e){return(0,t.flattenWith)(t=>null!=t&&t[Symbol.iterator]&&"string"!=typeof t?t:void 0,e)}
},{"./flatten-with":"jOUa"}],"MQMZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mapIndexed=t;var e=require("../func/compr"),r=require("../iterator");function t(...o){return(0,r.$iter)(t,o)||(r=>{const t=r[2],u=o[0];let n=o[1]||0;return(0,e.compR)(r,(e,r)=>t(e,u(n++,r)))})}
},{"../func/compr":"ZoN0","../iterator":"FSoq"}],"Vl3R":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.indexed=t;var e=require("../iterator"),r=require("./map-indexed");function t(...i){const n=(0,e.$iter)(t,i);if(n)return n;const d=i[0]||0;return(0,r.mapIndexed)((e,r)=>[d+e,r])}
},{"../iterator":"FSoq","./map-indexed":"MQMZ"}],"m3sl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.interleave=u;var e=require("../func/compr"),r=require("../iterator"),t=require("../reduced");function u(o,i){return i?(0,r.iterator)(u(o),i):r=>{const u=r[2],i="function"==typeof o?o:()=>o;return(0,e.compR)(r,(e,r)=>(e=u(e,i()),(0,t.isReduced)(e)?e:u(e,r)))}}
},{"../func/compr":"ZoN0","../iterator":"FSoq","../reduced":"wmkI"}],"ZHil":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.comp=n;var e=require("@thi.ng/compose"),r=require("../internal/ensure");function n(...n){return n=n.map(r.ensureTransducer),e.comp.apply(null,n)}
},{"@thi.ng/compose":"PMVb","../internal/ensure":"CPq6"}],"BqjZ":[function(require,module,exports) {
"use strict";function*e(e,t=!0){if(e>0)for(let o=0,r=t?e+1:e;o<r;o++)yield o/e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.normRange=e;
},{}],"gEP1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mapcat=u;var e=require("../func/comp"),r=require("../iterator"),t=require("./cat"),a=require("./map");function u(c,i){return i?(0,r.iterator)(u(c),i):(0,e.comp)((0,a.map)(c),(0,t.cat)())}
},{"../func/comp":"ZHil","../iterator":"FSoq","./cat":"XFQx","./map":"fBkP"}],"WCS9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.partition=t;var e=require("../iterator");function t(...r){const n=(0,e.$iter)(t,r,e.iterator);if(n)return n;let i,o,u=r[0];return"number"==typeof r[1]?(o=r[1],i=r[2]):(o=u,i=r[1]),([e,t,r])=>{let n=[],l=0;return[e,e=>(i&&n.length>0&&(e=r(e,n),n=[]),t(e)),(e,t)=>(l<=0?(n.length<u&&n.push(t),n.length===u&&(e=r(e,n),n=o<u?n.slice(o):[],l=o-u)):l--,e)]}}
},{"../iterator":"FSoq"}],"ex58":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.interpolate=n;var r=require("../func/comp"),e=require("../iter/norm-range"),t=require("../iterator"),i=require("./map"),a=require("./mapcat"),o=require("./partition");function n(p,u,c,m){return m?(0,t.iterator)(n(p,u,c),m):(0,r.comp)((0,o.partition)(u,1),(0,a.mapcat)(r=>(0,i.map)(e=>p(r,e),(0,e.normRange)(c,!1))))}
},{"../func/comp":"ZHil","../iter/norm-range":"BqjZ","../iterator":"FSoq","./map":"fBkP","./mapcat":"gEP1","./partition":"WCS9"}],"GHll":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Crossing=exports.EPS=exports.SIXTH=exports.TWO_THIRD=exports.THIRD=exports.SQRT2_3=exports.SQRT2_2=exports.SQRT3=exports.SQRT2=exports.PHI=exports.RAD2DEG=exports.DEG2RAD=exports.INV_HALF_PI=exports.INV_TAU=exports.INV_PI=exports.SIXTH_PI=exports.QUARTER_PI=exports.THIRD_PI=exports.HALF_PI=exports.TAU=exports.PI=void 0;const t=Math.PI;exports.PI=t;const s=2*t;exports.TAU=s;const o=t/2;exports.HALF_PI=o;const e=t/3;exports.THIRD_PI=e;const r=t/4;exports.QUARTER_PI=r;const p=t/6;exports.SIXTH_PI=p;const x=1/t;exports.INV_PI=x;const I=1/s;exports.INV_TAU=I;const T=1/o;exports.INV_HALF_PI=T;const R=t/180;exports.DEG2RAD=R;const n=180/t;exports.RAD2DEG=n;const _=(1+Math.sqrt(5))/2;exports.PHI=_;const c=Math.SQRT2;exports.SQRT2=c;const P=Math.sqrt(3);exports.SQRT3=P;const A=c/2;exports.SQRT2_2=A;const H=P/2;exports.SQRT2_3=H;const D=1/3;exports.THIRD=1/3;const E=2/3;exports.TWO_THIRD=2/3;const S=1/6;exports.SIXTH=1/6;let Q=1e-6;var U;exports.EPS=Q,exports.Crossing=U,function(t){t[t.EQUAL=0]="EQUAL",t[t.FLAT=1]="FLAT",t[t.UNDER=2]="UNDER",t[t.OVER=3]="OVER",t[t.OTHER=4]="OTHER"}(U||(exports.Crossing=U={}));
},{}],"l8IL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sign=exports.absDiff=void 0;var e=require("./api");const s=(e,s)=>Math.abs(e-s);exports.absDiff=s;const t=(s,t=e.EPS)=>s>t?1:s<-t?-1:0;exports.sign=t;
},{"./api":"GHll"}],"Z8EX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fastSin=exports.fastCos=exports.normCos=exports.loc=exports.cot=exports.sec=exports.csc=exports.rad=exports.deg=exports.quadrant=exports.atan2Abs=exports.angleDist=exports.absInnerAngle=exports.absTheta=exports.cossin=exports.sincos=void 0;var s=require("./api");const t=(s,t=1)=>[Math.sin(s)*t,Math.cos(s)*t];exports.sincos=t;const o=(s,t=1)=>[Math.cos(s)*t,Math.sin(s)*t];exports.cossin=o;const e=t=>(t%=s.TAU,t<0?s.TAU+t:t);exports.absTheta=e;const r=t=>(t=Math.abs(t),t>s.PI?s.TAU-t:t);exports.absInnerAngle=r;const n=(t,o)=>r(e(o%s.TAU-t%s.TAU));exports.angleDist=n;const a=(s,t)=>e(Math.atan2(s,t));exports.atan2Abs=a;const c=t=>e(t)*s.INV_HALF_PI|0;exports.quadrant=c;const p=t=>t*s.RAD2DEG;exports.deg=p;const x=t=>t*s.DEG2RAD;exports.rad=x;const i=s=>1/Math.sin(s);exports.csc=i;const A=s=>1/Math.cos(s);exports.sec=A;const h=s=>1/Math.tan(s);exports.cot=h;const u=(s,t,o)=>Math.sqrt(s*s+t*t-2*s*t*Math.cos(o));exports.loc=u;const M=s=>{const t=s*s;return 1+t*(2*t-4)};exports.normCos=M;const d=s=>{const t=s*s;return.99940307+t*(.03679168*t-.49558072)},I=t=>{switch((t%=s.TAU)<0&&(t=-t),t*s.INV_HALF_PI|0){case 0:return d(t);case 1:return-d(s.PI-t);case 2:return-d(t-s.PI);default:return d(s.TAU-t)}};exports.fastCos=I;const l=t=>I(s.HALF_PI-t);exports.fastSin=l;
},{"./api":"GHll"}],"wV4s":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.eqDeltaFixed=exports.eqDelta=void 0;var e=require("./api");const t=Math.abs,a=Math.max,r=(r,s,o=e.EPS)=>t(r-s)<=o*a(1,t(r),t(s));exports.eqDelta=r;const s=(a,r,s=e.EPS)=>t(a-r)<=s;exports.eqDeltaFixed=s;
},{"./api":"GHll"}],"w3bW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.classifyCrossing=exports.isCrossUnder=exports.isCrossOver=void 0;var s=require("./api"),e=require("./eqdelta");const r=(s,e,r,o)=>s<r&&e>o;exports.isCrossOver=r;const o=(s,e,r,o)=>s>r&&e<o;exports.isCrossUnder=o;const i=(i,t,n,C,a=s.EPS)=>r(i,t,n,C)?s.Crossing.OVER:o(i,t,n,C)?s.Crossing.UNDER:(0,e.eqDelta)(i,n,a)&&(0,e.eqDelta)(t,C,a)?(0,e.eqDelta)(i,C,a)?s.Crossing.FLAT:s.Crossing.EQUAL:s.Crossing.OTHER;exports.classifyCrossing=i;
},{"./api":"GHll","./eqdelta":"wV4s"}],"UFGB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.maximaIndices=exports.minimaIndices=exports.maximaIndex=exports.minimaIndex=exports.isMaxima=exports.isMinima=void 0;const e=(e,t,i)=>e>t&&t<i;exports.isMinima=e;const t=(e,t,i)=>e<t&&t>i;exports.isMaxima=t;const i=(e,t,i=0,n=t.length)=>{n--;for(let s=i+1;s<n;s++)if(e(t[s-1],t[s],t[s+1]))return s;return-1},n=(t,n=0,s=t.length)=>i(e,t,n,s);exports.minimaIndex=n;const s=(e,n=0,s=e.length)=>i(t,e,n,s);function*o(e,t,i=0,n=t.length){for(;i<n;){const s=e(t,i,n);if(s<0)return;yield s,i=s+1}}exports.maximaIndex=s;const r=(e,t=0,i=e.length)=>o(n,e,t,i);exports.minimaIndices=r;const x=(e,t=0,i=e.length)=>o(n,e,t,i);exports.maximaIndices=x;
},{}],"HZDI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.inOpenRange=exports.inRange=exports.foldback=exports.absMax=exports.absMin=exports.sclamp=exports.smax=exports.smin=exports.minNonZero3=exports.minNonZero2=exports.max4id=exports.max3id=exports.max2id=exports.min4id=exports.min3id=exports.min2id=exports.wrap11=exports.wrap01=exports.wrapOnce=exports.wrap=exports.clamp05=exports.clamp11=exports.clamp01=exports.clamp=void 0;const s=(s,t,o)=>s<t?t:s>o?o:s;exports.clamp=s;const t=s=>s<0?0:s>1?1:s;exports.clamp01=t;const o=s=>s<-1?-1:s>1?1:s;exports.clamp11=o;const e=s=>s<0?0:s>.5?.5:s;exports.clamp05=e;const p=(s,t,o)=>{if(t===o)return t;if(s>o){const e=o-t;(s-=e)>o&&(s-=e*((s-t)/e|0))}else if(s<t){const e=o-t;(s+=e)<t&&(s+=e*((t-s)/e+1|0))}return s};exports.wrap=p;const r=(s,t,o)=>s<t?s-t+o:s>o?s-o+t:s;exports.wrapOnce=r;const n=s=>s<0?s+1:s>1?s-1:s;exports.wrap01=n;const x=s=>s<-1?s+2:s>1?s-2:s;exports.wrap11=x;const a=(s,t)=>s<=t?0:1;exports.min2id=a;const c=(s,t,o)=>s<=t?s<=o?0:2:t<=o?1:2;exports.min3id=c;const i=(s,t,o,e)=>s<=t?s<=o?s<=e?0:3:o<=e?2:3:t<=o?t<=e?1:3:o<=e?2:3;exports.min4id=i;const m=(s,t)=>s>=t?0:1;exports.max2id=m;const d=(s,t,o)=>s>=t?s>=o?0:2:t>=o?1:2;exports.max3id=d;const l=(s,t,o,e)=>s>=t?s>=o?s>=e?0:3:o>=e?2:3:t>=o?t>=e?1:3:o>=e?2:3;exports.max4id=l;const M=(s,t)=>0!==s?0!==t?Math.min(s,t):s:t;exports.minNonZero2=M;const b=(s,t,o)=>M(M(s,t),o);exports.minNonZero3=b;const h=(s,t,o)=>w(s,t,-o);exports.smin=h;const w=(s,t,o)=>{const e=Math.exp(s*o),p=Math.exp(t*o);return(s*e+t*p)/(e+p)};exports.smax=w;const f=(s,t,o,e)=>h(w(s,t,e),o,e);exports.sclamp=f;const u=(s,t)=>Math.abs(s)<Math.abs(t)?s:t;exports.absMin=u;const O=(s,t)=>Math.abs(s)>Math.abs(t)?s:t;exports.absMax=O;const g=(s,t)=>t<-s||t>s?Math.abs(Math.abs((t-s)%(4*s))-2*s)-s:t;exports.foldback=g;const N=(s,t,o)=>s>=t&&s<=o;exports.inRange=N;const R=(s,t,o)=>s>t&&s<o;exports.inOpenRange=R;
},{}],"aLJv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fit11=exports.fit10=exports.fit01=exports.fitClamped=exports.fit=exports.norm=void 0;var t=require("./interval");const e=(t,e,o)=>o!==e?(t-e)/(o-e):0;exports.norm=e;const o=(t,o,r,s,p)=>s+(p-s)*e(t,o,r);exports.fit=o;const r=(o,r,s,p,i)=>p+(i-p)*(0,t.clamp01)(e(o,r,s));exports.fitClamped=r;const s=(e,o,r)=>o+(r-o)*(0,t.clamp01)(e);exports.fit01=s;const p=(e,o,r)=>r+(o-r)*(0,t.clamp01)(e);exports.fit10=p;const i=(e,o,r)=>o+(r-o)*(.5+.5*(0,t.clamp11)(e));exports.fit11=i;
},{"./interval":"HZDI"}],"Jr7j":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.rshiftu32=exports.lshiftu32=exports.notu32=exports.xoru32=exports.oru32=exports.andu32=exports.subu32=exports.mulu32=exports.divu32=exports.addu32=exports.rshiftu16=exports.lshiftu16=exports.notu16=exports.xoru16=exports.oru16=exports.andu16=exports.subu16=exports.mulu16=exports.divu16=exports.addu16=exports.rshiftu8=exports.lshiftu8=exports.notu8=exports.xoru8=exports.oru8=exports.andu8=exports.subu8=exports.mulu8=exports.divu8=exports.addu8=exports.noti32=exports.rshifti32=exports.lshifti32=exports.xori32=exports.ori32=exports.andi32=exports.subi32=exports.muli32=exports.divi32=exports.addi32=exports.rshifti16=exports.lshifti16=exports.noti16=exports.xori16=exports.ori16=exports.andi16=exports.subi16=exports.muli16=exports.divi16=exports.addi16=exports.rshifti8=exports.lshifti8=exports.noti8=exports.xori8=exports.ori8=exports.andi8=exports.subi8=exports.muli8=exports.divi8=exports.addi8=exports.signExtend16=exports.signExtend8=void 0;const t=255,s=65535,o=s=>(s&=t,128&s?s|~t:s);exports.signExtend8=o;const r=t=>(t&=s,32768&t?t|~s:t);exports.signExtend16=r;const x=(t,s)=>o((0|t)+(0|s));exports.addi8=x;const e=(t,s)=>o((0|t)/(0|s));exports.divi8=e;const p=(t,s)=>o((0|t)*(0|s));exports.muli8=p;const i=(t,s)=>o((0|t)-(0|s));exports.subi8=i;const n=(t,s)=>o((0|t)&(0|s));exports.andi8=n;const u=(t,s)=>o(0|t|s);exports.ori8=u;const c=(t,s)=>o((0|t)^(0|s));exports.xori8=c;const d=t=>o(~t);exports.noti8=d;const l=(t,s)=>o((0|t)<<(0|s));exports.lshifti8=l;const a=(t,s)=>o((0|t)>>(0|s));exports.rshifti8=a;const f=(t,s)=>r((0|t)+(0|s));exports.addi16=f;const h=(t,s)=>r((0|t)/(0|s));exports.divi16=h;const v=(t,s)=>r((0|t)*(0|s));exports.muli16=v;const b=(t,s)=>r((0|t)-(0|s));exports.subi16=b;const m=(t,s)=>r((0|t)&(0|s));exports.andi16=m;const g=(t,s)=>r(0|t|s);exports.ori16=g;const E=(t,s)=>r((0|t)^(0|s));exports.xori16=E;const _=t=>r(~t);exports.noti16=_;const j=(t,s)=>r((0|t)<<(0|s));exports.lshifti16=j;const y=(t,s)=>r((0|t)>>(0|s));exports.rshifti16=y;const M=(t,s)=>(0|t)+(0|s)|0;exports.addi32=M;const O=(t,s)=>(0|t)/(0|s)|0;exports.divi32=O;const P=(t,s)=>(0|t)*(0|s)|0;exports.muli32=P;const k=(t,s)=>(0|t)-(0|s)|0;exports.subi32=k;const q=(t,s)=>(0|t)&(0|s);exports.andi32=q;const w=(t,s)=>0|t|s;exports.ori32=w;const z=(t,s)=>(0|t)^(0|s);exports.xori32=z;const A=(t,s)=>(0|t)<<(0|s);exports.lshifti32=A;const B=(t,s)=>(0|t)>>(0|s);exports.rshifti32=B;const C=t=>~t;exports.noti32=C;const D=(s,o)=>(s&t)+(o&t)&t;exports.addu8=D;const F=(s,o)=>(s&t)/(o&t)&t;exports.divu8=F;const G=(s,o)=>(s&t)*(o&t)&t;exports.mulu8=G;const H=(s,o)=>(s&t)-(o&t)&t;exports.subu8=H;const I=(s,o)=>s&t&o&t&t;exports.andu8=I;const J=(s,o)=>(s&t|o&t)&t;exports.oru8=J;const K=(s,o)=>(s&t^o&t)&t;exports.xoru8=K;const L=s=>~s&t;exports.notu8=L;const N=(s,o)=>(s&t)<<(o&t)&t;exports.lshiftu8=N;const Q=(s,o)=>(s&t)>>>(o&t)&t;exports.rshiftu8=Q;const R=(t,o)=>(t&s)+(o&s)&s;exports.addu16=R;const S=(t,o)=>(t&s)/(o&s)&s;exports.divu16=S;const T=(t,o)=>(t&s)*(o&s)&s;exports.mulu16=T;const U=(t,o)=>(t&s)-(o&s)&s;exports.subu16=U;const V=(t,o)=>t&s&o&s&s;exports.andu16=V;const W=(t,o)=>(t&s|o&s)&s;exports.oru16=W;const X=(t,o)=>(t&s^o&s)&s;exports.xoru16=X;const Y=t=>~t&s;exports.notu16=Y;const Z=(t,o)=>(t&s)<<(o&s)&s;exports.lshiftu16=Z;const $=(t,o)=>(t&s)>>>(o&s)&s;exports.rshiftu16=$;const tt=(t,s)=>(t>>>0)+(s>>>0)>>>0;exports.addu32=tt;const st=(t,s)=>(t>>>0)/(s>>>0)>>>0;exports.divu32=st;const ot=(t,s)=>(t>>>0)*(s>>>0)>>>0;exports.mulu32=ot;const rt=(t,s)=>(t>>>0)-(s>>>0)>>>0;exports.subu32=rt;const xt=(t,s)=>(t>>>0&s>>>0)>>>0;exports.andu32=xt;const et=(t,s)=>(t>>>0|s>>>0)>>>0;exports.oru32=et;const pt=(t,s)=>(t>>>0^s>>>0)>>>0;exports.xoru32=pt;const it=t=>~t>>>0;exports.notu32=it;const nt=(t,s)=>t>>>0<<(s>>>0)>>>0;exports.lshiftu32=nt;const ut=(t,s)=>t>>>0>>>(s>>>0)>>>0;exports.rshiftu32=ut;
},{}],"yCAQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.minError=void 0;var r=require("./api");const e=(t,o,i,n=16,s=8,u=0,a=1,c=r.EPS)=>{if(s<=0)return(u+a)/2;const f=(a-u)/n;let p=u,l=1/0;for(let r=0;r<=n;r++){const e=u+r*f,n=o(i,t(e));if(n<l){if(n<=c)return e;l=n,p=e}}return e(t,o,i,n,s-1,Math.max(p-f,0),Math.min(p+f,1))};exports.minError=e;
},{"./api":"GHll"}],"hSAd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.expFactor=exports.sigmoid11=exports.sigmoid=exports.sinc=exports.cubicPulse=exports.parabola=exports.gain=exports.impulse=exports.ease=exports.bounce=exports.decimated=exports.cosine=exports.circular=exports.tween=exports.tangentDiff3=exports.tangentCardinal=exports.mixCubicHermite=exports.mixHermite=exports.mixCubic=exports.mixQuadratic=exports.mixBilinear=exports.mix=void 0;var t=require("./api");const e=(t,e,o)=>t+(e-t)*o;exports.mix=e;const o=(t,o,s,r,x,p)=>e(e(t,o,x),e(s,r,x),p);exports.mixBilinear=o;const s=(t,e,o,s)=>{const r=1-s;return t*r*r+2*e*r*s+o*s*s};exports.mixQuadratic=s;const r=(t,e,o,s,r)=>{const x=r*r,p=1-r,i=p*p;return t*i*p+3*e*i*r+3*o*x*p+s*x*r};exports.mixCubic=r;const x=(t,e,o,s,r)=>{const x=.5*(o-t),p=1.5*(e-o)+.5*(s-t);return((p*r+t-e+x-p)*r+x)*r+e};exports.mixHermite=x;const p=(t,e,o,s,r)=>{const x=r-1,p=r*r,i=x*x;return(1+2*r)*i*t+r*i*e+p*(3-2*r)*o+p*x*s};exports.mixCubicHermite=p;const i=(t,e,o=.5,s=0,r=2)=>o*((e-t)/(r-s));exports.tangentCardinal=i;const n=(t,e,o,s=0,r=1,x=2)=>.5*((o-e)/(x-r)+(e-t)/(r-s));exports.tangentDiff3=n;const c=(t,o,s)=>r=>e(o,s,t(r));exports.tween=c;const a=t=>(t=1-t,Math.sqrt(1-t*t));exports.circular=a;const u=e=>1-(.5*Math.cos(e*t.PI)+.5);exports.cosine=u;const m=(t,e)=>Math.floor(e*t)/t;exports.decimated=m;const M=(e,o,s)=>{const r=s*e;return 1-o*Math.sin(r)/r*Math.cos(s*t.HALF_PI)};exports.bounce=M;const d=(t,e)=>Math.pow(e,t);exports.ease=d;const h=(t,e)=>{const o=t*e;return o*Math.exp(1-o)};exports.impulse=h;const l=(t,e)=>e<.5?.5*Math.pow(2*e,t):1-.5*Math.pow(2-2*e,t);exports.gain=l;const b=(t,e)=>Math.pow(4*e*(1-e),t);exports.parabola=b;const g=(t,e,o)=>(o=Math.abs(o-e))>t?0:1-(o/=t)*o*(3-2*o);exports.cubicPulse=g;const w=(e,o)=>(o=t.PI*(e*o-1),Math.sin(o)/o);exports.sinc=w;const f=(t,e)=>1/(1+Math.exp(-t*(2*e-1)));exports.sigmoid=f;const C=(t,e)=>1/(1+Math.exp(-t*e));exports.sigmoid11=C;const P=(t,e,o)=>Math.pow(e/t,1/o);exports.expFactor=P;
},{"./api":"GHll"}],"Zf0y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.roundEps=exports.roundTo=exports.trunc=exports.fract=exports.fmod=void 0;var o=require("./api");const r=(o,r)=>o-r*Math.floor(o/r);exports.fmod=r;const t=o=>o-Math.floor(o);exports.fract=t;const e=o=>o<0?Math.ceil(o):Math.floor(o);exports.trunc=e;const s=(o,r=1)=>Math.round(o/r)*r;exports.roundTo=s;const n=(r,e=o.EPS)=>{const s=t(r);return s<=e||s>=1-e?Math.round(r):r};exports.roundEps=n;
},{"./api":"GHll"}],"zLcV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.simplifyRatio=void 0;const t=(t,e)=>{let s=Math.abs(t),o=Math.abs(e);for(;;){if(s<o){const t=s;s=o,o=t}const i=s%o;if(!i)return[t/o,e/o];s=i}};exports.simplifyRatio=t;
},{}],"j7hr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.safeDiv=void 0;const e=(e,s)=>0!==s?e/s:0;exports.safeDiv=e;
},{}],"jfR8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.solveCubic=exports.solveQuadratic=exports.solveLinear=exports.derivative=void 0;var t=require("./api");const e=(e,r=t.EPS)=>t=>(e(t+r)-e(t))/r;exports.derivative=e;const r=(t,e)=>-e/t;exports.solveLinear=r;const s=(t,e,r,s=1e-9)=>{const o=2*t;let a=e*e-4*t*r;return a<0?[]:a<s?[-e/o]:[(-e-(a=Math.sqrt(a)))/o,(-e+a)/o]};exports.solveQuadratic=s;const o=(t,e,r,s,o=1e-9)=>{const a=t*t,c=e*e,i=e/(3*t),n=(3*t*r-c)/(3*a),M=(2*c*e-9*t*e*r+27*a*s)/(27*a*t);if(Math.abs(n)<o)return[Math.cbrt(-M)-i];if(Math.abs(M)<o)return n<0?[-Math.sqrt(-n)-i,-i,Math.sqrt(-n)-i]:[-i];{const t=M*M/4+n*n*n/27;if(Math.abs(t)<o)return[-1.5*M/n-i,3*M/n-i];if(t>0){const e=Math.cbrt(-M/2-Math.sqrt(t));return[e-n/(3*e)-i]}{const t=2*Math.sqrt(-n/3),e=Math.acos(3*M/n/t)/3,r=2*Math.PI/3;return[t*Math.cos(e)-i,t*Math.cos(e-r)-i,t*Math.cos(e-2*r)-i]}}};exports.solveCubic=o;
},{"./api":"GHll"}],"Z7Cw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.expStep=exports.smootherStep=exports.smoothStep=exports.step=void 0;var e=require("./interval");const t=(e,t)=>t<e?0:1;exports.step=t;const o=(t,o,p)=>(3-2*(p=(0,e.clamp01)((p-t)/(o-t))))*p*p;exports.smoothStep=o;const p=(t,o,p)=>(p=(0,e.clamp01)((p-t)/(o-t)))*p*p*(p*(6*p-15)+10);exports.smootherStep=p;const s=(e,t,o)=>1-Math.exp(-e*Math.pow(o,t));exports.expStep=s;
},{"./interval":"HZDI"}],"UBbf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./api");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./abs");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./angle");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var n=require("./crossing");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});var u=require("./eqdelta");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});var o=require("./extrema");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}})});var c=require("./fit");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}})});var f=require("./int");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return f[e]}})});var i=require("./interval");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return i[e]}})});var a=require("./min-error");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return a[e]}})});var s=require("./mix");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return s[e]}})});var l=require("./prec");Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return l[e]}})});var d=require("./ratio");Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return d[e]}})});var b=require("./safe-div");Object.keys(b).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return b[e]}})});var p=require("./solve");Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return p[e]}})});var _=require("./step");Object.keys(_).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return _[e]}})});
},{"./api":"GHll","./abs":"l8IL","./angle":"Z8EX","./crossing":"w3bW","./eqdelta":"wV4s","./extrema":"UFGB","./fit":"aLJv","./int":"Jr7j","./interval":"HZDI","./min-error":"yCAQ","./mix":"hSAd","./prec":"Zf0y","./ratio":"zLcV","./safe-div":"j7hr","./solve":"jfR8","./step":"Z7Cw"}],"AH7D":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.interpolateHermite=r;var e=require("@thi.ng/math"),t=require("./interpolate");function r(r,i){return(0,t.interpolate)((t,r)=>(0,e.mixHermite)(...t,r),4,r,i)}
},{"@thi.ng/math":"UBbf","./interpolate":"ex58"}],"Jnuu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.interpolateLinear=t;var e=require("@thi.ng/math"),r=require("./interpolate");function t(t,i){return(0,r.interpolate)((r,t)=>(0,e.mix)(...r,t),2,t,i)}
},{"@thi.ng/math":"UBbf","./interpolate":"ex58"}],"i6D1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.interpose=o;var e=require("../func/compr"),r=require("../iterator"),t=require("../reduced");function o(u,i){return i?(0,r.iterator)(o(u),i):r=>{const o=r[2],i="function"==typeof u?u:()=>u;let c=!0;return(0,e.compR)(r,(e,r)=>c?(c=!1,o(e,r)):(e=o(e,i()),(0,t.isReduced)(e)?e:o(e,r)))}}
},{"../func/compr":"ZoN0","../iterator":"FSoq","../reduced":"wmkI"}],"iXIn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.keep=i;var e=require("@thi.ng/compose"),r=require("../func/compr"),t=require("../iterator");function i(...o){return(0,t.$iter)(i,o)||(t=>{const i=t[2],u=o[0]||e.identity;return(0,r.compR)(t,(e,r)=>null!=u(r)?i(e,r):e)})}
},{"@thi.ng/compose":"PMVb","../func/compr":"ZoN0","../iterator":"FSoq"}],"UcmY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.labeled=i;var e=require("@thi.ng/checks"),r=require("../iterator"),t=require("./map");function i(u,o){return o?(0,r.iterator1)(i(u),o):(0,t.map)((0,e.isFunction)(u)?e=>[u(e),e]:e=>[u,e])}
},{"@thi.ng/checks":"HctC","../iterator":"FSoq","./map":"fBkP"}],"uSZO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.deepTransform=void 0;var e=require("@thi.ng/checks");const r=t=>{if((0,e.isFunction)(t))return t;const s=Object.keys(t[1]||{}).reduce((e,s)=>(e[s]=r(t[1][s]),e),{});return e=>{const r=Object.assign({},e);for(let t in s)r[t]=s[t](r[t]);return t[0](r)}};exports.deepTransform=r;
},{"@thi.ng/checks":"HctC"}],"rHLo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mapDeep=a;var e=require("../func/deep-transform"),r=require("../iterator"),t=require("./map");function a(o,p){return p?(0,r.iterator1)(a(o),p):(0,t.map)((0,e.deepTransform)(o))}
},{"../func/deep-transform":"uSZO","../iterator":"FSoq","./map":"fBkP"}],"omGR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mapKeys=t;var e=require("../iterator"),r=require("./map");function t(...n){const s=(0,e.$iter)(t,n);if(s)return s;const i=n[0],o=!1!==n[1];return(0,r.map)(e=>{const r=o?Object.assign({},e):e;for(let t in i)r[t]=i[t](e[t],e);return r})}
},{"../iterator":"FSoq","./map":"fBkP"}],"O419":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mapNth=t;var e=require("../func/compr"),r=require("../iterator");function t(...u){const n=(0,r.$iter)(t,u);if(n)return n;let o,i,c=u[0]-1;return"number"==typeof u[1]?(o=u[1],i=u[2]):(i=u[1],o=0),r=>{const t=r[2];let u=0,n=o;return(0,e.compR)(r,(e,r)=>{if(0===n){if(0===u)return u=c,t(e,i(r));u--}else n--;return t(e,r)})}}
},{"../func/compr":"ZoN0","../iterator":"FSoq"}],"Hddo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mapVals=t;var e=require("../iterator"),r=require("./map");function t(...n){const o=(0,e.$iter)(t,n);if(o)return o;const i=n[0],s=!1!==n[1];return(0,r.map)(e=>{const r=s?{}:e;for(let t in e)r[t]=i(e[t]);return r})}
},{"../iterator":"FSoq","./map":"fBkP"}],"ZLdz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.take=u;var e=require("../func/compr"),r=require("../iterator"),t=require("../reduced");function u(c,o){return o?(0,r.iterator)(u(c),o):r=>{const u=r[2];let o=c;return(0,e.compR)(r,(e,r)=>--o>0?u(e,r):0===o?(0,t.ensureReduced)(u(e,r)):(0,t.reduced)(e))}}
},{"../func/compr":"ZoN0","../iterator":"FSoq","../reduced":"wmkI"}],"GO3g":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.matchFirst=u;var e=require("../func/comp"),r=require("../iterator"),t=require("./filter"),i=require("./take");function u(o,a){return a?[...(0,r.iterator1)(u(o),a)][0]:(0,e.comp)((0,t.filter)(o),(0,i.take)(1))}
},{"../func/comp":"ZHil","../iterator":"FSoq","./filter":"Srlq","./take":"ZLdz"}],"yCzR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.__drain=void 0;var e=require("../reduced");const r=(r,t,d)=>s=>{for(;r.length&&!(0,e.isReduced)(s);)s=d(s,r.shift());return t(s)};exports.__drain=r;
},{"../reduced":"wmkI"}],"eHWT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.takeLast=t;var e=require("../internal/drain"),r=require("../iterator");function t(i,n){return n?(0,r.iterator)(t(i),n):([r,t,n])=>{const a=[];return[r,(0,e.__drain)(a,t,n),(e,r)=>(a.length===i&&a.shift(),a.push(r),e)]}}
},{"../internal/drain":"yCzR","../iterator":"FSoq"}],"MGxr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.matchLast=a;var e=require("../func/comp"),r=require("../iterator"),t=require("./filter"),i=require("./take-last");function a(u,o){return o?[...(0,r.iterator)(a(u),o)][0]:(0,e.comp)((0,t.filter)(u),(0,i.takeLast)(1))}
},{"../func/comp":"ZHil","../iterator":"FSoq","./filter":"Srlq","./take-last":"eHWT"}],"cIjO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.movingAverage=o;var r=require("@thi.ng/errors"),e=require("../func/compr"),t=require("../iterator");function o(i,u){return u?(0,t.iterator1)(o(i),u):t=>{(i|=0)<2&&(0,r.illegalArgs)("period must be >= 2");const o=t[2],u=[];let s=0;return(0,e.compR)(t,(r,e)=>{const t=u.push(e);return s+=e,t>i&&(s-=u.shift()),t>=i?o(r,s/i):r})}}
},{"@thi.ng/errors":"Qv5j","../func/compr":"ZoN0","../iterator":"FSoq"}],"eJuU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.__sortOpts=void 0;var e=require("@thi.ng/compare"),t=require("@thi.ng/compose");const r=r=>Object.assign({key:t.identity,compare:e.compare},r);exports.__sortOpts=r;
},{"@thi.ng/compare":"kNRw","@thi.ng/compose":"PMVb"}],"mxuv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.movingMedian=n;var r=require("../func/comp"),e=require("../internal/sort-opts"),t=require("../iterator"),i=require("./map"),o=require("./partition");function n(...s){const p=(0,t.$iter)(n,s);if(p)return p;const{key:u,compare:a}=(0,e.__sortOpts)(s[1]),c=s[0],m=c>>1;return(0,r.comp)((0,o.partition)(c,1,!0),(0,i.map)(r=>r.slice().sort((r,e)=>a(u(r),u(e)))[m]))}
},{"../func/comp":"ZHil","../internal/sort-opts":"eJuU","../iterator":"FSoq","./map":"fBkP","./partition":"WCS9"}],"qDGZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.multiplex=p;var e=require("@thi.ng/compose"),r=require("../step"),t=require("./map");function p(...p){return(0,t.map)(e.juxt.apply(null,p.map(r.step)))}
},{"@thi.ng/compose":"PMVb","../step":"KHPz","./map":"fBkP"}],"wip7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.renamer=void 0;const e=e=>{const t=Object.keys(e),[r,o,n]=t,[s,c,u]=t.map(t=>e[t]);switch(t.length){case 3:return e=>{const t={};let d;return void 0!==(d=e[u])&&(t[n]=d),void 0!==(d=e[c])&&(t[o]=d),void 0!==(d=e[s])&&(t[r]=d),t};case 2:return e=>{const t={};let n;return void 0!==(n=e[c])&&(t[o]=n),void 0!==(n=e[s])&&(t[r]=n),t};case 1:return e=>{const t={};let o=e[s];return void 0!==o&&(t[r]=o),t};default:return r=>{let o,n;const s={};for(let c=t.length-1;c>=0;c--)o=t[c],void 0!==(n=r[e[o]])&&(s[o]=n);return s}}};exports.renamer=e;
},{}],"oWVg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.rename=a;var e=require("@thi.ng/checks"),r=require("../func/comp"),t=require("../func/renamer"),i=require("../iterator"),u=require("../transduce"),n=require("./filter"),c=require("./map");function a(...s){const o=s.length>2&&(0,i.$iter)(a,s);if(o)return o;let m=s[0];if((0,e.isArray)(m)&&(m=m.reduce((e,r,t)=>(e[r]=t,e),{})),s[1]){const e=Object.keys(m);return(0,c.map)(t=>(0,u.transduce)((0,r.comp)((0,c.map)(e=>[e,t[m[e]]]),(0,n.filter)(e=>void 0!==e[1])),s[1],e))}return(0,c.map)((0,t.renamer)(m))}
},{"@thi.ng/checks":"HctC","../func/comp":"ZHil","../func/renamer":"wip7","../iterator":"FSoq","../transduce":"O6O3","./filter":"Srlq","./map":"fBkP"}],"wUYq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.multiplexObj=i;var e=require("../func/comp"),r=require("../iterator"),t=require("./multiplex"),u=require("./rename");function i(...l){const n=(0,r.$iter)(i,l);if(n)return n;const[p,o]=l,c=Object.keys(p);return(0,e.comp)(t.multiplex.apply(null,c.map(e=>p[e])),(0,u.rename)(c,o))}
},{"../func/comp":"ZHil","../iterator":"FSoq","./multiplex":"qDGZ","./rename":"oWVg"}],"SgZW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.noop=void 0;const e=()=>e=>e;exports.noop=e;
},{}],"YNK6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.padLast=t;var e=require("../iterator"),r=require("../reduced");function t(u,i,o){return o?(0,e.iterator)(t(u,i),o):([e,t,o])=>{let d=0;return[e,e=>{let s=d%u;if(s>0)for(;++s<=u&&!(0,r.isReduced)(e);)e=o(e,i);return t(e)},(e,r)=>(d++,o(e,r))]}}
},{"../iterator":"FSoq","../reduced":"wmkI"}],"jwxl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.page=u;var e=require("../func/comp"),r=require("../iterator"),t=require("./drop"),o=require("./take");function u(...i){return(0,r.$iter)(u,i)||(0,e.comp)((0,t.drop)(i[0]*(i[1]||10)),(0,o.take)(i[1]||10))}
},{"../func/comp":"ZHil","../iterator":"FSoq","./drop":"ouQu","./take":"ZLdz"}],"GWyt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.partitionBy=u;var e=require("@thi.ng/api"),r=require("../iterator"),t=require("../reduced");function u(...i){return(0,r.$iter)(u,i,r.iterator)||(([r,u,n])=>{const o=i[0],s=!0===i[1]?o():o;let l,c=e.SEMAPHORE;return[r,e=>(l&&l.length&&(e=n(e,l),l=null),u(e)),(r,u)=>{const i=s(u);return c===e.SEMAPHORE?(c=i,l=[u]):i===c?l.push(u):(l&&(r=n(r,l)),l=(0,t.isReduced)(r)?null:[u],c=i),r}]})}
},{"@thi.ng/api":"AsNk","../iterator":"FSoq","../reduced":"wmkI"}],"uJgc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.partitionOf=e;var r=require("../iterator"),t=require("./partition-by");function e(i,o){return o?(0,r.iterator)(e(i),o):(0,t.partitionBy)(()=>{let r=0,t=0;return()=>(r++===i[t]&&(r=1,t=(t+1)%i.length),t)},!0)}
},{"../iterator":"FSoq","./partition-by":"GWyt"}],"t8Nq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.partitionSort=a;var r=require("../func/comp"),t=require("../internal/sort-opts"),e=require("../iterator"),i=require("./mapcat"),o=require("./partition");function a(...n){const p=(0,e.$iter)(a,n,e.iterator);if(p)return p;const{key:s,compare:c}=(0,t.__sortOpts)(n[1]);return(0,r.comp)((0,o.partition)(n[0],!0),(0,i.mapcat)(r=>r.slice().sort((r,t)=>c(s(r),s(t)))))}
},{"../func/comp":"ZHil","../internal/sort-opts":"eJuU","../iterator":"FSoq","./mapcat":"gEP1","./partition":"WCS9"}],"PhTR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.partitionSync=i;var e=require("@thi.ng/checks"),r=require("@thi.ng/compose"),t=require("@thi.ng/errors"),s=require("../iterator"),n=require("../reduced");function i(...u){return(0,s.$iter)(i,u,s.iterator)||(([s,i,o])=>{let l={},d=!0;const f=new Set,{key:g,mergeOnly:h,reset:p,all:y,backPressure:b}=Object.assign({key:r.identity,mergeOnly:!1,reset:!0,all:!0,backPressure:0},u[1]),k=(0,e.isArray)(u[0])?new Set(u[0]):u[0];if(h||b<1)return[s,e=>((p&&y&&f.size>0||!p&&d)&&(e=o(e,l),l={},f.clear(),d=!1),i(e)),(e,r)=>{const t=g(r);return k.has(t)&&(l[t]=r,f.add(t),(h||a(k,f))&&(e=o(e,l),d=!1,p?(l={},f.clear()):l=Object.assign({},l))),e}];{const e=new Map;return[s,r=>(y&&f.size>0&&(r=o(r,c(e,f)),f.clear()),i(r)),(r,s)=>{const i=g(s);if(k.has(i)){let u=e.get(i);for(!u&&e.set(i,u=[]),u.length>=b&&(0,t.illegalState)(`max back pressure (${b}) exceeded for input: ${String(i)}`),u.push(s),f.add(i);a(k,f)&&(r=o(r,c(e,f)),d=!1,!(0,n.isReduced)(r)););}return r}]}})}const a=(e,r)=>{if(r.size<e.size)return!1;for(let t of e)if(!r.has(t))return!1;return!0},c=(e,r)=>{const t={};for(let s of r){const n=e.get(s);t[s]=n.shift(),!n.length&&r.delete(s)}return t};
},{"@thi.ng/checks":"HctC","@thi.ng/compose":"PMVb","@thi.ng/errors":"Qv5j","../iterator":"FSoq","../reduced":"wmkI"}],"ZaOi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.partitionTime=e;var r=require("../iterator"),t=require("./partition-by");function e(i,o){return o?(0,r.iterator)(e(i),o):(0,t.partitionBy)(()=>{let r=0;return()=>{const t=Date.now();return t-r>=i&&(r=t),r}},!0)}
},{"../iterator":"FSoq","./partition-by":"GWyt"}],"HWTz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.peek=t;var e=require("@thi.ng/arrays"),r=require("./map");function t(t){return(0,r.map)(e.peek,t)}
},{"@thi.ng/arrays":"cGHC","./map":"fBkP"}],"ntK2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pluck=t;var e=require("../iterator"),r=require("./map");function t(u,i){return i?(0,e.iterator1)(t(u),i):(0,r.map)(e=>e[u])}
},{"../iterator":"FSoq","./map":"fBkP"}],"OT2h":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sample=o;var r=require("@thi.ng/random"),e=require("../func/compr"),t=require("../iterator");function o(...n){const u=(0,t.$iter)(o,n);if(u)return u;const i=n[0],c=n[1]||r.SYSTEM;return r=>{const t=r[2];return(0,e.compR)(r,(r,e)=>c.float()<i?t(r,e):r)}}
},{"@thi.ng/random":"rTK3","../func/compr":"ZoN0","../iterator":"FSoq"}],"C46c":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.scan=t;var e=require("../iterator"),r=require("../reduced");function t(...u){return u.length>2&&(0,e.$iter)(t,u,e.iterator)||(([e,t,n])=>{const[d,c,i]=u[0];let s=u.length>1&&null!=u[1]?u[1]:d();return[e,e=>{let u=c(s);return u!==s&&(e=(0,r.unreduced)(n(e,u))),s=u,t(e)},(e,t)=>(s=i(s,t),(0,r.isReduced)(s)?(0,r.ensureReduced)(n(e,s.deref())):n(e,s))]})}
},{"../iterator":"FSoq","../reduced":"wmkI"}],"o5Mm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.keySelector=void 0;var e=require("./renamer");const r=r=>(0,e.renamer)(r.reduce((e,r)=>(e[r]=r,e),{}));exports.keySelector=r;
},{"./renamer":"wip7"}],"n1Y1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.selectKeys=o;var e=require("../func/key-selector"),r=require("../iterator"),t=require("./map");function o(u,i){return i?(0,r.iterator1)(o(u),i):(0,t.map)((0,e.keySelector)(u))}
},{"../func/key-selector":"o5Mm","../iterator":"FSoq","./map":"fBkP"}],"XCkK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sideEffect=void 0;var e=require("./map");const t=t=>(0,e.map)(e=>(t(e),e));exports.sideEffect=t;
},{"./map":"fBkP"}],"uqRa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.slidingWindow=t;var e=require("../func/compr"),r=require("../iterator");function t(...n){const i=(0,r.$iter)(t,n);if(i)return i;const o=n[0],s=!1!==n[1];return r=>{const t=r[2];let n=[];return(0,e.compR)(r,(e,r)=>(n.push(r),(s||n.length===o)&&(e=t(e,n),n=n.slice(n.length===o?1:0)),e))}}
},{"../func/compr":"ZoN0","../iterator":"FSoq"}],"JXLY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.streamShuffle=u;var e=require("@thi.ng/arrays"),r=require("../iterator"),t=require("../reduced");function u(...s){return(0,r.$iter)(u,s,r.iterator)||(([r,u,i])=>{const f=s[0],n=s[1]||f,h=[];return[r,r=>{for(;h.length&&!(0,t.isReduced)(r);)(0,e.shuffle)(h,n),r=i(r,h.shift());return r=u(r)},(r,t)=>(h.push(t),(0,e.shuffle)(h,n),h.length===f&&(r=i(r,h.shift())),r)]})}
},{"@thi.ng/arrays":"cGHC","../iterator":"FSoq","../reduced":"wmkI"}],"ITJe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.streamSort=i;var r=require("@thi.ng/arrays"),e=require("../internal/drain"),t=require("../internal/sort-opts"),n=require("../iterator");function i(...s){const o=(0,n.$iter)(i,s,n.iterator);if(o)return o;const{key:a,compare:u}=(0,t.__sortOpts)(s[1]),c=s[0];return([t,n,i])=>{const s=[];return[t,(0,e.__drain)(s,n,i),(e,t)=>{const n=(0,r.binarySearch)(s,t,a,u);return s.splice(n<0?-(n+1):n,0,t),s.length===c&&(e=i(e,s.shift())),e}]}}
},{"@thi.ng/arrays":"cGHC","../internal/drain":"yCzR","../internal/sort-opts":"eJuU","../iterator":"FSoq"}],"KY3O":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.struct=u;var e=require("../func/comp"),r=require("../iterator"),t=require("./map-keys"),i=require("./partition"),a=require("./partition-of"),o=require("./rename");function u(p,n){return n?(0,r.iterator)(u(p),n):(0,e.comp)((0,a.partitionOf)(p.map(e=>e[1])),(0,i.partition)(p.length),(0,o.rename)(p.map(e=>e[0])),(0,t.mapKeys)(p.reduce((e,r)=>r[2]?(e[r[0]]=r[2],e):e,{}),!1))}
},{"../func/comp":"ZHil","../iterator":"FSoq","./map-keys":"omGR","./partition":"WCS9","./partition-of":"uJgc","./rename":"oWVg"}],"zIOH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.swizzle=i;var e=require("@thi.ng/arrays"),r=require("../iterator"),t=require("./map");function i(a,s){return s?(0,r.iterator1)(i(a),s):(0,t.map)((0,e.swizzle)(a))}
},{"@thi.ng/arrays":"cGHC","../iterator":"FSoq","./map":"fBkP"}],"SeeH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.takeNth=r;var t=require("../iterator"),e=require("./throttle");function r(o,u){return u?(0,t.iterator1)(r(o),u):(o=Math.max(0,o-1),(0,e.throttle)(()=>{let t=0;return()=>0===t?(t=o,!0):(t--,!1)}))}
},{"../iterator":"FSoq","./throttle":"dKhC"}],"zm7Q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.takeWhile=u;var e=require("../func/compr"),r=require("../iterator"),t=require("../reduced");function u(...c){return(0,r.$iter)(u,c)||(r=>{const u=r[2],i=c[0];let o=!0;return(0,e.compR)(r,(e,r)=>(o=o&&i(r))?u(e,r):(0,t.reduced)(e))})}
},{"../func/compr":"ZoN0","../iterator":"FSoq","../reduced":"wmkI"}],"r8bV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.throttleTime=r;var t=require("../iterator"),e=require("./throttle");function r(o,u){return u?(0,t.iterator1)(r(o),u):(0,e.throttle)(()=>{let t=0;return()=>{const e=Date.now();return e-t>=o&&(t=e,!0)}})}
},{"../iterator":"FSoq","./throttle":"dKhC"}],"F3Xo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.toggle=r;var e=require("../iterator");function r(t,o,u=!1,i){return i?(0,e.iterator1)(r(t,o,u),i):([e,r,i])=>{let n=u;return[e,r,e=>i(e,(n=!n)?t:o)]}}
},{"../iterator":"FSoq"}],"urik":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.trace=void 0;var e=require("./side-effect");const t=(t="")=>(0,e.sideEffect)(e=>console.log(t,e));exports.trace=t;
},{"./side-effect":"XCkK"}],"EUGr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.wordWrap=t;var e=require("../iterator"),r=require("./partition-by");function t(...i){const n=(0,e.$iter)(t,i,e.iterator);if(n)return n;const a=i[0],{delim:o,always:s}=Object.assign({delim:1,always:!0},i[1]);return(0,r.partitionBy)(()=>{let e=0,r=!1;return t=>((e+=t.length+o)>a+(s?0:o)&&(r=!r,e=t.length+o),r)},!0)}
},{"../iterator":"FSoq","./partition-by":"GWyt"}],"QUQK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.juxtR=d;var e=require("../reduced");function d(...d){let[u,r,c]=d;const t=d.length;switch(t){case 1:{const d=u[2];return[()=>[u[0]()],e=>[u[1](e[0])],(u,r)=>{const c=d(u[0],r);return(0,e.isReduced)(c)?(0,e.reduced)([(0,e.unreduced)(c)]):[c]}]}case 2:{const d=u[2],c=r[2];return[()=>[u[0](),r[0]()],e=>[u[1](e[0]),r[1](e[1])],(u,r)=>{const t=d(u[0],r),n=c(u[1],r);return(0,e.isReduced)(t)||(0,e.isReduced)(n)?(0,e.reduced)([(0,e.unreduced)(t),(0,e.unreduced)(n)]):[t,n]}]}case 3:{const d=u[2],t=r[2],n=c[2];return[()=>[u[0](),r[0](),c[0]()],e=>[u[1](e[0]),r[1](e[1]),c[1](e[2])],(u,r)=>{const c=d(u[0],r),s=t(u[1],r),o=n(u[2],r);return(0,e.isReduced)(c)||(0,e.isReduced)(s)||(0,e.isReduced)(o)?(0,e.reduced)([(0,e.unreduced)(c),(0,e.unreduced)(s),(0,e.unreduced)(o)]):[c,s,o]}]}default:return[()=>d.map(e=>e[0]()),e=>d.map((d,u)=>d[1](e[u])),(u,r)=>{let c=!1;const n=[];for(let s=0;s<t;s++){let t=d[s][2](u[s],r);(0,e.isReduced)(t)&&(c=!0,t=(0,e.unreduced)(t)),n[s]=t}return c?(0,e.reduced)(n):n}]}}
},{"../reduced":"wmkI"}],"p5TN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.lookup3d=exports.lookup2d=exports.lookup1d=void 0;const o=o=>e=>o[e];exports.lookup1d=o;const e=(o,e)=>t=>o[t[0]+t[1]*e];exports.lookup2d=e;const t=(o,e,t)=>{const p=e*t;return t=>o[t[0]+t[1]*e+t[2]*p]};exports.lookup3d=t;
},{}],"kkBf":[function(require,module,exports) {
"use strict";function*e(e){yield*e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.asIterable=e;
},{}],"qlUZ":[function(require,module,exports) {
"use strict";function*e(e,t=1/0){for(;t-- >0;)yield e()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.repeatedly=e;
},{}],"XG5l":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.choices=void 0;var e=require("@thi.ng/arrays"),r=require("@thi.ng/random"),t=require("./repeatedly");const o=(o,i,s=r.SYSTEM)=>(0,t.repeatedly)(i?(0,r.weightedRandom)((0,e.ensureArray)(o),i,s):()=>o[0|s.float(o.length)]);exports.choices=o;
},{"@thi.ng/arrays":"cGHC","@thi.ng/random":"rTK3","./repeatedly":"qlUZ"}],"pi7L":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.concat=r;var e=require("@thi.ng/arrays");function*r(...r){for(let t of r)null!=t&&(yield*(0,e.ensureIterable)(t))}
},{"@thi.ng/arrays":"cGHC"}],"l4Xp":[function(require,module,exports) {
"use strict";function*e(e,t,o=10,r=.1){const s=Math.exp(-Math.log((Math.abs(t-e)+r)/r)/o),l=(e<t?t+r:t-r)*(1-s);o>0&&(yield e);for(let a=e;--o>=0;)yield a=l+a*s}Object.defineProperty(exports,"__esModule",{value:!0}),exports.curve=e;
},{}],"YQVn":[function(require,module,exports) {
"use strict";function*e(e,t=1/0){if(t<1)return;let r=[];for(let l of e)r.push(l),yield l;if(r.length>0)for(;--t>0;)yield*r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.cycle=e;
},{}],"IGbS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.dup=c;var r=require("@thi.ng/arrays"),e=require("@thi.ng/checks"),t=require("./concat");function c(c){return(0,e.isString)(c)?c+c:(0,e.isArray)(c)?c.concat(c):(c=(0,r.ensureArray)(c),(0,t.concat)(c,c))}
},{"@thi.ng/arrays":"cGHC","@thi.ng/checks":"HctC","./concat":"pi7L"}],"Mxpb":[function(require,module,exports) {
"use strict";function*e(e,t=1/0){for(;t-- >0;)yield e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.repeat=e;
},{}],"eNc8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.extendSides=t;var e=require("@thi.ng/api"),r=require("./repeat");function*t(t,i=1,d=i){let l=e.SEMAPHORE;for(let o of t)i>0&&l===e.SEMAPHORE&&(yield*(0,r.repeat)(o,i),i=0),yield o,l=o;d>0&&l!==e.SEMAPHORE&&(yield*(0,r.repeat)(l,d))}
},{"@thi.ng/api":"AsNk","./repeat":"Mxpb"}],"fbhQ":[function(require,module,exports) {
"use strict";function*e(e,t,r=1/0){let o=0;for(;o<r;)yield t,t=e(t,++o)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.iterate=e;
},{}],"w2k1":[function(require,module,exports) {
"use strict";function*e(e){for(let t in e)e.hasOwnProperty(t)&&(yield t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.keys=e;
},{}],"mGRq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.line=void 0;var e=require("../xform/map"),r=require("./norm-range");const o=(o,n,t=10)=>{const s=n-o;return(0,e.map)(e=>o+s*e,(0,r.normRange)(t))};exports.line=o;
},{"../xform/map":"fBkP","./norm-range":"BqjZ"}],"fexd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.padSides=void 0;var e=require("./concat"),t=require("./repeat");const r=(r,a,c=1,o=c)=>c>0?o>0?(0,e.concat)((0,t.repeat)(a,c),r,(0,t.repeat)(a,o)):(0,e.concat)((0,t.repeat)(a,c),r):o>0?(0,e.concat)(r,(0,t.repeat)(a,o)):(0,e.concat)(r);exports.padSides=r;
},{"./concat":"pi7L","./repeat":"Mxpb"}],"Nwyj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.reverse=r;var e=require("@thi.ng/arrays");function*r(r){const t=(0,e.ensureArray)(r);let s=t.length;for(;--s>=0;)yield t[s]}
},{"@thi.ng/arrays":"cGHC"}],"vFvL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.palindrome=c;var e=require("@thi.ng/arrays"),r=require("@thi.ng/checks"),s=require("../rfn/str"),t=require("./concat"),i=require("./reverse");function c(c){return(0,r.isString)(c)?(0,s.str)("",(0,t.concat)([c],(0,i.reverse)(c))):(0,r.isArray)(c)?c.concat(c.slice().reverse()):(c=(0,e.ensureArray)(c),(0,t.concat)(c,(0,i.reverse)(c)))}
},{"@thi.ng/arrays":"cGHC","@thi.ng/checks":"HctC","../rfn/str":"OHsj","./concat":"pi7L","./reverse":"Nwyj"}],"kq6U":[function(require,module,exports) {
"use strict";function*e(e){for(let r in e)e.hasOwnProperty(r)&&(yield[r,e[r]])}Object.defineProperty(exports,"__esModule",{value:!0}),exports.pairs=e;
},{}],"Oyqb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.permutations=n,exports.permutationsN=void 0;var e=require("@thi.ng/arrays"),r=require("@thi.ng/errors"),t=require("./range");function*n(...r){const t=r.length-1;if(t<0)return;const n=new Array(t+1).fill(0),o=r.map(e.ensureArrayLike),s=o.reduce((e,r)=>e*r.length,1);for(let e=0;e<s;e++){const e=[];for(let r=t;r>=0;r--){const t=o[r];let s=n[r];s===t.length&&(n[r]=s=0,r>0&&n[r-1]++),e[r]=t[s]}n[t]++,yield e}}const o=(e,o=e,s)=>{s&&s.length<e&&(0,r.illegalArgs)(`insufficient offsets, got ${s.length}, needed ${e}`);const i=[];for(;--e>=0;){const r=s?s[e]:0;i[e]=(0,t.range)(r,r+o)}return n.apply(null,i)};exports.permutationsN=o;
},{"@thi.ng/arrays":"cGHC","@thi.ng/errors":"Qv5j","./range":"ndcf"}],"gXFH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.range3d=t;var e=require("@thi.ng/errors"),r=require("./range");function*t(...t){let a,l,o,n,s,i,f,g,c;switch(t.length){case 9:o=t[6],i=t[7],c=t[8];case 6:[a,l,n,s,f,g]=t;break;case 3:[l,s,g]=t,a=n=f=0;break;default:(0,e.illegalArity)(t.length)}const u=(0,r.range)(a,l,o),d=(0,r.range)(n,s,i);for(let e of(0,r.range)(f,g,c))for(let r of d)for(let t of u)yield[t,r,e]}
},{"@thi.ng/errors":"Qv5j","./range":"ndcf"}],"FG6L":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sortedKeys=r;var e=require("@thi.ng/compare");function*r(r,t=e.compare){yield*Object.keys(r).sort(t)}
},{"@thi.ng/compare":"kNRw"}],"lmsU":[function(require,module,exports) {
"use strict";function*e(e){let t=void 0;for(let o of e)t={x:o,n:t},yield o;for(;t;)yield t.x,t=t.n}Object.defineProperty(exports,"__esModule",{value:!0}),exports.symmetric=e;
},{}],"laWD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.tween=r;var e=require("./norm-range"),t=require("./repeat");function*r(r){const{min:n,max:i,num:o,init:s,mix:u,stops:l}=r;let f=l.length;if(f<1)return;1===f&&(yield*(0,t.repeat)(u(s(l[0][1],l[0][1]),0),o)),l.sort((e,t)=>e[0]-t[0]),l[f-1][0]<i&&l.push([i,l[f-1][1]]),l[0][0]>n&&l.unshift([n,l[0][1]]);const a=i-n;let p=l[0][0],m=l[1][0],c=m-p,d=s(l[0][1],l[1][1]),g=1;f=l.length;for(let t of(0,e.normRange)(o)){if((t=n+a*t)>m){for(;g<f&&t>l[g][0];)g++;p=l[g-1][0],c=(m=l[g][0])-p,d=s(l[g-1][1],l[g][1])}yield u(d,0!==c?(t-p)/c:0)}}
},{"./norm-range":"BqjZ","./repeat":"Mxpb"}],"YHVg":[function(require,module,exports) {
"use strict";function*e(e){for(let t in e)e.hasOwnProperty(t)&&(yield e[t])}Object.defineProperty(exports,"__esModule",{value:!0}),exports.vals=e;
},{}],"shs6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.wrapSides=t;var e=require("@thi.ng/arrays"),r=require("@thi.ng/errors"),i=require("@thi.ng/math");function*t(t,n=1,l=n){const a=(0,e.ensureArray)(t);if((!(0,i.inRange)(n,0,a.length)||!(0,i.inRange)(l,0,a.length))&&(0,r.illegalArgs)(`allowed wrap range: [0..${a.length}]`),n>0)for(let e=a.length,r=e-n;r<e;r++)yield a[r];if(yield*a,l>0)for(let e=0;e<l;e++)yield a[e]}
},{"@thi.ng/arrays":"cGHC","@thi.ng/errors":"Qv5j","@thi.ng/math":"UBbf"}],"ntmJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./iterator");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./reduce");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./reduced");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var n=require("./run");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});var u=require("./step");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});var o=require("./transduce");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}})});var f=require("./rfn/add");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return f[e]}})});var c=require("./rfn/assoc-map");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}})});var i=require("./rfn/assoc-obj");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return i[e]}})});var a=require("./rfn/conj");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return a[e]}})});var s=require("./rfn/count");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return s[e]}})});var l=require("./rfn/div");Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return l[e]}})});var d=require("./rfn/every");Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return d[e]}})});var b=require("./rfn/fill");Object.keys(b).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return b[e]}})});var p=require("./rfn/frequencies");Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return p[e]}})});var y=require("./rfn/group-binary");Object.keys(y).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return y[e]}})});var j=require("./rfn/group-by-map");Object.keys(j).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return j[e]}})});var _=require("./rfn/group-by-obj");Object.keys(_).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return _[e]}})});var O=require("./rfn/last");Object.keys(O).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return O[e]}})});var m=require("./rfn/max-compare");Object.keys(m).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return m[e]}})});var x=require("./rfn/max");Object.keys(x).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return x[e]}})});var h=require("./rfn/mean");Object.keys(h).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return h[e]}})});var g=require("./rfn/min-compare");Object.keys(g).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return g[e]}})});var k=require("./rfn/min");Object.keys(k).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return k[e]}})});var v=require("./rfn/mul");Object.keys(v).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return v[e]}})});var q=require("./rfn/push");Object.keys(q).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return q[e]}})});var M=require("./rfn/push-copy");Object.keys(M).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return M[e]}})});var P=require("./rfn/push-sort");Object.keys(P).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return P[e]}})});var E=require("./rfn/reductions");Object.keys(E).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return E[e]}})});var w=require("./rfn/some");Object.keys(w).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return w[e]}})});var z=require("./rfn/str");Object.keys(z).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return z[e]}})});var A=require("./rfn/sub");Object.keys(A).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return A[e]}})});var B=require("./xform/benchmark");Object.keys(B).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return B[e]}})});var C=require("./xform/cat");Object.keys(C).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return C[e]}})});var D=require("./xform/converge");Object.keys(D).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return D[e]}})});var F=require("./xform/convolve");Object.keys(F).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return F[e]}})});var G=require("./xform/dedupe");Object.keys(G).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return G[e]}})});var H=require("./xform/delayed");Object.keys(H).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return H[e]}})});var I=require("./xform/distinct");Object.keys(I).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return I[e]}})});var J=require("./xform/drop-nth");Object.keys(J).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return J[e]}})});var K=require("./xform/drop-while");Object.keys(K).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return K[e]}})});var L=require("./xform/drop");Object.keys(L).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return L[e]}})});var N=require("./xform/duplicate");Object.keys(N).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return N[e]}})});var Q=require("./xform/filter");Object.keys(Q).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Q[e]}})});var R=require("./xform/filter-fuzzy");Object.keys(R).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return R[e]}})});var S=require("./xform/flatten-with");Object.keys(S).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return S[e]}})});var T=require("./xform/flatten");Object.keys(T).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return T[e]}})});var U=require("./xform/indexed");Object.keys(U).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return U[e]}})});var V=require("./xform/interleave");Object.keys(V).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return V[e]}})});var W=require("./xform/interpolate");Object.keys(W).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return W[e]}})});var X=require("./xform/interpolate-hermite");Object.keys(X).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return X[e]}})});var Y=require("./xform/interpolate-linear");Object.keys(Y).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Y[e]}})});var Z=require("./xform/interpose");Object.keys(Z).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Z[e]}})});var $=require("./xform/keep");Object.keys($).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return $[e]}})});var ee=require("./xform/labeled");Object.keys(ee).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ee[e]}})});var re=require("./xform/map-deep");Object.keys(re).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return re[e]}})});var te=require("./xform/map-indexed");Object.keys(te).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return te[e]}})});var ne=require("./xform/map-keys");Object.keys(ne).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ne[e]}})});var ue=require("./xform/map-nth");Object.keys(ue).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ue[e]}})});var oe=require("./xform/map-vals");Object.keys(oe).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return oe[e]}})});var fe=require("./xform/map");Object.keys(fe).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return fe[e]}})});var ce=require("./xform/mapcat");Object.keys(ce).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ce[e]}})});var ie=require("./xform/match-first");Object.keys(ie).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ie[e]}})});var ae=require("./xform/match-last");Object.keys(ae).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ae[e]}})});var se=require("./xform/moving-average");Object.keys(se).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return se[e]}})});var le=require("./xform/moving-median");Object.keys(le).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return le[e]}})});var de=require("./xform/multiplex");Object.keys(de).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return de[e]}})});var be=require("./xform/multiplex-obj");Object.keys(be).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return be[e]}})});var pe=require("./xform/noop");Object.keys(pe).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return pe[e]}})});var ye=require("./xform/pad-last");Object.keys(ye).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ye[e]}})});var je=require("./xform/page");Object.keys(je).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return je[e]}})});var _e=require("./xform/partition-by");Object.keys(_e).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return _e[e]}})});var Oe=require("./xform/partition-of");Object.keys(Oe).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Oe[e]}})});var me=require("./xform/partition-sort");Object.keys(me).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return me[e]}})});var xe=require("./xform/partition-sync");Object.keys(xe).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return xe[e]}})});var he=require("./xform/partition-time");Object.keys(he).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return he[e]}})});var ge=require("./xform/partition");Object.keys(ge).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ge[e]}})});var ke=require("./xform/peek");Object.keys(ke).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ke[e]}})});var ve=require("./xform/pluck");Object.keys(ve).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ve[e]}})});var qe=require("./xform/rename");Object.keys(qe).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return qe[e]}})});var Me=require("./xform/sample");Object.keys(Me).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Me[e]}})});var Pe=require("./xform/scan");Object.keys(Pe).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Pe[e]}})});var Ee=require("./xform/select-keys");Object.keys(Ee).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Ee[e]}})});var we=require("./xform/side-effect");Object.keys(we).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return we[e]}})});var ze=require("./xform/sliding-window");Object.keys(ze).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ze[e]}})});var Ae=require("./xform/stream-shuffle");Object.keys(Ae).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Ae[e]}})});var Be=require("./xform/stream-sort");Object.keys(Be).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Be[e]}})});var Ce=require("./xform/struct");Object.keys(Ce).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Ce[e]}})});var De=require("./xform/swizzle");Object.keys(De).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return De[e]}})});var Fe=require("./xform/take-nth");Object.keys(Fe).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Fe[e]}})});var Ge=require("./xform/take-last");Object.keys(Ge).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Ge[e]}})});var He=require("./xform/take-while");Object.keys(He).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return He[e]}})});var Ie=require("./xform/take");Object.keys(Ie).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Ie[e]}})});var Je=require("./xform/throttle");Object.keys(Je).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Je[e]}})});var Ke=require("./xform/throttle-time");Object.keys(Ke).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Ke[e]}})});var Le=require("./xform/toggle");Object.keys(Le).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Le[e]}})});var Ne=require("./xform/trace");Object.keys(Ne).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Ne[e]}})});var Qe=require("./xform/word-wrap");Object.keys(Qe).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Qe[e]}})});var Re=require("./func/comp");Object.keys(Re).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Re[e]}})});var Se=require("./func/compr");Object.keys(Se).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Se[e]}})});var Te=require("./func/deep-transform");Object.keys(Te).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Te[e]}})});var Ue=require("./func/juxtr");Object.keys(Ue).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Ue[e]}})});var Ve=require("./func/key-selector");Object.keys(Ve).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Ve[e]}})});var We=require("./func/lookup");Object.keys(We).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return We[e]}})});var Xe=require("./func/renamer");Object.keys(Xe).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Xe[e]}})});var Ye=require("./iter/as-iterable");Object.keys(Ye).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Ye[e]}})});var Ze=require("./iter/choices");Object.keys(Ze).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Ze[e]}})});var $e=require("./iter/concat");Object.keys($e).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return $e[e]}})});var er=require("./iter/curve");Object.keys(er).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return er[e]}})});var rr=require("./iter/cycle");Object.keys(rr).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return rr[e]}})});var tr=require("./iter/dup");Object.keys(tr).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return tr[e]}})});var nr=require("./iter/extend-sides");Object.keys(nr).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return nr[e]}})});var ur=require("./iter/iterate");Object.keys(ur).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ur[e]}})});var or=require("./iter/keys");Object.keys(or).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return or[e]}})});var fr=require("./iter/line");Object.keys(fr).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return fr[e]}})});var cr=require("./iter/norm-range");Object.keys(cr).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return cr[e]}})});var ir=require("./iter/pad-sides");Object.keys(ir).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ir[e]}})});var ar=require("./iter/palindrome");Object.keys(ar).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ar[e]}})});var sr=require("./iter/pairs");Object.keys(sr).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return sr[e]}})});var lr=require("./iter/permutations");Object.keys(lr).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return lr[e]}})});var dr=require("./iter/range");Object.keys(dr).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return dr[e]}})});var br=require("./iter/range2d");Object.keys(br).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return br[e]}})});var pr=require("./iter/range3d");Object.keys(pr).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return pr[e]}})});var yr=require("./iter/repeat");Object.keys(yr).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return yr[e]}})});var jr=require("./iter/repeatedly");Object.keys(jr).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return jr[e]}})});var _r=require("./iter/reverse");Object.keys(_r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return _r[e]}})});var Or=require("./iter/sorted-keys");Object.keys(Or).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Or[e]}})});var mr=require("./iter/symmetric");Object.keys(mr).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return mr[e]}})});var xr=require("./iter/tween");Object.keys(xr).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return xr[e]}})});var hr=require("./iter/vals");Object.keys(hr).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return hr[e]}})});var gr=require("./iter/wrap-sides");Object.keys(gr).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return gr[e]}})});var kr=require("./iter/zip");Object.keys(kr).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return kr[e]}})});
},{"./iterator":"FSoq","./reduce":"hay8","./reduced":"wmkI","./run":"TrOB","./step":"KHPz","./transduce":"O6O3","./rfn/add":"DNzN","./rfn/assoc-map":"e0Ul","./rfn/assoc-obj":"TDT0","./rfn/conj":"JlsD","./rfn/count":"n9G6","./rfn/div":"plMW","./rfn/every":"eUq5","./rfn/fill":"kAV5","./rfn/frequencies":"Ik92","./rfn/group-binary":"zZIj","./rfn/group-by-map":"u4d5","./rfn/group-by-obj":"KupN","./rfn/last":"pFJf","./rfn/max-compare":"eOls","./rfn/max":"LAGn","./rfn/mean":"R84Q","./rfn/min-compare":"OrDh","./rfn/min":"aZ1b","./rfn/mul":"cwhU","./rfn/push":"xJML","./rfn/push-copy":"nd4j","./rfn/push-sort":"L1zx","./rfn/reductions":"vhuO","./rfn/some":"BWxf","./rfn/str":"OHsj","./rfn/sub":"bWaZ","./xform/benchmark":"TeGF","./xform/cat":"XFQx","./xform/converge":"DdWQ","./xform/convolve":"eq8Y","./xform/dedupe":"tm7A","./xform/delayed":"pCRw","./xform/distinct":"bj39","./xform/drop-nth":"ao7H","./xform/drop-while":"hQVd","./xform/drop":"ouQu","./xform/duplicate":"KyNU","./xform/filter":"Srlq","./xform/filter-fuzzy":"pnui","./xform/flatten-with":"jOUa","./xform/flatten":"K478","./xform/indexed":"Vl3R","./xform/interleave":"m3sl","./xform/interpolate":"ex58","./xform/interpolate-hermite":"AH7D","./xform/interpolate-linear":"Jnuu","./xform/interpose":"i6D1","./xform/keep":"iXIn","./xform/labeled":"UcmY","./xform/map-deep":"rHLo","./xform/map-indexed":"MQMZ","./xform/map-keys":"omGR","./xform/map-nth":"O419","./xform/map-vals":"Hddo","./xform/map":"fBkP","./xform/mapcat":"gEP1","./xform/match-first":"GO3g","./xform/match-last":"MGxr","./xform/moving-average":"cIjO","./xform/moving-median":"mxuv","./xform/multiplex":"qDGZ","./xform/multiplex-obj":"wUYq","./xform/noop":"SgZW","./xform/pad-last":"YNK6","./xform/page":"jwxl","./xform/partition-by":"GWyt","./xform/partition-of":"uJgc","./xform/partition-sort":"t8Nq","./xform/partition-sync":"PhTR","./xform/partition-time":"ZaOi","./xform/partition":"WCS9","./xform/peek":"HWTz","./xform/pluck":"ntK2","./xform/rename":"oWVg","./xform/sample":"OT2h","./xform/scan":"C46c","./xform/select-keys":"n1Y1","./xform/side-effect":"XCkK","./xform/sliding-window":"uqRa","./xform/stream-shuffle":"JXLY","./xform/stream-sort":"ITJe","./xform/struct":"KY3O","./xform/swizzle":"zIOH","./xform/take-nth":"SeeH","./xform/take-last":"eHWT","./xform/take-while":"zm7Q","./xform/take":"ZLdz","./xform/throttle":"dKhC","./xform/throttle-time":"r8bV","./xform/toggle":"F3Xo","./xform/trace":"urik","./xform/word-wrap":"EUGr","./func/comp":"ZHil","./func/compr":"ZoN0","./func/deep-transform":"uSZO","./func/juxtr":"QUQK","./func/key-selector":"o5Mm","./func/lookup":"p5TN","./func/renamer":"wip7","./iter/as-iterable":"kkBf","./iter/choices":"XG5l","./iter/concat":"pi7L","./iter/curve":"l4Xp","./iter/cycle":"YQVn","./iter/dup":"IGbS","./iter/extend-sides":"eNc8","./iter/iterate":"fbhQ","./iter/keys":"w2k1","./iter/line":"mGRq","./iter/norm-range":"BqjZ","./iter/pad-sides":"fexd","./iter/palindrome":"vFvL","./iter/pairs":"kq6U","./iter/permutations":"Oyqb","./iter/range":"ndcf","./iter/range2d":"xkJV","./iter/range3d":"gXFH","./iter/repeat":"Mxpb","./iter/repeatedly":"qlUZ","./iter/reverse":"Nwyj","./iter/sorted-keys":"FG6L","./iter/symmetric":"lmsU","./iter/tween":"laWD","./iter/vals":"YHVg","./iter/wrap-sides":"shs6","./iter/zip":"rJmY"}],"CFHe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.optsWithID=exports.nextID=void 0;let t=0;const e=()=>t++;exports.nextID=e;const s=(t,s)=>s&&s.id?s:Object.assign(Object.assign({},s),{id:t+"-"+e()});exports.optsWithID=s;
},{}],"NbpO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Subscription=exports.subscription=void 0;var t=require("@thi.ng/api"),e=require("@thi.ng/arrays"),s=require("@thi.ng/checks"),i=require("@thi.ng/errors"),r=require("@thi.ng/transducers"),h=require("./api"),n=require("./utils/idgen");const o=(t,e)=>new u(t,e);exports.subscription=o;class u{constructor(e,s={}){this.state=h.State.IDLE,this.parent=s.parent,this.closeIn=void 0!==s.closeIn?s.closeIn:h.CloseMode.LAST,this.closeOut=void 0!==s.closeOut?s.closeOut:h.CloseMode.LAST,this.cacheLast=!1!==s.cache,this.id=s.id||`sub-${(0,n.nextID)()}`,this.last=t.SEMAPHORE,this.subs=[],e&&this.subs.push(e),s.xform&&(this.xform=s.xform((0,r.push)()))}deref(){return this.last!==t.SEMAPHORE?this.last:void 0}getState(){return this.state}subscribe(...r){let h;this.ensureState(),!(0,e.peek)(r)&&r.pop();let u=r.length>1&&(0,s.isPlainObject)((0,e.peek)(r))?Object.assign({},r.pop()):{};switch(r.length){case 1:(0,s.isFunction)(r[0])?(u.xform=r[0],!u.id&&(u.id=`xform-${(0,n.nextID)()}`)):h=r[0];break;case 2:h=r[0],u.xform=r[1];break;default:(0,i.illegalArity)(r.length)}return(0,s.implementsFunction)(h,"subscribe")&&!u.xform?h.parent=this:h=o(h,Object.assign({parent:this},u)),this.last!==t.SEMAPHORE&&h.next(this.last),this.addWrapped(h)}subscribeAll(...t){const e=[];for(let s of t)e.push(this.subscribe(s));return e}transform(...t){const e=t.length-1;return(0,s.isPlainObject)(t[e])?this.subscribe((0,r.comp)(...t.slice(0,e)),t[e]):this.subscribe((0,r.comp)(...t))}unsubscribe(t){if(h.LOGGER.debug(this.id,"unsub start",t?t.id:"self"),!t){let t=!0;return this.parent&&(t=this.parent.unsubscribe(this)),this.state=h.State.DONE,this.cleanup(),t}h.LOGGER.debug(this.id,"unsub child",t.id);const e=this.subs.indexOf(t);return e>=0&&(this.subs.splice(e,1),(this.closeOut===h.CloseMode.FIRST||!this.subs.length&&this.closeOut!==h.CloseMode.NEVER)&&this.unsubscribe(),!0)}next(t){if(this.state<h.State.DONE)if(this.xform){const e=this.xform[2]([],t),s=(0,r.unreduced)(e),i=s.length;for(let t=0;t<i;t++)this.dispatch(s[t]);(0,r.isReduced)(e)&&this.done()}else this.dispatch(t)}done(){if(h.LOGGER.debug(this.id,"entering done()"),this.state<h.State.DONE){if(this.xform){const t=this.xform[1]([]),e=(0,r.unreduced)(t),s=e.length;for(let i=0;i<s;i++)this.dispatch(e[i])}this.state=h.State.DONE;for(let e of this.subs.slice())try{e.done&&e.done()}catch(t){e.error?e.error(t):this.error(t)}this.unsubscribe(),h.LOGGER.debug(this.id,"exiting done()")}}error(t){this.state=h.State.ERROR;const e=this.subs;let s=!1;if(e.length)for(let i of e.slice())i.error&&(i.error(t),s=!0);s||(h.LOGGER.warn(this.id,"unhandled error:",t),this.parent&&(h.LOGGER.debug(this.id,"unsubscribing..."),this.unsubscribe(),this.state=h.State.ERROR))}addWrapped(t){return this.subs.push(t),this.state=h.State.ACTIVE,t}dispatch(t){this.cacheLast&&(this.last=t);const e=this.subs;let s,i=e.length;if(1===i){s=e[0];try{s.next&&s.next(t)}catch(r){s.error?s.error(r):this.error(r)}}else for(;--i>=0;){s=e[i];try{s.next&&s.next(t)}catch(r){s.error?s.error(r):this.error(r)}}}ensureState(){this.state>=h.State.DONE&&(0,i.illegalState)(`operation not allowed in state ${this.state}`)}cleanup(){h.LOGGER.debug(this.id,"cleanup"),this.subs.length=0,delete this.parent,delete this.xform,delete this.last}}exports.Subscription=u;
},{"@thi.ng/api":"AsNk","@thi.ng/arrays":"cGHC","@thi.ng/checks":"HctC","@thi.ng/errors":"Qv5j","@thi.ng/transducers":"ntmJ","./api":"q5sT","./utils/idgen":"CFHe"}],"sB5n":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.StreamSync=exports.sync=void 0;var e=require("@thi.ng/checks"),s=require("@thi.ng/transducers"),r=require("./api"),t=require("./subscription"),i=require("./utils/idgen");const o=e=>new c(e);exports.sync=o;class c extends t.Subscription{constructor(e){const r=new Set,t=(0,s.partitionSync)(r,{key:e=>e[0],mergeOnly:!0===e.mergeOnly,reset:!0===e.reset,all:!1!==e.all,backPressure:e.backPressure||0}),o=(0,s.mapVals)(e=>e[1]);super(void 0,(0,i.optsWithID)("streamsync",Object.assign(Object.assign({},e),{xform:e.xform?(0,s.comp)(t,o,e.xform):(0,s.comp)(t,o)}))),this.sources=new Map,this.realSourceIDs=new Map,this.invRealSourceIDs=new Map,this.idSources=new Map,this.sourceIDs=r,e.src&&this.addAll(e.src)}add(e,r){r||(r=e.id),this.ensureState(),this.sourceIDs.add(r),this.realSourceIDs.set(r,e.id),this.invRealSourceIDs.set(e.id,r),this.idSources.set(e.id,e),this.sources.set(e,e.subscribe({next:e=>{e[1]instanceof t.Subscription?this.add(e[1]):this.next(e)},done:()=>this.markDone(e),__owner:this},(0,s.labeled)(r),{id:`in-${r}`}))}addAll(s){if((0,e.isPlainObject)(s)){for(let e in s)this.sourceIDs.add(e);for(let e in s)this.add(s[e],e)}else{for(let e of s)this.sourceIDs.add(e.id);for(let e of s)this.add(e)}}remove(e){const s=this.sources.get(e);if(s){const t=this.invRealSourceIDs.get(e.id);return r.LOGGER.info(`removing src: ${e.id} (${t})`),this.sourceIDs.delete(t),this.realSourceIDs.delete(t),this.invRealSourceIDs.delete(e.id),this.idSources.delete(e.id),this.sources.delete(e),s.unsubscribe(),!0}return!1}removeID(e){const s=this.getSourceForID(e);return!!s&&this.remove(s)}removeAll(e){for(let r of e)this.sourceIDs.delete(this.invRealSourceIDs.get(r.id));let s=!0;for(let r of e)s=this.remove(r)&&s;return s}removeAllIDs(e){let s=!0;for(let r of e)s=this.removeID(r)&&s;return s}getSourceForID(e){return this.idSources.get(this.realSourceIDs.get(e))}getSources(){const e={};for(let[s,r]of this.idSources)e[this.invRealSourceIDs.get(s)]=r;return e}unsubscribe(e){if(!e){for(let e of this.sources.values())e.unsubscribe();this.state=r.State.DONE,this.sources.clear(),this.sourceIDs.clear(),this.realSourceIDs.clear(),this.invRealSourceIDs.clear(),this.idSources.clear()}return super.unsubscribe(e)}markDone(e){this.remove(e),(this.closeIn===r.CloseMode.FIRST||this.closeIn===r.CloseMode.LAST&&!this.sources.size)&&this.done()}}exports.StreamSync=c;
},{"@thi.ng/checks":"HctC","@thi.ng/transducers":"ntmJ","./api":"q5sT","./subscription":"NbpO","./utils/idgen":"CFHe"}],"a320":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.makeWorker=exports.inlineWorker=void 0;const e=e=>r(new Blob([e],{type:"text/javascript"}));exports.inlineWorker=e;const r=e=>e instanceof Worker?e:new Worker(e instanceof Blob?URL.createObjectURL(e):e);exports.makeWorker=r;
},{}],"sTV9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Tunnel=exports.tunnel=void 0;var e=require("../api"),t=require("../subscription"),r=require("../utils/idgen"),s=require("../utils/worker");const i=e=>new n(e);exports.tunnel=i;class n extends t.Subscription{constructor(e){super(void 0,{id:e.id||`tunnel-${(0,r.nextID)()}`}),this.src=e.src,this.workers=new Array(e.maxWorkers||1),this.transferables=e.transferables,this.terminate=e.terminate||1e3,this.interrupt=e.interrupt||!1,this.index=0}next(t){if(this.state<e.State.DONE){let e;this.transferables&&(e=this.transferables(t));let r=this.workers[this.index];this.interrupt&&r&&(r.terminate(),r=null),r||(this.workers[this.index++]=r=(0,s.makeWorker)(this.src),this.index%=this.workers.length,r.addEventListener("message",e=>this.dispatch(e.data)),r.addEventListener("error",e=>this.error(e))),r.postMessage(t,e||[])}}done(){super.done(),this.terminate>0&&setTimeout(()=>{e.LOGGER.info("terminating workers..."),this.workers.forEach(e=>e&&e.terminate()),delete this.workers},this.terminate)}}exports.Tunnel=n;
},{"../api":"q5sT","../subscription":"NbpO","../utils/idgen":"CFHe","../utils/worker":"a320"}],"Db5O":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.joinBuffer=exports.forkBuffer=exports.forkJoin=void 0;var r=require("@thi.ng/transducers"),e=require("./stream-sync"),t=require("./subs/tunnel");const s=s=>{const n=s.numWorkers||navigator.hardwareConcurrency||4,o=(0,r.range)(n);return(0,e.sync)({src:[...(0,r.map)(e=>s.src.transform((0,r.map)(r=>s.fork(e,n,r))).subscribe((0,t.tunnel)({src:s.worker,transferables:s.transferables,interrupt:!0===s.interrupt,terminate:s.terminate,id:String(e)})),o)],xform:(0,r.comp)((0,r.map)(e=>[...(0,r.map)(r=>e[r],o)]),(0,r.map)(s.join)),reset:!0,backPressure:s.backPressure})};exports.forkJoin=s;const n=(r=1)=>(e,t,s)=>{const n=Math.max(r,s.length/t|0);return e<t-1?s.slice(e*n,(e+1)*n):s.slice(e*n)};exports.forkBuffer=n;const o=e=>e?t=>[...(0,r.mapcat)(e,t)]:r=>Array.prototype.concat.apply([],r);exports.joinBuffer=o;
},{"@thi.ng/transducers":"ntmJ","./stream-sync":"sB5n","./subs/tunnel":"sTV9"}],"Q4Dz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MetaStream=exports.metaStream=void 0;var s=require("@thi.ng/api"),t=require("./api"),e=require("./subscription"),r=require("./utils/idgen");const i=(s,t)=>new a(s,t);exports.metaStream=i;class a extends e.Subscription{constructor(s,t){super(void 0,(0,r.optsWithID)("metastram",t)),this.factory=s}next(s){if(this.state<t.State.DONE){this.stream&&this.stream.unsubscribe(this.sub);let t=this.factory(s);t&&(this.stream=t,this.sub=this.stream.subscribe({next:s=>{t===this.stream&&super.dispatch(s)},done:()=>{this.stream.unsubscribe(this.sub),t===this.stream&&(this.stream=void 0,this.sub=void 0)},error:s=>super.error(s),__owner:this}))}}done(){this.stream&&this.detach(),super.done()}unsubscribe(s){return!this.stream||s&&1!==this.subs.length||this.detach(),super.unsubscribe()}detach(){(0,s.assert)(!!this.stream,"input stream already removed"),this.stream.unsubscribe(this.sub),delete this.stream,delete this.sub}}exports.MetaStream=a;
},{"@thi.ng/api":"AsNk","./api":"q5sT","./subscription":"NbpO","./utils/idgen":"CFHe"}],"vCxL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.__extends=e,exports.__rest=n,exports.__decorate=o,exports.__param=a,exports.__metadata=i,exports.__awaiter=u,exports.__generator=c,exports.__exportStar=f,exports.__values=l,exports.__read=s,exports.__spread=p,exports.__spreadArrays=y,exports.__await=_,exports.__asyncGenerator=h,exports.__asyncDelegator=v,exports.__asyncValues=b,exports.__makeTemplateObject=d,exports.__importStar=w,exports.__importDefault=x,exports.__classPrivateFieldGet=m,exports.__classPrivateFieldSet=O,exports.__assign=void 0;var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};function e(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}var r=function(){return exports.__assign=r=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},r.apply(this,arguments)};function n(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r}function o(t,e,r,n){var o,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(i=(a<3?o(i):a>3?o(e,r,i):o(e,r))||i);return a>3&&i&&Object.defineProperty(e,r,i),i}function a(t,e){return function(r,n){e(r,n,t)}}function i(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(t,e,r,n){return new(r||(r=Promise))(function(o,a){function i(t){try{c(n.next(t))}catch(e){a(e)}}function u(t){try{c(n.throw(t))}catch(e){a(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(i,u)}c((n=n.apply(t,e||[])).next())})}function c(t,e){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(u){a=[6,u],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}function f(t,e){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}function l(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function s(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,a=r.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i}function p(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t}function y(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<r;e++)for(var a=arguments[e],i=0,u=a.length;i<u;i++,o++)n[o]=a[i];return n}function _(t){return this instanceof _?(this.v=t,this):new _(t)}function h(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(t,e||[]),a=[];return n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n;function i(t){o[t]&&(n[t]=function(e){return new Promise(function(r,n){a.push([t,e,r,n])>1||u(t,e)})})}function u(t,e){try{(r=o[t](e)).value instanceof _?Promise.resolve(r.value.v).then(c,f):l(a[0][2],r)}catch(n){l(a[0][3],n)}var r}function c(t){u("next",t)}function f(t){u("throw",t)}function l(t,e){t(e),a.shift(),a.length&&u(a[0][0],a[0][1])}}function v(t){var e,r;return e={},n("next"),n("throw",function(t){throw t}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,o){e[n]=t[n]?function(e){return(r=!r)?{value:_(t[n](e)),done:"return"===n}:o?o(e):e}:o}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t="function"==typeof l?l(t):t[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise(function(n,o){(function(t,e,r,n){Promise.resolve(n).then(function(e){t({value:e,done:r})},e)})(n,o,(e=t[r](e)).done,e.value)})}}}function d(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function w(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function x(t){return t&&t.__esModule?t:{default:t}}function m(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function O(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}exports.__assign=r;
},{}],"JN6K":[function(require,module,exports) {
"use strict";function e(e,o){for(let t of o)e.delete(t);return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.dissoc=e,exports.dissocObj=void 0;const o=(e,o)=>{for(let t of o)delete e[t];return e};exports.dissocObj=o;
},{}],"BfHN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.equivSet=exports.equivMap=void 0;var e=require("@thi.ng/equiv");const r=(r,t)=>{if(r===t)return!0;if(!(t instanceof Map)||r.size!==t.size)return!1;for(let i of r.entries())if(!(0,e.equiv)(t.get(i[0]),i[1]))return!1;return!0};exports.equivMap=r;const t=(e,r)=>{if(e===r)return!0;if(!(r instanceof Set)||e.size!==r.size)return!1;for(let t of e.keys())if(!r.has(t))return!1;return!0};exports.equivSet=t;
},{"@thi.ng/equiv":"zlnS"}],"ubSe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.inspectable=void 0;var e=require("@thi.ng/api"),t=require("@thi.ng/checks"),i=require("@thi.ng/transducers");const s=(0,t.isNode)()?require("util").inspect:null,n=(e,t)=>[...(0,i.map)(e=>s(e,t),e)].join(", "),r=(e,t)=>[...(0,i.map)(([e,i])=>`${s(e,t)} => ${s(i,t)}`,e)].join(", "),o=(0,e.mixin)({[Symbol.for("nodejs.util.inspect.custom")](e,t){const i=this[Symbol.toStringTag],o=Object.assign(Object.assign({},t),{depth:null===t.depth?null:t.depth-1});return e>=0?[`${i}(${this.size||0}) {`,s?this instanceof Set?n(this,o):this instanceof Map?r(this,o):"":"","}"].join(" "):t.stylize(`[${i}]`,"special")}});exports.inspectable=o;
},{"@thi.ng/api":"AsNk","@thi.ng/checks":"HctC","@thi.ng/transducers":"ntmJ"}],"qXmG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.into=t;var e=require("@thi.ng/checks");function t(t,r){if((0,e.isMap)(t))for(let e of r)t.set(e[0],e[1]);else for(let e of r)t.add(e);return t}
},{"@thi.ng/checks":"HctC"}],"M7Gr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defArraySet=exports.ArraySet=void 0;var e,t=require("tslib"),r=require("@thi.ng/api"),i=require("@thi.ng/equiv"),s=require("./dissoc"),n=require("./internal/equiv"),u=require("./internal/inspect"),l=require("./into");const o=new WeakMap,h=e=>o.get(e).vals;let a=e=class extends Set{constructor(e,t={}){super(),o.set(this,{equiv:t.equiv||i.equiv,vals:[]}),e&&this.into(e)}*[Symbol.iterator](){yield*h(this)}get[Symbol.species](){return e}get[Symbol.toStringTag](){return"ArraySet"}get size(){return h(this).length}copy(){const t=o.get(this),r=new e(null,{equiv:t.equiv});return o.get(r).vals=t.vals.slice(),r}empty(){return new e(null,this.opts())}clear(){h(this).length=0}first(){if(this.size)return h(this)[0]}add(e){return!this.has(e)&&h(this).push(e),this}into(e){return(0,l.into)(this,e)}has(e){return this.get(e,r.SEMAPHORE)!==r.SEMAPHORE}get(e,t){const r=o.get(this),i=r.equiv,s=r.vals;for(let n=s.length;--n>=0;)if(i(s[n],e))return s[n];return t}delete(e){const t=o.get(this),r=t.equiv,i=t.vals;for(let s=i.length;--s>=0;)if(r(i[s],e))return i.splice(s,1),!0;return!1}disj(e){return(0,s.dissoc)(this,e)}equiv(e){return(0,n.equivSet)(this,e)}forEach(e,t){const r=h(this);for(let i=r.length;--i>=0;){const s=r[i];e.call(t,s,s,this)}}*entries(){for(let e of h(this))yield[e,e]}*keys(){yield*h(this)}*values(){yield*h(this)}opts(){return{equiv:o.get(this).equiv}}};exports.ArraySet=a,exports.ArraySet=a=e=(0,t.__decorate)([u.inspectable],a);const c=(e,t)=>new a(e,t);exports.defArraySet=c;
},{"tslib":"vCxL","@thi.ng/api":"AsNk","@thi.ng/equiv":"zlnS","./dissoc":"JN6K","./internal/equiv":"BfHN","./internal/inspect":"ubSe","./into":"qXmG"}],"qfP3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.commonKeysObj=exports.commonKeysMap=void 0;const e=(e,o,s=[])=>{for(let r of e.keys())o.has(r)&&s.push(r);return s};exports.commonKeysMap=e;const o=(e,o,s=[])=>{for(let r in e)o.hasOwnProperty(r)&&s.push(r);return s};exports.commonKeysObj=o;
},{}],"anL8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ensureSet=exports.ensureMap=exports.objValues=exports.first=exports.copy=exports.empty=void 0;var e=require("@thi.ng/checks");const t=(t,s)=>(0,e.implementsFunction)(t,"empty")?t.empty():new(t[Symbol.species]||s);exports.empty=t;const s=(t,s)=>(0,e.implementsFunction)(t,"copy")?t.copy():new(t[Symbol.species]||s)(t);exports.copy=s;const o=e=>e[Symbol.iterator]().next().value;exports.first=o;const p=e=>{const t=[];for(let s in e)e.hasOwnProperty(s)&&t.push(e[s]);return t};exports.objValues=p;const r=t=>(0,e.isMap)(t)?t:new Map(t);exports.ensureMap=r;const n=t=>(0,e.isSet)(t)?t:new Set(t);exports.ensureSet=n;
},{"@thi.ng/checks":"HctC"}],"NIFJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.xformSetOp=void 0;var e=require("@thi.ng/transducers"),r=require("../utils");const t=(t,s,u)=>u?(0,e.reduce)(t(),u):[()=>null,e=>e||new Set,(e,t)=>e?s(e,(0,r.ensureSet)(t)):(0,r.ensureSet)(t)];exports.xformSetOp=t;
},{"@thi.ng/transducers":"ntmJ","../utils":"anL8"}],"CDD8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.differenceR=i,exports.difference=void 0;var e=require("./internal/xform-setop"),r=require("./into"),t=require("./utils");const o=(e,o,i)=>{if(e===o)return i||(0,t.empty)(e,Set);i=i?(0,r.into)(i,e):(0,t.copy)(e,Set);for(let r of o)i.delete(r);return i};function i(r){return(0,e.xformSetOp)(i,o,r)}exports.difference=o;
},{"./internal/xform-setop":"NIFJ","./into":"qXmG","./utils":"anL8"}],"CE46":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defEquivMap=y,exports.EquivMap=void 0;var e,t=require("tslib"),s=require("@thi.ng/api"),r=require("@thi.ng/checks"),i=require("@thi.ng/equiv"),n=require("@thi.ng/transducers"),u=require("./array-set"),a=require("./dissoc"),o=require("./internal/equiv"),p=require("./internal/inspect"),c=require("./into");const h=new WeakMap,l=e=>h.get(e).map;let g=e=class extends Map{constructor(e,t){super();const s=Object.assign({equiv:i.equiv,keys:u.ArraySet},t);h.set(this,{keys:new s.keys(null,{equiv:s.equiv}),map:new Map,opts:s}),e&&this.into(e)}[Symbol.iterator](){return this.entries()}get[Symbol.species](){return e}get[Symbol.toStringTag](){return"EquivMap"}get size(){return h.get(this).keys.size}clear(){const e=h.get(this);e.keys.clear(),e.map.clear()}empty(){return new e(null,h.get(this).opts)}copy(){const t=h.get(this),s=new e;return h.set(s,{keys:t.keys.copy(),map:new Map(t.map),opts:t.opts}),s}equiv(e){return(0,o.equivMap)(this,e)}delete(e){const t=h.get(this);return(e=t.keys.get(e,s.SEMAPHORE))!==s.SEMAPHORE&&(t.map.delete(e),t.keys.delete(e),!0)}dissoc(e){return(0,a.dissoc)(this,e)}forEach(e,t){for(let s of l(this))e.call(t,s[1],s[0],this)}get(e,t){const r=h.get(this);return(e=r.keys.get(e,s.SEMAPHORE))!==s.SEMAPHORE?r.map.get(e):t}has(e){return h.get(this).keys.has(e)}set(e,t){const r=h.get(this),i=r.keys.get(e,s.SEMAPHORE);return i!==s.SEMAPHORE?r.map.set(i,t):(r.keys.add(e),r.map.set(e,t)),this}into(e){return(0,c.into)(this,e)}entries(){return l(this).entries()}keys(){return l(this).keys()}values(){return l(this).values()}opts(){return h.get(this).opts}};function y(e,t){return new g((0,r.isPlainObject)(e)?(0,n.pairs)(e):e,t)}exports.EquivMap=g,exports.EquivMap=g=e=(0,t.__decorate)([p.inspectable],g);
},{"tslib":"vCxL","@thi.ng/api":"AsNk","@thi.ng/checks":"HctC","@thi.ng/equiv":"zlnS","@thi.ng/transducers":"ntmJ","./array-set":"M7Gr","./dissoc":"JN6K","./internal/equiv":"BfHN","./internal/inspect":"ubSe","./into":"qXmG"}],"CQ38":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isAligned=exports.align=void 0;const e=(e,s)=>(s--,e+s&~s);exports.align=e;const s=(e,s)=>!(e&s-1);exports.isAligned=s;
},{}],"kT64":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.u32f32=exports.u24f32=exports.u16f32=exports.u8f32=exports.f32u32=exports.f32u24=exports.f32u16=exports.f32u8=exports.floatToSortableInt=exports.uintBitsToFloat64=exports.intBitsToFloat64=exports.floatToUintBits64=exports.floatToIntBits64=exports.uintBitsToFloat=exports.intBitsToFloat=exports.floatToUintBits=exports.floatToIntBits=exports.IS_LE=void 0;const t=new Float64Array(1),o=new Float32Array(t.buffer),s=new Int32Array(t.buffer),e=new Uint32Array(t.buffer),r=(t[0]=2,1073741824===e[1]);exports.IS_LE=r;const n=t=>(o[0]=t,s[0]);exports.floatToIntBits=n;const p=t=>(o[0]=t,e[0]);exports.floatToUintBits=p;const x=t=>(s[0]=t,o[0]);exports.intBitsToFloat=x;const f=t=>(e[0]=t,o[0]);exports.uintBitsToFloat=f;const i=o=>(t[0]=o,r?[s[1],s[0]]:[s[0],s[1]]);exports.floatToIntBits64=i;const a=o=>(t[0]=o,r?[e[1],e[0]]:[e[0],e[1]]);exports.floatToUintBits64=a;const u=(o,e)=>(r?(s[1]=o,s[0]=e):(s[0]=o,s[1]=e),t[0]);exports.intBitsToFloat64=u;const l=(o,s)=>(r?(e[1]=o,e[0]=s):(e[0]=o,e[1]=s),t[0]);exports.uintBitsToFloat64=l;const c=t=>{-0===t&&(t=0);const o=n(t);return t<0?~o|1<<31:o};exports.floatToSortableInt=c;const T=t=>t<-1?-1:t>1?1:t,B=t=>127*T(t)&255;exports.f32u8=B;const F=t=>32767*T(t)&65535;exports.f32u16=F;const I=t=>8388607*T(t)&16777215;exports.f32u24=I;const b=t=>2147483647*T(t)>>>0;exports.f32u32=b;const y=t=>(t&=255,(t|4294967040*(t>>7))/127);exports.u8f32=y;const U=t=>(t&=65535,(t|4294901760*(t>>15))/32767);exports.u16f32=U;const w=t=>(t&=16777215,(t|4278190080*(t>>23))/8388607);exports.u24f32=w;const A=t=>(0|t)/2147483647;exports.u32f32=A;
},{}],"eZpf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bytesF64=exports.bytesF32=exports.bytes64=exports.bytes32=exports.bytes24=exports.bytes16=void 0;var t=require("./float");const s=(t,s=!1)=>{const e=255&t,o=t>>8&255;return s?[e,o]:[o,e]};exports.bytes16=s;const e=(t,s=!1)=>{const e=255&t,o=t>>8&255,r=t>>16&255;return s?[e,o,r]:[r,o,e]};exports.bytes24=e;const o=(t,s=!1)=>{const e=255&t,o=t>>8&255,r=t>>16&255,n=t>>24&255;return s?[e,o,r,n]:[n,r,o,e]};exports.bytes32=o;const r=(t,s,e=!1)=>e?o(s,e).concat(o(t,e)):o(t,e).concat(o(s,e));exports.bytes64=r;const n=(s,e=!1)=>o((0,t.floatToUintBits)(s),e);exports.bytesF32=n;const c=(s,e=!1)=>r(...(0,t.floatToUintBits64)(s),e);exports.bytesF64=c;
},{"./float":"kT64"}],"V9gr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MASKS=void 0;const e=new Array(33).fill(0).map((e,t)=>Math.pow(2,t)-1);exports.MASKS=e;
},{}],"ycmp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bitSize=exports.ctz32=exports.clz32=exports.hammingDist=exports.popCount=void 0;const t=t=>(t-=t>>>1&1431655765,t=(858993459&t)+(t>>>2&858993459),16843009*(t+(t>>>4)&252645135)>>>24);exports.popCount=t;const o=(o,e)=>t(o^e);exports.hammingDist=o;const e=t=>0!==t?31-(Math.log(t>>>0)/Math.LN2|0):32;exports.clz32=e;const s=t=>{let o=32;return(t&=-t)&&o--,65535&t&&(o-=16),16711935&t&&(o-=8),252645135&t&&(o-=4),858993459&t&&(o-=2),1431655765&t&&(o-=1),o};exports.ctz32=s;const p=t=>t>1?Math.ceil(Math.log2(t)):0;exports.bitSize=p;
},{}],"yv4p":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.maskH=exports.maskL=exports.defMask=void 0;var s=require("./constants");const e=(e,t)=>(~s.MASKS[e]&s.MASKS[t])>>>0;exports.defMask=e;const t=(e,t)=>(t&s.MASKS[e])>>>0;exports.maskL=t;const o=(e,t)=>(t&~s.MASKS[e])>>>0;exports.maskH=o;
},{"./constants":"V9gr"}],"OUuY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bitClearWindow=exports.bitSetWindow=exports.bitSet=exports.bitFlip=exports.bitClear=void 0;var t=require("./mask");const e=(t,e)=>(t&~(1<<e))>>>0;exports.bitClear=e;const o=(t,e)=>(t^1<<e)>>>0;exports.bitFlip=o;const r=(t,e)=>(t|1<<e)>>>0;exports.bitSet=r;const s=(e,o,r,s)=>{const i=(0,t.defMask)(r,s);return e&~i|o<<(1<<r)&i};exports.bitSetWindow=s;const i=(e,o,r)=>e&~(0,t.defMask)(o,r);exports.bitClearWindow=i;
},{"./mask":"yv4p"}],"lHZN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.decodeGray32=exports.encodeGray32=void 0;const e=e=>(e^e>>>1)>>>0;exports.encodeGray32=e;const o=e=>(e^=e>>>16,e^=e>>>8,e^=e>>>4,e^=e>>>2,(e^=e>>>1)>>>0);exports.decodeGray32=o;
},{}],"taxf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bitDemuxM=exports.bitMuxM=exports.bitOai22M=exports.bitAoi22M=exports.bitOai21M=exports.bitAoi21M=exports.bitImplyM=exports.bitXnorM=exports.bitXorM=exports.bitNorM=exports.bitOrM=exports.bitNandM=exports.bitAndM=exports.bitNotM=exports.bitDemux=exports.bitMux=exports.bitOai22=exports.bitAoi22=exports.bitOai21=exports.bitAoi21=exports.bitImply=exports.bitXnor=exports.bitXor=exports.bitNor=exports.bitOr=exports.bitNand=exports.bitAnd=exports.bitNot=void 0;var t=require("./mask");const o=t=>~t;exports.bitNot=o;const s=(t,o)=>t&o;exports.bitAnd=s;const r=(t,o)=>~(t&o);exports.bitNand=r;const i=(t,o)=>t|o;exports.bitOr=i;const e=(t,o)=>~(t|o);exports.bitNor=e;const x=(t,o)=>t^o;exports.bitXor=x;const p=(t,o)=>~(t^o);exports.bitXnor=p;const b=(t,o)=>~t|o;exports.bitImply=b;const n=(t,o,s)=>~(t|o&s);exports.bitAoi21=n;const M=(t,o,s)=>~(t&(o|s));exports.bitOai21=M;const a=(t,o,s,r)=>~(t&o|s&r);exports.bitAoi22=a;const c=(t,o,s,r)=>~((t|o)&(s|r));exports.bitOai22=c;const m=(t,o,s)=>(t&~s|o&s)>>>0;exports.bitMux=m;const k=(t,o,s)=>[(t&~s)>>>0,(o&s)>>>0];exports.bitDemux=k;const L=(o,s)=>(0,t.maskL)(o,~s);exports.bitNotM=L;const O=(o,s,r)=>(0,t.maskL)(o,s&r);exports.bitAndM=O;const u=(o,s,r)=>(0,t.maskL)(o,~(s&r));exports.bitNandM=u;const A=(o,s,r)=>(0,t.maskL)(o,s|r);exports.bitOrM=A;const N=(o,s,r)=>(0,t.maskL)(o,~(s|r));exports.bitNorM=N;const d=(o,s,r)=>(0,t.maskL)(o,s^r);exports.bitXorM=d;const X=(o,s,r)=>(0,t.maskL)(o,~(s^r));exports.bitXnorM=X;const l=(o,s,r)=>(0,t.maskL)(o,~s|r);exports.bitImplyM=l;const y=(o,s,r,i)=>(0,t.maskL)(o,~(s|r&i));exports.bitAoi21M=y;const D=(o,s,r,i)=>(0,t.maskL)(o,~(s&(r|i)));exports.bitOai21M=D;const I=(o,s,r,i,e)=>(0,t.maskL)(o,~(s&r|i&e));exports.bitAoi22M=I;const v=(o,s,r,i,e)=>(0,t.maskL)(o,~((s|r)&(i|e)));exports.bitOai22M=v;const _=(o,s,r,i)=>(0,t.maskL)(o,s&~i|r&i);exports.bitMuxM=_;const f=(o,s,r,i)=>[(0,t.maskL)(o,s&~i),(0,t.maskL)(o,r&i)];exports.bitDemuxM=f;
},{"./mask":"yv4p"}],"WXHW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.floorPow2=exports.ceilPow2=exports.isPow2=void 0;const o=o=>!(!o||o&o-1);exports.isPow2=o;const e=o=>(o+=0===o,--o,o|=o>>>1,o|=o>>>2,o|=o>>>4,o|=o>>>8,(o|=o>>>16)+1);exports.ceilPow2=e;const s=o=>(o|=o>>>1,o|=o>>>2,o|=o>>>4,o|=o>>>8,(o|=o>>>16)-(o>>>1));exports.floorPow2=s;
},{}],"Vu6r":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.rotateRight=exports.rotateLeft=void 0;const t=(t,e)=>(t<<e|t>>>32-e)>>>0;exports.rotateLeft=t;const e=(t,e)=>(t>>>e|t<<32-e)>>>0;exports.rotateRight=e;
},{}],"unVs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.same8=exports.same4=exports.splat16_32=exports.splat8_32=exports.splat8_24=exports.splat4_32=exports.splat4_24=void 0;const s=s=>1118481*(15&s);exports.splat4_24=s;const t=s=>286331153*(15&s)>>>0;exports.splat4_32=t;const e=s=>65793*(255&s);exports.splat8_24=e;const p=s=>16843009*(255&s)>>>0;exports.splat8_32=p;const o=s=>(s&=65535,(s<<16|s)>>>0);exports.splat16_32=o;const r=s=>(s>>4&15)==(15&s);exports.same4=r;const a=s=>(s>>8&255)==(255&s);exports.same8=a;
},{}],"vgOV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.flipBytes=exports.flip16=exports.flip8=exports.mux=exports.swizzle4=exports.swizzle8=exports.setLane2=exports.setLane4=exports.setLane8=exports.setLane16=exports.lane2=exports.lane4=exports.lane8=exports.lane16=void 0;const e=(e,s)=>e>>>(1-s<<4)&65535;exports.lane16=e;const s=(e,s)=>e>>>(3-s<<3)&255;exports.lane8=s;const t=(e,s)=>e>>>(7-s<<2)&15;exports.lane4=t;const o=(e,s)=>e>>>(15-s<<1)&3;exports.lane2=o;const r=(e,s,t)=>t?a(e,s,65535):a(e,s<<16,4294901760);exports.setLane16=r;const n=(e,s,t)=>{const o=3-t<<3;return(~(255<<o)&e|(255&s)<<o)>>>0};exports.setLane8=n;const p=(e,s,t)=>{const o=7-t<<2;return(~(15<<o)&e|(15&s)<<o)>>>0};exports.setLane4=p;const x=(e,s,t)=>{const o=15-t<<1;return(~(3<<o)&e|(3&s)<<o)>>>0};exports.setLane2=x;const l=(e,t,o,r,n)=>(s(e,t)<<24|s(e,o)<<16|s(e,r)<<8|s(e,n))>>>0;exports.swizzle8=l;const c=(e,s,o,r,n,p,x,l,c)=>(t(e,s)<<28|t(e,o)<<24|t(e,r)<<20|t(e,n)<<16|t(e,p)<<12|t(e,x)<<8|t(e,l)<<4|t(e,c))>>>0;exports.swizzle4=c;const a=(e,s,t)=>~t&e|t&s;exports.mux=a;const i=e=>(e>>>24|e>>8&65280|(65280&e)<<8|e<<24)>>>0;exports.flip8=i;const u=e=>a(e<<16,e>>>16,65535);exports.flip16=u;const z=i;exports.flipBytes=z;
},{}],"x1yR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./align");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./bytes");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./constants");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var n=require("./count");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});var u=require("./edit");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});var o=require("./float");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}})});var c=require("./gray");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}})});var f=require("./logic");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return f[e]}})});var a=require("./mask");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return a[e]}})});var i=require("./pow");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return i[e]}})});var s=require("./rotate");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return s[e]}})});var l=require("./splat");Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return l[e]}})});var d=require("./swizzle");Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return d[e]}})});
},{"./align":"CQ38","./bytes":"eZpf","./constants":"V9gr","./count":"ycmp","./edit":"OUuY","./float":"kT64","./gray":"lHZN","./logic":"taxf","./mask":"yv4p","./pow":"WXHW","./rotate":"Vu6r","./splat":"unVs","./swizzle":"vgOV"}],"y7jn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defHashMap=g,exports.HashMap=void 0;var e,s=require("tslib"),t=require("@thi.ng/binary"),i=require("@thi.ng/checks"),n=require("@thi.ng/equiv"),r=require("@thi.ng/transducers"),a=require("./dissoc"),o=require("./internal/equiv"),h=require("./internal/inspect"),u=require("./into");const c=new WeakMap,l=(e,s)=>(function*(){for(let t of c.get(e).bins)t&&(yield t[s])}),b=16,p=.75;let d=e=class extends Map{constructor(e,s){super();const i=(0,t.ceilPow2)(Math.min(s.cap||16,4))-1;c.set(this,{hash:s.hash,equiv:s.equiv||n.equiv,load:s.load||p,mask:i,bins:new Array(i+1),size:0}),e&&this.into(e)}get[Symbol.species](){return e}get[Symbol.toStringTag](){return"HashMap"}get size(){return c.get(this).size}[Symbol.iterator](){return this.entries()}*entries(){for(let e of c.get(this).bins)e&&(yield[e[0],e[1]])}keys(){return l(this,0)()}values(){return l(this,1)()}forEach(e,s){for(let t of c.get(this).bins)e.call(s,t[1],t[0],this)}clear(){const e=c.get(this);e.bins=new Array(16),e.mask=15,e.size=0}empty(){return new e(null,this.opts({cap:16}))}copy(){const s=c.get(this),t=new e(null,this.opts({cap:4}));return Object.assign(c.get(t),{bins:s.bins.slice(),mask:s.mask,size:s.size}),t}equiv(e){return(0,o.equivMap)(this,e)}has(e){const s=c.get(this),t=this.find(e,s);return t>=0&&null!=s.bins[t]}get(e,s){const t=c.get(this),i=this.find(e,t);return i>=0&&t.bins[i]?t.bins[i][1]:s}set(e,s){const t=c.get(this);let i=this.find(e,t);return i>=0&&t.bins[i]?(t.bins[i][1]=s,this):(t.size>t.mask*t.load&&(this.resize(t),i=this.find(e,t)),t.bins[i]=[e,s],t.size++,this)}delete(e){const s=c.get(this);let t=this.find(e,s);const i=s.bins;if(t>=0&&!i[t])return!1;s.size--;const n=s.mask;let r,a=t;for(;;){delete i[t];do{if(!i[a=a+1&n])return!0;r=s.hash(i[a][0])&n}while(t<=a?t<r&&r<=a:t<r||r<=a);i[t]=i[a],t=a}}into(e){return(0,u.into)(this,e)}dissoc(e){return(0,a.dissoc)(this,e)}opts(e){const s=c.get(this);return Object.assign({hash:s.hash,equiv:s.equiv,load:s.load,cap:s.mask+1},e)}find(e,s){const t=s.mask,i=s.bins,n=s.equiv;let r=t,a=s.hash(e)&t;for(;i[a]&&!n(i[a][0],e);){if(--r<0)return-1;a=a+1&s.mask}return a}resize(e){const s=e.bins,t=2*(e.mask+1);e.bins=new Array(t),e.mask=t-1,e.size=0;for(let i of s)i&&this.set(i[0],i[1])}};function g(e,s){if((0,i.isPlainObject)(e)){const t=Object.keys(e);return new d((0,r.map)(s=>[s,e[s]],t),Object.assign({cap:t.length/(s.load||p)},s))}return new d(e,s)}exports.HashMap=d,exports.HashMap=d=e=(0,s.__decorate)([h.inspectable],d);
},{"tslib":"vCxL","@thi.ng/binary":"x1yR","@thi.ng/checks":"HctC","@thi.ng/equiv":"zlnS","@thi.ng/transducers":"ntmJ","./dissoc":"JN6K","./internal/equiv":"BfHN","./internal/inspect":"ubSe","./into":"qXmG"}],"zwtX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.selectKeysObj=exports.selectKeysMap=void 0;var e=require("./utils");const t=(t,s)=>{const r=(0,e.empty)(t,Map);for(let e of s)t.has(e)&&r.set(e,t.get(e));return r};exports.selectKeysMap=t;const s=(e,t)=>{const s={};for(let r of t)e.hasOwnProperty(r)&&(s[r]=e[r]);return s};exports.selectKeysObj=s;
},{"./utils":"anL8"}],"tvg8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.indexed=void 0;var e=require("./equiv-map"),t=require("./select-keys"),r=require("./utils");const s=(s,i)=>{const o=new e.EquivMap;let u,d,n;for(u of s)d=(0,t.selectKeysObj)(u,i),!(n=o.get(d))&&o.set(d,n=(0,r.empty)(s,Set)),n.add(u);return o};exports.indexed=s;
},{"./equiv-map":"CE46","./select-keys":"zwtX","./utils":"anL8"}],"lq1X":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.intersectionR=o,exports.intersection=void 0;var e=require("./internal/xform-setop"),r=require("./into"),t=require("./utils");const i=(e,o,n)=>{if(n=n||(0,t.empty)(e,Set),e===o)return(0,r.into)(n,e);if(o.size<e.size)return i(o,e,n);for(let r of o)e.has(r)&&n.add(r);return n};function o(r){return(0,e.xformSetOp)(o,i,r)}exports.intersection=i;
},{"./internal/xform-setop":"NIFJ","./into":"qXmG","./utils":"anL8"}],"M1Bv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.invertObj=exports.invertMap=void 0;const e=(e,t)=>{t=t||new Map;for(let r of e)t.set(r[1],r[0]);return t};exports.invertMap=e;const t=(e,t={})=>{for(let r in e)t[e[r]]=r;return t};exports.invertObj=t;
},{}],"aHlg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mergeObj=exports.mergeMap=void 0;const e=(e,...r)=>{for(let t of r)for(let r of t)e.set(r[0],r[1]);return e};exports.mergeMap=e;const r=(e,...r)=>Object.assign(e,...r);exports.mergeObj=r;
},{}],"mkST":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.renameKeysObj=exports.renameKeysMap=void 0;var e=require("./utils");const r=(r,t,s)=>{s=s||(0,e.empty)(r,Map);for(let[e,o]of r)s.set(t.has(e)?t.get(e):e,o);return s};exports.renameKeysMap=r;const t=(e,r,t={})=>{for(let s in e)t[r.hasOwnProperty(s)?r[s]:s]=e[s];return t};exports.renameKeysObj=t;
},{"./utils":"anL8"}],"t7nL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.joinWith=exports.join=void 0;var e=require("./common-keys"),t=require("./indexed"),r=require("./invert"),s=require("./merge"),i=require("./rename-keys"),o=require("./select-keys"),n=require("./utils");const c=(r,i)=>{if(r.size&&i.size){const c=(0,e.commonKeysObj)((0,n.first)(r)||{},(0,n.first)(i)||{});let j,u;r.size<=i.size?(j=r,u=i):(j=i,u=r);const d=(0,t.indexed)(j,c),f=(0,n.empty)(r,Set);for(let e of u){const t=d.get((0,o.selectKeysObj)(e,c));if(t)for(let r of t)f.add((0,s.mergeObj)(Object.assign({},r),e))}return f}return(0,n.empty)(r,Set)};exports.join=c;const j=(e,c,j)=>{if(e.size&&c.size){let u,d,f;e.size<=c.size?(u=e,d=c,f=(0,r.invertObj)(j)):(u=c,d=e,f=j);const b=(0,t.indexed)(u,(0,n.objValues)(f)),l=Object.keys(f),m=(0,n.empty)(e,Set);for(let e of d){const t=b.get((0,i.renameKeysObj)((0,o.selectKeysObj)(e,l),f));if(t)for(let r of t)m.add((0,s.mergeObj)(Object.assign({},r),e))}return m}return(0,n.empty)(e,Set)};exports.joinWith=j,j(new Set([{a:1,b:2}]),new Set([{id:1,c:2}]),{a:"id"});
},{"./common-keys":"qfP3","./indexed":"tvg8","./invert":"M1Bv","./merge":"aHlg","./rename-keys":"mkST","./select-keys":"zwtX","./utils":"anL8"}],"KGHx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.dcons=exports.DCons=void 0;var t=require("@thi.ng/api"),e=require("@thi.ng/checks"),i=require("@thi.ng/compare"),h=require("@thi.ng/equiv"),s=require("@thi.ng/errors"),r=require("@thi.ng/random"),n=require("@thi.ng/transducers");class l{constructor(t){this._length=0,t&&this.into(t)}get length(){return this._length}copy(){return new l(this)}empty(){return new l}clear(){this.release()}release(){let t,e=this.head;for(;e;)t=e.next,delete e.value,delete e.prev,delete e.next,e=t;return delete this.head,delete this.tail,this._length=0,!0}compare(t){const e=this._length;if(e<t._length)return-1;if(e>t._length)return 1;if(0===e)return 0;{let e=this.head,h=t.head,s=0;for(;e&&0==s;)s=(0,i.compare)(e.value,h.value),e=e.next,h=h.next;return s}}equiv(t){if((t instanceof l||(0,e.isArrayLike)(t))&&this._length===t.length){if(0===this._length)return!0;let e=this.head;for(let i of t){if(!(0,h.equiv)(e.value,i))return!1;e=e.next}return!0}return!1}*[Symbol.iterator](){let t=this.head;for(;t;)yield t.value,t=t.next}seq(t=0,e=this.length){if(t>=e||t<0)return;let i=this.nthCell(t);const h=this.nthCell(e-1),s=t=>({first:()=>t.value,next:()=>t!==h&&t.next?s(t.next):void 0});return i?s(i):void 0}*cycle(){for(;;)yield*this}$reduce(t,e){let i=this.head;for(;i&&!(0,n.isReduced)(e);)e=t(e,i.value),i=i.next;return e}drop(){const t=this.head;if(t)return this.head=t.next,this.head?delete this.head.prev:delete this.tail,this._length--,t.value}cons(t){const e={value:t,next:this.head};return this.head?this.head.prev=e:this.tail=e,this.head=e,this._length++,this}insertBefore(t,e){t||(0,s.illegalArgs)("cell is undefined");const i={value:e,next:t,prev:t.prev};return t.prev?t.prev.next=i:this.head=i,t.prev=i,this._length++,this}insertAfter(t,e){t||(0,s.illegalArgs)("cell is undefined");const i={value:e,next:t.next,prev:t};return t.next?t.next.prev=i:this.tail=i,t.next=i,this._length++,this}insertBeforeNth(t,e){return t<0&&(t+=this._length),t<=0?this.cons(e):(this.ensureIndex(t),this.insertBefore(this.nthCellUnsafe(t),e))}insertAfterNth(t,e){return t<0&&(t+=this._length),t>=this._length-1?this.push(e):(this.ensureIndex(t),this.insertAfter(this.nthCellUnsafe(t),e))}insertSorted(t,e){e=e||i.compare;let h=this.head;for(;h;){if(e(t,h.value)<=0)return this.insertBefore(h,t);h=h.next}return this.push(t)}find(t){let e=this.head;for(;e;){if(e.value===t)return e;e=e.next}}findWith(t){let e=this.head;for(;e;){if(t(e.value))return e;e=e.next}}concat(...t){const e=this.copy();for(let i of t)e.into(i);return e}into(t){for(let e of t)this.push(e)}slice(t=0,e=this.length){let i=t<0?t+this._length:t,h=e<0?e+this._length:e;(i<0||h<0)&&(0,s.illegalArgs)("invalid indices: ${from} / ${to}");const r=new l;let n=this.nthCell(i);for(;n&&++i<=h;)r.push(n.value),n=n.next;return r}splice(t,e=0,i){let h;"number"==typeof t?(t<0&&(t+=this._length),this.ensureIndex(t),h=this.nthCellUnsafe(t)):h=t;const s=new l;if(e>0)for(;h&&e-- >0;)this.remove(h),s.push(h.value),h=h.next;else h&&(h=h.next);if(i)if(h)for(let r of i)this.insertBefore(h,r);else for(let r of i)this.push(r);return s}remove(t){return t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev,this._length--,this}swap(t,e){if(t!==e){const i=t.value;t.value=e.value,e.value=i}return this}push(t){if(this.tail){const e={value:t,prev:this.tail};return this.tail.next=e,this.tail=e,this._length++,this}return this.cons(t)}pop(){const t=this.tail;if(t)return this.tail=t.prev,this.tail?delete this.tail.next:delete this.head,this._length--,t.value}first(){return this.head&&this.head.value}peek(){return this.tail&&this.tail.value}setHead(t){return this.head?(this.head.value=t,this):this.cons(t)}setTail(t){return this.tail?(this.tail.value=t,this):this.push(t)}setNth(t,e){const i=this.nthCell(t);return!i&&(0,s.illegalArgs)(`index out of bounds: ${t}`),i.value=e,this}nth(t,e){const i=this.nthCell(t);return i?i.value:e}nthCell(t){if(t<0&&(t+=this._length),!(t<0||t>=this._length))return this.nthCellUnsafe(t)}rotateLeft(){switch(this._length){case 0:case 1:return this;case 2:return this.swap(this.head,this.tail);default:return this.push(this.drop())}}rotateRight(){switch(this._length){case 0:case 1:return this;case 2:return this.swap(this.head,this.tail);default:const t=this.peek();return this.pop(),this.cons(t)}}map(t){const e=new l;let i=this.head;for(;i;)e.push(t(i.value)),i=i.next;return e}filter(t){const e=new l;let i=this.head;for(;i;)t(i.value)&&e.push(i.value),i=i.next;return e}reduce(t,e){let i=e,h=this.head;for(;h;)i=t(i,h.value),h=h.next;return i}shuffle(t,e=r.SYSTEM){if(this._length<2)return this;for(t=null!=t?t:Math.ceil(1.5*Math.log2(this._length));t>0;t--){let t=this.head;for(;t;){const i=t.next;e.float()<.5?this.asHead(t):this.asTail(t),t=i}}return this}sort(t=i.compare){if(!this._length)return this;let e=1;for(;;){let i=this.head;this.head=void 0,this.tail=void 0;let h=0;for(;i;){h++;let s=i,r=0;for(let t=0;t<e&&(r++,s=s.next);t++);let n=e;for(;r>0||n>0&&s;){let e;0===r?(e=s,s=s.next,n--):s&&0!==n?t(i.value,s.value)<=0?(e=i,i=i.next,r--):(e=s,s=s.next,n--):(e=i,i=i.next,r--),this.tail?this.tail.next=e:this.head=e,e.prev=this.tail,this.tail=e}i=s}if(this.tail.next=void 0,h<=1)return this;e*=2}}reverse(){let t=this.head,e=this.tail,i=(this._length>>>1)+(1&this._length);for(;t&&e&&i>0;){const h=t.value;t.value=e.value,e.value=h,t=t.next,e=e.prev,i--}return this}asHead(t){return t===this.head?this:(this.remove(t),this.head.prev=t,t.next=this.head,t.prev=void 0,this.head=t,this._length++,this)}asTail(t){return t===this.tail?this:(this.remove(t),this.tail.next=t,t.prev=this.tail,t.next=void 0,this.tail=t,this._length++,this)}toString(){let t=[],e=this.head;for(;e;)t.push(null!=e.value?String(e.value):void 0===e.value?"undefined":"null"),e=e.next;return t.join(", ")}toJSON(){return[...this]}ensureIndex(e){(0,t.assert)(e>=0&&e<this._length,`index out of range: ${e}`)}nthCellUnsafe(t){let e,i;for(t<=this._length>>1?(e=this.head,i="next"):(e=this.tail,i="prev",t=this._length-t-1);t-- >0&&e;)e=e[i];return e}}exports.DCons=l;const a=t=>new l(t);exports.dcons=a;
},{"@thi.ng/api":"AsNk","@thi.ng/checks":"HctC","@thi.ng/compare":"kNRw","@thi.ng/equiv":"zlnS","@thi.ng/errors":"Qv5j","@thi.ng/random":"rTK3","@thi.ng/transducers":"ntmJ"}],"hVFb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defLLSet=exports.LLSet=void 0;var e,t=require("tslib"),i=require("@thi.ng/api"),s=require("@thi.ng/dcons"),r=require("@thi.ng/equiv"),n=require("./dissoc"),u=require("./internal/equiv"),l=require("./internal/inspect"),o=require("./into");const a=new WeakMap,h=e=>a.get(e).vals;let v=e=class extends Set{constructor(e,t={}){super(),a.set(this,{equiv:t.equiv||r.equiv,vals:new s.DCons}),e&&this.into(e)}*[Symbol.iterator](){yield*h(this)}get[Symbol.species](){return e}get[Symbol.toStringTag](){return"LLSet"}get size(){return h(this).length}copy(){const t=a.get(this),i=new e(null,this.opts());return a.get(i).vals=t.vals.copy(),i}empty(){return new e(null,this.opts())}clear(){h(this).clear()}first(){if(this.size)return h(this).head.value}add(e){return!this.has(e)&&h(this).push(e),this}into(e){return(0,o.into)(this,e)}has(e){return this.get(e,i.SEMAPHORE)!==i.SEMAPHORE}get(e,t){const i=a.get(this),s=i.equiv;let r=i.vals.head;for(;r;){if(s(r.value,e))return r.value;r=r.next}return t}delete(e){const t=a.get(this),i=t.equiv;let s=t.vals.head;for(;s;){if(i(s.value,e))return t.vals.splice(s,1),!0;s=s.next}return!1}disj(e){return(0,n.dissoc)(this,e)}equiv(e){return(0,u.equivSet)(this,e)}forEach(e,t){let i=h(this).head;for(;i;)e.call(t,i.value,i.value,this),i=i.next}*entries(){for(let e of h(this))yield[e,e]}*keys(){yield*h(this)}*values(){yield*h(this)}opts(){return{equiv:a.get(this).equiv}}};exports.LLSet=v,exports.LLSet=v=e=(0,t.__decorate)([l.inspectable],v);const c=(e,t)=>new v(e,t);exports.defLLSet=c;
},{"tslib":"vCxL","@thi.ng/api":"AsNk","@thi.ng/dcons":"KGHx","@thi.ng/equiv":"zlnS","./dissoc":"JN6K","./internal/equiv":"BfHN","./internal/inspect":"ubSe","./into":"qXmG"}],"UZ1j":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mergeApplyObj=exports.mergeApplyMap=void 0;var e=require("@thi.ng/checks"),t=require("./utils");const r=(r,s)=>{const o=(0,t.copy)(r,Map);for(let[t,p]of s)o.set(t,(0,e.isFunction)(p)?p(o.get(t)):p);return o};exports.mergeApplyMap=r;const s=(t,r)=>{const s=Object.assign({},t);for(let o in r){const t=r[o];s[o]=(0,e.isFunction)(t)?t(s[o]):t}return s};exports.mergeApplyObj=s;
},{"@thi.ng/checks":"HctC","./utils":"anL8"}],"tHIC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mergeObjWith=exports.mergeMapWith=void 0;var e=require("./utils");const t=(t,r,...o)=>{const s=(0,e.copy)(r,Map);for(let e of o)for(let[r,o]of e)s.set(r,s.has(r)?t(s.get(r),o):o);return s};exports.mergeMapWith=t;const r=(e,t,...r)=>{const o=Object.assign({},t);for(let s of r)for(let r in s){const i=s[r];o[r]=o.hasOwnProperty(r)?e(t[r],i):i}return o};exports.mergeObjWith=r;
},{"./utils":"anL8"}],"hKQw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mergeDeepObj=void 0;var e=require("@thi.ng/checks"),r=require("./merge-with");const t=(i,...s)=>(0,r.mergeObjWith)((r,i)=>(0,e.isPlainObject)(r)&&(0,e.isPlainObject)(i)?t(r,i):i,i,...s);exports.mergeDeepObj=t;
},{"@thi.ng/checks":"HctC","./merge-with":"tHIC"}],"LRO2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defSortedMap=d,exports.SortedMap=void 0;var e,t=require("tslib"),r=require("@thi.ng/api"),n=require("@thi.ng/checks"),i=require("@thi.ng/compare"),s=require("@thi.ng/transducers"),o=require("./dissoc"),a=require("./internal/equiv"),h=require("./internal/inspect"),c=require("./into");class l{constructor(e,t,r){this.k=e,this.v=t,this.next=new Array(r+1)}}const u=new WeakMap;let p=e=class extends Map{constructor(t,r={}){super();const n=r.capacity||e.DEFAULT_CAP,s=Math.ceil(Math.log2(n));u.set(this,{head:new l(null,null,0),cap:Math.pow(2,s),cmp:r.compare||i.compare,p:r.probability||e.DEFAULT_P,maxh:s,length:0,h:0}),t&&this.into(t)}get[Symbol.species](){return e}*[Symbol.iterator](){let e=u.get(this).head;for(;e=e.next[0];)yield[e.k,e.v]}*entries(e,t=!1){const r=u.get(this);let n=r.head;const i=r.cmp;let s;if(t){for(;n=n.next[0];)if((void 0===e||(s=i(n.k,e))<=0)&&(yield[n.k,n.v],0===s))return}else for(;n=n.next[0];)(void 0===e||(s=i(n.k,e))>=0)&&(yield[n.k,n.v])}keys(e,t=!1){return(0,s.map)(e=>e[0],this.entries(e,t))}values(e,t=!1){return(0,s.map)(e=>e[1],this.entries(e,t))}get size(){return u.get(this).length}clear(){const e=u.get(this);e.head=new l(null,null,0),e.length=0,e.h=0}empty(){return new e(null,Object.assign(Object.assign({},this.opts()),{capacity:e.DEFAULT_CAP}))}copy(){return new e(this,this.opts())}compare(e){const t=this.size,r=e.size;if(t<r)return-1;if(t>r)return 1;const n=this.entries(),s=e.entries();let o,a,h;for(;o=n.next(),a=s.next(),!o.done&&!a.done;)if(0!==(h=(0,i.compare)(o.value[0],a.value[0]))||0!==(h=(0,i.compare)(o.value[1],a.value[1])))return h;return 0}equiv(e){return(0,a.equivMap)(this,e)}first(){const e=u.get(this).head.next[0];return e?[e.k,e.v]:void 0}get(e,t){const r=this.findPredNode(e).next[0];return r&&0===u.get(this).cmp(r.k,e)?r.v:t}has(e){return this.get(e,r.SEMAPHORE)!==r.SEMAPHORE}set(e,t){const r=u.get(this);let n=r.head,i=r.h,s=new Array(i);const o=r.cmp;let a;for(;i>=0;){for(;n.next[i]&&(a=o(n.next[i].k,e))<0;)n=n.next[i];if(n.next[i]&&0===a){do{n.next[i].v=t}while(--i>=0);return this}s[i--]=n}const h=this.pickHeight(r.maxh,r.h,r.p);for(n=new l(e,t,h);r.h<h;)s[++r.h]=r.head;for(let c=0;c<=h;c++)n.next[c]=s[c].next[c],s[c].next[c]=n;return r.length++,r.length>=r.cap&&(r.cap*=2,r.maxh++),this}delete(e){const t=u.get(this);let r=t.head,n=t.h,i=!1;const s=t.cmp;let o;for(;n>=0;){for(;r.next[n]&&(o=s(r.next[n].k,e))<0;)r=r.next[n];r.next[n]&&0===o&&(i=!0,r.next[n]=r.next[n].next[n],r!=t.head||r.next[n]||(t.h=Math.max(0,t.h-1))),n--}return i&&t.length--,i}into(e){return(0,c.into)(this,e)}dissoc(e){return(0,o.dissoc)(this,e)}forEach(e,t){for(let r of this)e.call(t,r[1],r[0],this)}$reduce(e,t){let r=u.get(this).head;for(;(r=r.next[0])&&!(0,s.isReduced)(t);)t=e(t,[r.k,r.v]);return t}opts(){const e=u.get(this);return{capacity:e.cap,compare:e.cmp,probability:e.p}}findPredNode(e){const t=u.get(this),r=t.cmp;let n=t.head,i=t.h;for(;i>=0;){for(;n.next[i]&&r(n.next[i].k,e)<0;)n=n.next[i];i--}return n}pickHeight(e,t,r){const n=Math.min(e,t+1);let i=0;for(;Math.random()<r&&i<n;)i++;return i}};function d(e,t){if((0,n.isPlainObject)(e)){const r=Object.keys(e);return new p((0,s.map)(t=>[t,e[t]],r),Object.assign({capacity:r.length},t))}return new p(e,t)}exports.SortedMap=p,p.DEFAULT_CAP=8,p.DEFAULT_P=1/Math.E,exports.SortedMap=p=e=(0,t.__decorate)([h.inspectable],p);
},{"tslib":"vCxL","@thi.ng/api":"AsNk","@thi.ng/checks":"HctC","@thi.ng/compare":"kNRw","@thi.ng/transducers":"ntmJ","./dissoc":"JN6K","./internal/equiv":"BfHN","./internal/inspect":"ubSe","./into":"qXmG"}],"SSny":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defSortedSet=exports.SortedSet=void 0;var e,t=require("tslib"),r=require("@thi.ng/compare"),s=require("@thi.ng/transducers"),i=require("./dissoc"),n=require("./internal/equiv"),o=require("./internal/inspect"),u=require("./into"),a=require("./sorted-map");const c=new WeakMap;let h=e=class extends Set{constructor(e,t){super(),c.set(this,new a.SortedMap(e?(0,s.map)(e=>[e,e],e):null,t))}[Symbol.iterator](){return this.keys()}get[Symbol.species](){return e}get[Symbol.toStringTag](){return"SortedSet"}get size(){return c.get(this).size}copy(){return new e(this.keys(),this.opts())}empty(){return new e(null,Object.assign(Object.assign({},this.opts()),{capacity:a.SortedMap.DEFAULT_CAP}))}compare(e){const t=this.size,s=e.size;if(t<s)return-1;if(t>s)return 1;const i=this.entries(),n=e.entries();let o,u,a;for(;o=i.next(),u=n.next(),!o.done&&!u.done;)if(0!==(a=(0,r.compare)(o.value[0],u.value[0])))return a;return 0}equiv(e){return(0,n.equivSet)(this,e)}$reduce(e,t){return c.get(this).$reduce((t,r)=>e(t,r[0]),t)}entries(e,t=!1){return c.get(this).entries(e,t)}keys(e,t=!1){return c.get(this).keys(e,t)}values(e,t=!1){return c.get(this).values(e,t)}add(e){return c.get(this).set(e,e),this}into(e){return(0,u.into)(this,e)}clear(){c.get(this).clear()}first(){const e=c.get(this).first();return e?e[0]:void 0}delete(e){return c.get(this).delete(e)}disj(e){return(0,i.dissoc)(this,e)}forEach(e,t){for(let r of this)e.call(t,r,r,this)}has(e){return c.get(this).has(e)}get(e,t){return c.get(this).get(e,t)}opts(){return c.get(this).opts()}};exports.SortedSet=h,exports.SortedSet=h=e=(0,t.__decorate)([o.inspectable],h);const d=(e,t)=>new h(e,t);exports.defSortedSet=d;
},{"tslib":"vCxL","@thi.ng/compare":"kNRw","@thi.ng/transducers":"ntmJ","./dissoc":"JN6K","./internal/equiv":"BfHN","./internal/inspect":"ubSe","./into":"qXmG","./sorted-map":"LRO2"}],"DOBo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defSparseSet=exports.SparseSet32=exports.SparseSet16=exports.SparseSet8=exports.ASparseSet=void 0;var e=require("tslib"),t=require("@thi.ng/checks"),s=require("@thi.ng/errors"),r=require("./dissoc"),n=require("./internal/inspect"),i=require("./into");const o=new WeakMap,a=()=>(0,s.illegalArgs)("dense & sparse arrays must be of same size");let p=class extends Set{constructor(e,t){super(),o.set(this,{dense:e,sparse:t,n:0})}[Symbol.iterator](){return this.keys()}get size(){return o.get(this).n}get capacity(){return o.get(this).dense.length}clear(){o.get(this).n=0}equiv(e){if(this===e)return!0;if(!(e instanceof Set)||this.size!==e.size)return!1;const t=o.get(this),s=t.dense;for(let r=t.n;--r>=0;)if(!e.has(s[r]))return!1;return!0}add(e){const t=o.get(this),s=t.dense,r=t.sparse,n=s.length,i=r[e],a=t.n;return e<n&&a<n&&!(i<a&&s[i]===e)&&(s[a]=e,r[e]=a,t.n++),this}delete(e){const t=o.get(this),s=t.dense,r=t.sparse,n=r[e];if(n<t.n&&s[n]===e){const e=s[--t.n];return s[n]=e,r[e]=n,!0}return!1}has(e){const t=o.get(this),s=t.sparse[e];return s<t.n&&t.dense[s]===e}get(e,t=-1){return this.has(e)?e:t}first(){const e=o.get(this);return e.n?e.dense[0]:void 0}into(e){return(0,i.into)(this,e)}disj(e){return(0,r.dissoc)(this,e)}forEach(e,t){const s=o.get(this),r=s.dense,n=s.n;for(let i=0;i<n;i++){const s=r[i];e.call(t,s,s,this)}}*entries(){const e=o.get(this),t=e.dense,s=e.n;for(let r=0;r<s;r++)yield[t[r],t[r]]}*keys(){const e=o.get(this),t=e.dense,s=e.n;for(let r=0;r<s;r++)yield t[r]}values(){return this.keys()}__copyTo(e){const t=o.get(this),s=o.get(e);return s.dense=t.dense.slice(),s.sparse=t.sparse.slice(),s.n=t.n,e}};exports.ASparseSet=p,exports.ASparseSet=p=(0,e.__decorate)([n.inspectable],p);class c extends p{constructor(e,s){(0,t.isNumber)(e)?super(new Uint8Array(e),new Uint8Array(e)):e.length===s.length?super(e,s):a()}get[Symbol.species](){return c}get[Symbol.toStringTag](){return"SparseSet8"}copy(){return this.__copyTo(new c(0))}empty(){return new c(this.capacity)}}exports.SparseSet8=c;class u extends p{constructor(e,s){(0,t.isNumber)(e)?super(new Uint16Array(e),new Uint16Array(e)):e.length===s.length?super(e,s):a()}get[Symbol.species](){return u}get[Symbol.toStringTag](){return"SparseSet16"}copy(){return this.__copyTo(new u(0))}empty(){return new u(this.capacity)}}exports.SparseSet16=u;class h extends p{constructor(e,s){(0,t.isNumber)(e)?super(new Uint32Array(e),new Uint32Array(e)):e.length===s.length?super(e,s):a()}get[Symbol.species](){return h}get[Symbol.toStringTag](){return"SparseSet32"}copy(){return this.__copyTo(new h(0))}empty(){return new h(this.capacity)}}exports.SparseSet32=h;const l=e=>e<=256?new c(e):e<=65536?new u(e):new h(e);exports.defSparseSet=l;
},{"tslib":"vCxL","@thi.ng/checks":"HctC","@thi.ng/errors":"Qv5j","./dissoc":"JN6K","./internal/inspect":"ubSe","./into":"qXmG"}],"PPQK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.unionR=i,exports.union=void 0;var e=require("./internal/xform-setop"),r=require("./into"),t=require("./utils");const o=(e,o,i)=>{if(e.size<o.size){const r=e;e=o,o=r}return i=i?(0,r.into)(i,e):(0,t.copy)(e,Set),e===o?i:(0,r.into)(i,o)};function i(r){return(0,e.xformSetOp)(i,o,r)}exports.union=o;
},{"./internal/xform-setop":"NIFJ","./into":"qXmG","./utils":"anL8"}],"jRux":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.withoutKeysObj=exports.withoutKeysMap=void 0;var e=require("./utils");const t=(t,s)=>{const r=(0,e.ensureSet)(s),o=(0,e.empty)(t,Map);for(let e of t.entries()){const t=e[0];!r.has(t)&&o.set(t,e[1])}return o};exports.withoutKeysMap=t;const s=(t,s)=>{const r=(0,e.ensureSet)(s),o={};for(let e in t)t.hasOwnProperty(e)&&!r.has(e)&&(o[e]=t[e]);return o};exports.withoutKeysObj=s;
},{"./utils":"anL8"}],"IDdP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./array-set");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./common-keys");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./difference");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var n=require("./dissoc");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});var u=require("./equiv-map");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});var o=require("./hash-map");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}})});var c=require("./indexed");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}})});var f=require("./intersection");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return f[e]}})});var i=require("./into");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return i[e]}})});var a=require("./invert");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return a[e]}})});var s=require("./join");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return s[e]}})});var d=require("./ll-set");Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return d[e]}})});var l=require("./merge-apply");Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return l[e]}})});var b=require("./merge-deep");Object.keys(b).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return b[e]}})});var p=require("./merge-with");Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return p[e]}})});var y=require("./merge");Object.keys(y).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return y[e]}})});var j=require("./rename-keys");Object.keys(j).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return j[e]}})});var _=require("./select-keys");Object.keys(_).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return _[e]}})});var O=require("./sorted-map");Object.keys(O).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return O[e]}})});var m=require("./sorted-set");Object.keys(m).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return m[e]}})});var g=require("./sparse-set");Object.keys(g).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return g[e]}})});var h=require("./union");Object.keys(h).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return h[e]}})});var k=require("./without-keys");Object.keys(k).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return k[e]}})});
},{"./array-set":"M7Gr","./common-keys":"qfP3","./difference":"CDD8","./dissoc":"JN6K","./equiv-map":"CE46","./hash-map":"y7jn","./indexed":"tvg8","./intersection":"lq1X","./into":"qXmG","./invert":"M1Bv","./join":"t7nL","./ll-set":"hVFb","./merge-apply":"UZ1j","./merge-deep":"hKQw","./merge-with":"tHIC","./merge":"aHlg","./rename-keys":"mkST","./select-keys":"zwtX","./sorted-map":"LRO2","./sorted-set":"SSny","./sparse-set":"DOBo","./union":"PPQK","./without-keys":"jRux"}],"SipP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PubSub=exports.pubsub=void 0;var s=require("@thi.ng/associative"),e=require("@thi.ng/errors"),i=require("./api"),t=require("./subscription"),r=require("./utils/idgen");const u=s=>new o(s);exports.pubsub=u;class o extends t.Subscription{constructor(e){e=e||{},super(void 0,(0,r.optsWithID)("pubsub",{xform:e.xform})),this.topicfn=e.topic,this.topics=new s.EquivMap(void 0,{equiv:e.equiv})}subscribe(){return(0,e.unsupported)("use subscribeTopic() instead")}transform(){return(0,e.unsupported)("use subscribeTopic() instead")}subscribeTopic(s,e,i){let r=this.topics.get(s);return!r&&this.topics.set(s,r=(0,t.subscription)()),r.subscribe(e,i)}unsubscribeTopic(s,e){const i=this.topics.get(s);return!!i&&i.unsubscribe(e)}unsubscribe(s){if(!s){for(let s of this.topics.values())s.unsubscribe();return this.topics.clear(),super.unsubscribe()}return(0,e.unsupported)()}done(){for(let s of this.topics.values())s.done();super.done()}dispatch(s){i.LOGGER.debug(this.id,"dispatch",s);const e=this.topicfn(s);if(void 0!==e){const i=this.topics.get(e);if(i)try{i.next&&i.next(s)}catch(t){i.error?i.error(t):this.error(t)}}}}exports.PubSub=o;
},{"@thi.ng/associative":"IDdP","@thi.ng/errors":"Qv5j","./api":"q5sT","./subscription":"NbpO","./utils/idgen":"CFHe"}],"hRnd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.stream=r,exports.Stream=void 0;var e=require("@thi.ng/checks"),s=require("./api"),t=require("./subscription"),i=require("./utils/idgen");function r(e,s){return new c(e,s)}class c extends t.Subscription{constructor(s,t){const[r,c]=(0,e.isFunction)(s)?[s,t]:[void 0,s];super(void 0,(0,i.optsWithID)("stream",c)),this.src=r,this._inited=!1}subscribe(...e){const s=super.subscribe.apply(this,e);return this._inited||(this._cancel=this.src&&this.src(this)||(()=>void 0),this._inited=!0),s}unsubscribe(e){const t=super.unsubscribe(e);return!t||e&&(this.subs&&this.subs.length||this.closeOut===s.CloseMode.NEVER)||this.cancel(),t}done(){this.cancel(),super.done(),delete this.src,delete this._cancel}error(e){super.error(e),this.cancel()}cancel(){if(this._cancel){s.LOGGER.debug(this.id,"cancel");const e=this._cancel;delete this._cancel,e()}}}exports.Stream=c;
},{"@thi.ng/checks":"HctC","./api":"q5sT","./subscription":"NbpO","./utils/idgen":"CFHe"}],"fveN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.StreamMerge=exports.merge=void 0;var e=require("./api"),s=require("./subscription"),r=require("./utils/idgen");const t=e=>new o(e);exports.merge=t;class o extends s.Subscription{constructor(e){e=e||{},super(void 0,(0,r.optsWithID)("streammerge",e)),this.sources=new Map,e.src&&this.addAll(e.src)}add(e){this.ensureState(),this.sources.set(e,e.subscribe({next:e=>{e instanceof s.Subscription?this.add(e):this.next(e)},done:()=>this.markDone(e),__owner:this},{id:`in-${e.id}`}))}addAll(e){for(let s of e)this.add(s)}remove(e){const s=this.sources.get(e);return!!s&&(this.sources.delete(e),s.unsubscribe(),!0)}removeID(e){for(let s of this.sources)if(s[0].id===e)return this.remove(s[0]);return!1}removeAll(e){let s=!0;for(let r of e)s=this.remove(r)&&s;return s}removeAllIDs(e){let s=!0;for(let r of e)s=this.removeID(r)&&s;return s}unsubscribe(s){if(!s){for(let e of this.sources.values())e.unsubscribe();this.state=e.State.DONE,this.sources.clear()}return super.unsubscribe(s)}markDone(s){this.remove(s),(this.closeIn===e.CloseMode.FIRST||this.closeIn===e.CloseMode.LAST&&!this.sources.size)&&this.done()}}exports.StreamMerge=o;
},{"./api":"q5sT","./subscription":"NbpO","./utils/idgen":"CFHe"}],"kyYf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fromIterableSync=exports.fromIterable=void 0;var e=require("../api"),r=require("../stream"),t=require("../utils/idgen");const o=(o,l={})=>new r.Stream(r=>{const t=o[Symbol.iterator](),n=setInterval(()=>{let o;(o=t.next()).done?(clearInterval(n),r.closeIn!==e.CloseMode.NEVER&&r.done()):r.next(o.value)},l.delay||0);return()=>clearInterval(n)},(0,t.optsWithID)("iterable",l));exports.fromIterable=o;const l=(o,l)=>new r.Stream(r=>{for(let e of o)r.next(e);r.closeIn!==e.CloseMode.NEVER&&r.done()},(0,t.optsWithID)("iterable-sync",l));exports.fromIterableSync=l;
},{"../api":"q5sT","../stream":"hRnd","../utils/idgen":"CFHe"}],"edd2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.trigger=t;var e=require("./from/iterable"),r=require("./utils/idgen");function t(t=!0){return(0,e.fromIterable)([t],(0,r.optsWithID)("trigger"))}
},{"./from/iterable":"kyYf","./utils/idgen":"CFHe"}],"Z4ly":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fromInterval=void 0;var e=require("../api"),r=require("../stream"),t=require("../utils/idgen");const n=(n,l)=>(l=(0,t.optsWithID)("interval",Object.assign({num:1/0},l)),new r.Stream(r=>{let t=0,s=l.num;r.next(t++);let a=setInterval(()=>{r.next(t++),--s<=0&&(clearInterval(a),r.closeIn!==e.CloseMode.NEVER&&r.done())},n);return()=>clearInterval(a)},l));exports.fromInterval=n;
},{"../api":"q5sT","../stream":"hRnd","../utils/idgen":"CFHe"}],"X2pL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fromRAF=void 0;var e=require("@thi.ng/checks"),r=require("../stream"),t=require("../utils/idgen"),i=require("./interval");const n=n=>(0,e.isNode)()?(0,i.fromInterval)(16,n):new r.Stream(e=>{let r=0,t=!0,i=()=>{t&&e.next(r++),t&&(n=requestAnimationFrame(i))},n=requestAnimationFrame(i);return()=>{t=!1,cancelAnimationFrame(n)}},(0,t.optsWithID)("raf",n));exports.fromRAF=n;
},{"@thi.ng/checks":"HctC","../stream":"hRnd","../utils/idgen":"CFHe","./interval":"Z4ly"}],"cYUH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.tweenNumber=exports.tween=void 0;var e=require("@thi.ng/checks"),r=require("@thi.ng/transducers"),s=require("./api"),t=require("./from/interval"),n=require("./from/raf"),o=require("./stream-sync");const u=(u,c,i,a,m)=>(0,o.sync)({src:{src:u,_:null==m?(0,n.fromRAF)():(0,e.isNumber)(m)?(0,t.fromInterval)(m):m},closeIn:s.CloseMode.FIRST}).transform((0,r.scan)((0,r.reducer)(()=>c,(e,{src:r})=>i(e,r))),(0,r.dedupe)(a||(()=>!1)));exports.tween=u;const c=(e,r=0,s=.05,t=.001,n)=>u(e,r,(e,r)=>e+(r-e)*s,(e,r)=>Math.abs(e-r)<t,n);exports.tweenNumber=c;
},{"@thi.ng/checks":"HctC","@thi.ng/transducers":"ntmJ","./api":"q5sT","./from/interval":"Z4ly","./from/raf":"X2pL","./stream-sync":"sB5n"}],"twuF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fromAtom=void 0;var e=require("../stream"),t=require("../utils/idgen");const r=(r,i)=>(i=(0,t.optsWithID)("atom",Object.assign({emitFirst:!0,changed:(e,t)=>e!==t},i)),new e.Stream(e=>(r.addWatch(e.id,(t,r,o)=>{i.changed(r,o)&&e.next(o)}),i.emitFirst&&e.next(r.deref()),()=>r.removeWatch(e.id)),i));exports.fromAtom=r;
},{"../stream":"hRnd","../utils/idgen":"CFHe"}],"CmHa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fromDOMEvent=exports.fromEvent=void 0;var e=require("../stream"),t=require("../utils/idgen");const r=(r,n,o=!1,s)=>new e.Stream(e=>{let t=t=>e.next(t);return r.addEventListener(n,t,o),()=>r.removeEventListener(n,t,o)},(0,t.optsWithID)(`event-${n}`,s));exports.fromEvent=r;const n=(e,t,n=!1,o)=>r(e,t,n,o);exports.fromDOMEvent=n;
},{"../stream":"hRnd","../utils/idgen":"CFHe"}],"hZgy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fromPromise=void 0;var e=require("../api"),r=require("../stream"),t=require("../utils/idgen");const o=(o,s)=>{let i=!1,n=!1,u={};return o.catch(e=>{u=e,n=!0}),new r.Stream(r=>(o.then(t=>{!i&&r.getState()<e.State.DONE&&(n?(r.error(u),u=null):(r.next(t),r.closeIn!==e.CloseMode.NEVER&&r.done()))},e=>r.error(e)),()=>{i=!0}),(0,t.optsWithID)("promise",s))};exports.fromPromise=o;
},{"../api":"q5sT","../stream":"hRnd","../utils/idgen":"CFHe"}],"IL6H":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fromPromises=void 0;var r=require("@thi.ng/transducers"),e=require("../utils/idgen"),s=require("./promise");const o=(o,i)=>(0,s.fromPromise)(Promise.all(o),(0,e.optsWithID)("promises",i)).transform((0,r.mapcat)(r=>r));exports.fromPromises=o;
},{"@thi.ng/transducers":"ntmJ","../utils/idgen":"CFHe","./promise":"hZgy"}],"i8Y1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.exists=exports.toPath=void 0;var t=require("@thi.ng/checks");const e=e=>(0,t.isArray)(e)?e:(0,t.isString)(e)?e.length>0?e.split("."):[]:null!=e?[e]:[];exports.toPath=e;const r=(t,r)=>{if(null==t)return!1;for(let s=(r=e(r)).length-1,n=0;n<=s;n++){const e=r[n];if(!t.hasOwnProperty(e))return!1;if(null==(t=t[e])&&n<s)return!1}return!0};exports.exists=r;
},{"@thi.ng/checks":"HctC"}],"kr9D":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defGetter=l,exports.defGetterUnsafe=void 0;var e=require("./path");const t=e=>l(e);function l(t){const l=(0,e.toPath)(t),[n,r,u,s]=l;switch(l.length){case 0:return e=>e;case 1:return e=>null!=e?e[n]:void 0;case 2:return e=>null!=e&&null!=(e=e[n])?e[r]:void 0;case 3:return e=>null!=e&&null!=(e=e[n])&&null!=(e=e[r])?e[u]:void 0;case 4:return e=>null!=e&&null!=(e=e[n])&&null!=(e=e[r])&&null!=(e=e[u])?e[s]:void 0;default:return e=>{const t=l.length-1;let n=e;for(let r=0;null!=n&&r<=t;r++)n=n[l[r]];return n}}}exports.defGetterUnsafe=t;
},{"./path":"i8Y1"}],"jJAT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defSetter=s,exports.copy=exports.defSetterUnsafe=void 0;var e=require("@thi.ng/checks"),t=require("./path");const r=e=>s(e);function s(e){const r=(0,t.toPath)(e),[s,o,u,a]=r;switch(r.length){case 0:return(e,t)=>t;case 1:return(e,t)=>(e=n(e),e[s]=t,e);case 2:return(e,t)=>{let r;return(e=n(e))[s]=r=n(e[s]),r[o]=t,e};case 3:return(e,t)=>{let r,c;return(e=n(e))[s]=r=n(e[s]),r[o]=c=n(r[o]),c[u]=t,e};case 4:return(e,t)=>{let r,c,i;return(e=n(e))[s]=r=n(e[s]),r[o]=c=n(r[o]),c[u]=i=n(c[u]),i[a]=t,e};default:let e;for(let t=r.length;--t>=0;)e=c(r[t],e);return e}}exports.defSetterUnsafe=r;const n=t=>(0,e.isArray)(t)||(0,e.isTypedArray)(t)?t.slice():Object.assign({},t);exports.copy=n;const c=(e,t)=>(r,s)=>(r=n(r),r[e]=t?t(r[e],s):s,r);
},{"@thi.ng/checks":"HctC","./path":"i8Y1"}],"Jxz4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.updateIn=n,exports.updateInUnsafe=void 0;var e=require("./getter"),t=require("./setter");const r=(e,t,r,...s)=>n(e,t,r,...s);function n(r,n,s,...u){return(0,t.defSetter)(n)(r,s.apply(null,(u.unshift((0,e.defGetter)(n)(r)),u)))}exports.updateInUnsafe=r;
},{"./getter":"kr9D","./setter":"jJAT"}],"HZ9r":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.deleteIn=s,exports.deleteInUnsafe=void 0;var e=require("./path"),t=require("./update-in");const n=(e,t)=>s(e,t);function s(n,s){const r=(0,e.toPath)(s).slice();if(r.length){const e=r.pop();return(0,t.updateIn)(n,r,t=>(t=Object.assign({},t),delete t[e],t))}}exports.deleteInUnsafe=n;
},{"./path":"i8Y1","./update-in":"Jxz4"}],"vO4s":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getIn=r,exports.getInUnsafe=void 0;var e=require("./getter");const t=(t,r)=>(0,e.defGetter)(r)(t);function r(t,r){return(0,e.defGetter)(r)(t)}exports.getInUnsafe=t;
},{"./getter":"kr9D"}],"sN3I":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defMutator=r,exports.defMutatorUnsafe=void 0;var e=require("./path");const t=e=>r(e);function r(t){const r=(0,e.toPath)(t);let[n,o,u,s]=r;switch(r.length){case 0:return(e,t)=>t;case 1:return(e,t)=>e?(e[n]=t,e):void 0;case 2:return(e,t)=>{let r;return e&&(r=e[n])?(r[o]=t,e):void 0};case 3:return(e,t)=>{let r;return e&&(r=e[n])&&(r=r[o])?(r[u]=t,e):void 0};case 4:return(e,t)=>{let r;return e&&(r=e[n])&&(r=r[o])&&(r=r[u])?(r[s]=t,e):void 0};default:return(e,t)=>{let n=e;const o=r.length-1;for(let u=0;u<o;u++)if(!(n=n[r[u]]))return;return n[r[o]]=t,e}}}exports.defMutatorUnsafe=t;
},{"./path":"i8Y1"}],"BXVH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mutIn=r,exports.mutInUnsafe=void 0;var t=require("./mutator");const e=(e,r,o)=>(0,t.defMutator)(r)(e,o);function r(e,r,o){return(0,t.defMutator)(r)(e,o)}exports.mutInUnsafe=e;
},{"./mutator":"sN3I"}],"kx3a":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mutInManyUnsafe=t;var e=require("@thi.ng/errors"),r=require("./mut-in");function t(t,...n){const u=n.length;1&u&&(0,e.illegalArgs)(`require even number of args (got ${n.length})`);for(let e=0;e<u&&t;e+=2)t=(0,r.mutIn)(t,n[e],n[e+1]);return t}
},{"@thi.ng/errors":"Qv5j","./mut-in":"BXVH"}],"PEG0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.setIn=r,exports.setInUnsafe=void 0;var e=require("./setter");const t=(t,r,s)=>(0,e.defSetter)(r)(t,s);function r(t,r,s){return(0,e.defSetter)(r)(t,s)}exports.setInUnsafe=t;
},{"./setter":"jJAT"}],"Oty3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.setInManyUnsafe=t;var e=require("@thi.ng/errors"),r=require("./set-in");function t(t,...n){const s=n.length;1&s&&(0,e.illegalArgs)(`require even number of KV args (got ${n.length})`);for(let e=0;e<s;e+=2)t=(0,r.setIn)(t,n[e],n[e+1]);return t}
},{"@thi.ng/errors":"Qv5j","./set-in":"PEG0"}],"RUv6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defUpdater=s,exports.defUpdaterUnsafe=void 0;var e=require("./getter"),t=require("./setter");const r=(e,t)=>s(e,t);function s(r,s){const d=(0,e.defGetter)(r),f=(0,t.defSetter)(r);return(e,...t)=>f(e,s.apply(null,(t.unshift(d(e)),t)))}exports.defUpdaterUnsafe=r;
},{"./getter":"kr9D","./setter":"jJAT"}],"X3Fy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./delete-in");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./getter");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./get-in");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var n=require("./mut-in");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});var u=require("./mut-in-many");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});var o=require("./mutator");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}})});var c=require("./path");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}})});var f=require("./setter");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return f[e]}})});var i=require("./set-in");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return i[e]}})});var a=require("./set-in-many");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return a[e]}})});var s=require("./updater");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return s[e]}})});var d=require("./update-in");Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return d[e]}})});
},{"./delete-in":"HZ9r","./getter":"kr9D","./get-in":"vO4s","./mut-in":"BXVH","./mut-in-many":"kx3a","./mutator":"sN3I","./path":"i8Y1","./setter":"jJAT","./set-in":"PEG0","./set-in-many":"Oty3","./updater":"RUv6","./update-in":"Jxz4"}],"QdOP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Atom=exports.defAtom=void 0;var e=require("tslib"),t=require("@thi.ng/api"),s=require("@thi.ng/errors"),r=require("@thi.ng/paths");const a=(e,t)=>new i(e,t);exports.defAtom=a;let i=class{constructor(e,t){t&&!t(e)&&(0,s.illegalState)("initial state value did not validate"),this._value=e,this.valid=t}get value(){return this._value}set value(e){this.reset(e)}deref(){return this._value}equiv(e){return this===e}reset(e){const t=this._value;return this.valid&&!this.valid(e)?t:(this._value=e,this.notifyWatches(t,e),e)}resetIn(e,t){return this.reset((0,r.setInUnsafe)(this._value,e,t))}resetInUnsafe(e,t){return this.reset((0,r.setInUnsafe)(this._value,e,t))}swap(e,...t){return this.reset(e.apply(null,[this._value,...t]))}swapIn(e,t,...s){return this.reset((0,r.updateInUnsafe)(this._value,e,t,...s))}swapInUnsafe(e,t,...s){return this.reset((0,r.updateInUnsafe)(this._value,e,t,...s))}addWatch(e,t){}removeWatch(e){}notifyWatches(e,t){}release(){return delete this._watches,delete this._value,!0}};exports.Atom=i,exports.Atom=i=(0,e.__decorate)([t.IWatchMixin],i);
},{"tslib":"vCxL","@thi.ng/api":"AsNk","@thi.ng/errors":"Qv5j","@thi.ng/paths":"X3Fy"}],"qlbv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.nextID=void 0;let e=0;const t=()=>e++;exports.nextID=t;
},{}],"V7gP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defCursor=r,exports.defCursorUnsafe=a,exports.Cursor=void 0;var e=require("@thi.ng/paths"),t=require("./atom"),s=require("./idgen");function r(e,t,s){return new n(e,t,s)}function a(e,t,s){return new n(e,t,s)}class n{constructor(r,a,n={}){const i=n.validate,l=(0,e.defGetterUnsafe)(a),o=(0,e.defSetterUnsafe)(a);this.parent=r,this.id=n.id||`cursor-${(0,s.nextID)()}`,this.selfUpdate=!1,this.local=new t.Atom(l(r.deref()),i),this.local.addWatch(this.id,(e,t,s)=>{t!==s&&(this.selfUpdate=!0,r.swap(e=>o(e,s)),this.selfUpdate=!1)}),r.addWatch(this.id,(e,t,s)=>{if(!this.selfUpdate){const e=l(s);e!==l(t)&&this.local.reset(e)}})}get value(){return this.deref()}set value(e){this.reset(e)}deref(){return this.local.deref()}release(){return this.local.release(),this.parent.removeWatch(this.id),delete this.local,delete this.parent,!0}reset(e){return this.local.reset(e)}resetIn(e,t){return this.local.resetInUnsafe(e,t)}resetInUnsafe(e,t){return this.local.resetInUnsafe(e,t)}swap(e,...t){return this.local.swap(e,...t)}swapIn(e,t,...s){return this.local.swapInUnsafe(e,t,...s)}swapInUnsafe(e,t,...s){return this.local.swapInUnsafe(e,t,...s)}addWatch(e,t){return this.local.addWatch(e,t)}removeWatch(e){return this.local.removeWatch(e)}notifyWatches(e,t){return this.local.notifyWatches(e,t)}}exports.Cursor=n;
},{"@thi.ng/paths":"X3Fy","./atom":"QdOP","./idgen":"qlbv"}],"ICLJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.History=exports.defHistory=void 0;var t,e=require("tslib"),s=require("@thi.ng/api"),r=require("@thi.ng/equiv"),i=require("@thi.ng/paths");const h=(t,e,s)=>new n(t,e,s);exports.defHistory=h;let n=t=class{constructor(t,e=100,s){this.state=t,this.maxLen=e,this.changed=s||((t,e)=>!(0,r.equiv)(t,e)),this.clear()}get value(){return this.deref()}set value(t){this.reset(t)}canUndo(){return this.history.length>0}canRedo(){return this.future.length>0}clear(){this.history=[],this.future=[]}undo(){if(this.history.length){const e=this.state.deref();this.future.push(e);const s=this.state.reset(this.history.pop());return this.notify({id:t.EVENT_UNDO,value:{prev:e,curr:s}}),s}}redo(){if(this.future.length){const e=this.state.deref();this.history.push(e);const s=this.state.reset(this.future.pop());return this.notify({id:t.EVENT_REDO,value:{prev:e,curr:s}}),s}}reset(t){const e=this.state.deref();return this.state.reset(t),this.changed(e,this.state.deref())&&this.record(e),t}resetIn(t,e){const s=this.state.deref(),r=(0,i.defGetterUnsafe)(t),h=r(s),n=(0,i.setInUnsafe)(s,t,e);return this.state.reset(n),this.changed(h,r(n))&&this.record(s),n}resetInUnsafe(t,e){return this.resetIn(t,e)}swap(t,...e){return this.reset(t(this.state.deref(),...e))}swapIn(t,e,...s){const r=this.state.deref(),h=(0,i.defGetterUnsafe)(t),n=h(r),a=(0,i.updateInUnsafe)(this.state.deref(),t,e,...s);return this.state.reset(a),this.changed(n,h(a))&&this.record(r),a}swapInUnsafe(t,e,...s){return this.swapIn(t,e,...s)}record(e){const s=this.history,r=s.length;let i=!0;arguments.length||(e=this.state.deref(),i=!r||this.changed(s[r-1],e)),i&&(r>=this.maxLen&&s.shift(),s.push(e),this.notify({id:t.EVENT_RECORD,value:e}),this.future.length=0)}deref(){return this.state.deref()}addWatch(t,e){return this.state.addWatch(t,e)}removeWatch(t){return this.state.removeWatch(t)}notifyWatches(t,e){return this.state.notifyWatches(t,e)}release(){return this.state.release(),delete this.state,!0}addListener(t,e,s){}removeListener(t,e,s){}notify(t){}};exports.History=n,n.EVENT_UNDO="undo",n.EVENT_REDO="redo",n.EVENT_RECORD="record",exports.History=n=t=(0,e.__decorate)([s.INotifyMixin],n);
},{"tslib":"vCxL","@thi.ng/api":"AsNk","@thi.ng/equiv":"zlnS","@thi.ng/paths":"X3Fy"}],"fdyP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Transacted=exports.beginTransaction=exports.defTransacted=void 0;var t=require("@thi.ng/api"),e=require("@thi.ng/errors"),r=require("@thi.ng/paths"),s=require("./idgen");const i=t=>new a(t);exports.defTransacted=i;const n=t=>new a(t).begin();exports.beginTransaction=n;class a{constructor(t){this.parent=t,this.current=void 0,this.isActive=!1,this.id=`tx-${(0,s.nextID)()}`}get value(){return this.deref()}set value(t){this.reset(t)}get isTransaction(){return this.isActive}deref(){return this.isActive?this.current:this.parent.deref()}equiv(t){return this===t}reset(t){return this.ensureTx(),this.current=t,t}resetIn(t,e){return this.ensureTx(),this.current=(0,r.setInUnsafe)(this.current,t,e)}resetInUnsafe(t,e){return this.resetIn(t,e)}swap(t,...e){return this.ensureTx(),this.current=t.apply(null,[this.current,...e])}swapIn(t,e,...s){return this.ensureTx(),this.current=(0,r.updateInUnsafe)(this.current,t,e,...s)}swapInUnsafe(t,e,...r){return this.swapIn(t,e,...r)}begin(){return(0,t.assert)(!this.isActive,"transaction already started"),this.current=this.parent.deref(),this.isActive=!0,this.parent.addWatch(this.id+"--guard--",()=>(0,e.illegalState)(`${this.id} parent state changed during active transaction`)),this}commit(){const t=this.current;return this.cancel(),this.parent.reset(t)}cancel(){this.ensureTx(),this.parent.removeWatch(this.id+"--guard--"),this.current=void 0,this.isActive=!1}addWatch(t,e){return this.parent.addWatch(this.id+t,(r,s,i)=>e(t,s,i))}removeWatch(t){return this.parent.removeWatch(this.id+t)}notifyWatches(t,e){this.parent.notifyWatches(t,e)}release(){return delete this.parent,delete this.current,delete this.isActive,delete this._watches,!0}ensureTx(){(0,t.assert)(this.isActive,"no active transaction")}}exports.Transacted=a;
},{"@thi.ng/api":"AsNk","@thi.ng/errors":"Qv5j","@thi.ng/paths":"X3Fy","./idgen":"qlbv"}],"kejP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defView=e,exports.defViewUnsafe=r,exports.View=void 0;var t=require("@thi.ng/equiv"),s=require("@thi.ng/paths"),i=require("./idgen");function e(t,s,i,e,r){return new h(t,s,i,e,r)}function r(t,s,i,e,r){return new h(t,s,i,e,r)}class h{constructor(e,r,h,n=!0,d=t.equiv){this.parent=e,this.id=`view-${(0,i.nextID)()}`,this.tx=h||(t=>t),this.path=(0,s.toPath)(r),this.isDirty=!0,this.isLazy=n;const o=(0,s.defGetterUnsafe)(this.path),a=this.parent.deref();this.unprocessed=a?o(a):void 0,n||(this.state=this.tx(this.unprocessed),this.unprocessed=void 0),e.addWatch(this.id,(t,s,i)=>{const e=s?o(s):s,r=i?o(i):i;d(r,e)||(n?this.unprocessed=r:this.state=this.tx(r),this.isDirty=!0)})}get value(){return this.deref()}deref(){return this.isDirty&&(this.isLazy&&(this.state=this.tx(this.unprocessed),this.unprocessed=void 0),this.isDirty=!1),this.state}changed(){return this.isDirty}view(){return this.isDirty&&this.isLazy?this.tx(this.unprocessed):this.state}release(){return this.unprocessed=void 0,this.isLazy||(this.state=this.tx(void 0)),this.isDirty=!0,this.parent.removeWatch(this.id)}}exports.View=h;
},{"@thi.ng/equiv":"zlnS","@thi.ng/paths":"X3Fy","./idgen":"qlbv"}],"qjcu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./atom");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./cursor");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./history");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var u=require("./transacted");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});var n=require("./view");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});
},{"./atom":"QdOP","./cursor":"V7gP","./history":"ICLJ","./transacted":"fdyP","./view":"kejP"}],"Od4j":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fromView=n,exports.fromViewUnsafe=void 0;var e=require("@thi.ng/atom"),t=require("../stream"),r=require("../utils/idgen");const i=(e,t)=>n(e,t);function n(i,n){return n=(0,r.optsWithID)("view",n),new t.Stream(t=>{let r=!0;const o=n.tx,s=new e.View(i,n.path,o?e=>r&&(e=o(e),t.next(e),e):e=>r&&(t.next(e),e),!1,n.equiv);return()=>{r=!1,s.release()}})}exports.fromViewUnsafe=i;
},{"@thi.ng/atom":"qjcu","../stream":"hRnd","../utils/idgen":"CFHe"}],"x8Ml":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fromWorker=void 0;var e=require("../api"),r=require("../stream"),t=require("../utils/idgen"),o=require("../utils/worker");const n=(n,i)=>{const s=(0,o.makeWorker)(n);return i=(0,t.optsWithID)("worker",i),new r.Stream(r=>{const t=e=>{r.next(e.data)},o=e=>{r.error(e.data)};return s.addEventListener("message",t),s.addEventListener("error",o),()=>{s.removeEventListener("message",t),s.removeEventListener("error",o),!1!==i.terminate&&(e.LOGGER.info("terminating worker",s),s.terminate())}},i)};exports.fromWorker=n;
},{"../api":"q5sT","../stream":"hRnd","../utils/idgen":"CFHe","../utils/worker":"a320"}],"WaGi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ASidechain=void 0;var s=require("../subscription");class e extends s.Subscription{constructor(s){super(void 0,s)}unsubscribe(s){const e=super.unsubscribe(s);return s&&this.subs.length||this.sideSub.unsubscribe(),e}done(){this.sideSub.unsubscribe(),super.done()}}exports.ASidechain=e;
},{"../subscription":"NbpO"}],"OiAk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bisect=void 0;var e=require("../pubsub");const s=(s,r,t)=>{const b=new e.PubSub({topic:s});return r&&b.subscribeTopic(!0,r),t&&b.subscribeTopic(!1,t),b};exports.bisect=s;
},{"../pubsub":"SipP"}],"NSKX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.postWorker=void 0;var e=require("@thi.ng/checks"),r=require("../api"),t=require("../utils/worker");const o=(o,s=!1,i=0)=>{const n=(0,t.makeWorker)(o);return{next(r){if(r instanceof Promise)return void r.then(e=>this.next(e));let t;if(s){const o=(0,e.isTypedArray)(r);(o||(0,e.isTransferable)(r))&&(t=[o?r.buffer:r])}n.postMessage(r,t||[])},done(){i>0&&setTimeout(()=>{r.LOGGER.info("terminating worker..."),n.terminate()},i)}}};exports.postWorker=o;
},{"@thi.ng/checks":"HctC","../api":"q5sT","../utils/worker":"a320"}],"k05g":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Resolver=exports.resolve=void 0;var t=require("../api"),e=require("../subscription"),s=require("../utils/idgen");const i=t=>new r(t);exports.resolve=i;class r extends e.Subscription{constructor(t={}){super(void 0,(0,s.optsWithID)("resolve")),this.outstanding=0,this.fail=t.fail}next(e){this.outstanding++,e.then(s=>{this.state<t.State.DONE?(this.dispatch(s),0==--this.outstanding&&this.done()):t.LOGGER.warn(`resolved value in state ${this.state} (${e})`)},t=>{this.fail?this.fail(t):this.error(t)})}done(){this.parent.getState()===t.State.DONE&&0===this.outstanding&&super.done()}}exports.Resolver=r;
},{"../api":"q5sT","../subscription":"NbpO","../utils/idgen":"CFHe"}],"aI7l":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SidechainPartition=exports.sidechainPartition=void 0;var e=require("../api"),t=require("../utils/idgen"),i=require("./asidechain");const s=(e,t)=>new r(e,t);exports.sidechainPartition=s;class r extends i.ASidechain{constructor(e,i){super(i=(0,t.optsWithID)("sidepart",i)),this.buf=[];const s=i.pred||(()=>!0),r=this;this.sideSub=e.subscribe({next(e){r.buf.length&&s(e)&&(r.dispatch(r.buf),r.buf=[])},done(){r.buf.length&&r.dispatch(r.buf),r.done(),delete r.buf}})}next(t){this.state<e.State.DONE&&this.buf.push(t)}}exports.SidechainPartition=r;
},{"../api":"q5sT","../utils/idgen":"CFHe","./asidechain":"WaGi"}],"x8T0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SidechainToggle=exports.sidechainToggle=void 0;var e=require("../api"),i=require("../utils/idgen"),s=require("./asidechain");const t=(e,i)=>new r(e,i);exports.sidechainToggle=t;class r extends s.ASidechain{constructor(e,s){super(s=(0,i.optsWithID)("sidetoggle",s)),this.isActive=!!s.initial;const t=s.pred||(()=>!0),r=this;this.sideSub=e.subscribe({next(e){t(e)&&(r.isActive=!r.isActive)},done(){r.done()}})}next(i){this.isActive&&this.state<e.State.DONE&&super.next(i)}}exports.SidechainToggle=r;
},{"../api":"q5sT","../utils/idgen":"CFHe","./asidechain":"WaGi"}],"Zgzq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.timeout=void 0;var t=require("../api"),e=require("../subscription"),s=require("../utils/idgen");const i=(t,e)=>new r(t,e);exports.timeout=i;class r extends e.Subscription{constructor(t,e){super(void 0,e=(0,s.optsWithID)("timeout",e)),this.timeoutMs=t,this.errorObj=e.error,this.resetTimeout=!0===e.reset,this.reset()}next(t){this.resetTimeout&&(clearTimeout(this.timeoutId),this.reset()),super.next(t)}reset(){this.timeoutId=setTimeout(()=>{this.state<t.State.DONE&&this.error(this.errorObj||new Error(`Timeout stream "${this.id}" after ${this.timeoutMs} ms`))},this.timeoutMs)}cleanup(){clearTimeout(this.timeoutId),super.cleanup()}}
},{"../api":"q5sT","../subscription":"NbpO","../utils/idgen":"CFHe"}],"fx5u":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.trace=void 0;const o=o=>({next(e){o?console.log(o,e):console.log(e)},done(){o?console.log(o,"done"):console.log("done")},error(e){o?console.log(o,"error",e):console.log("error",e)}});exports.trace=o;
},{}],"d3Zf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.transduce=void 0;var e=require("@thi.ng/transducers");const r=(r,s,t,n)=>{let u,o=void 0!==n?n:t[0]();return new Promise((n,c)=>{u=r.subscribe({next(r){const s=t[2](o,r);(0,e.isReduced)(s)?n(s.deref()):o=s},done(){n(o)},error(e){c(e)}},s)}).then(e=>(u.unsubscribe(),e),e=>{throw u.unsubscribe(),e})};exports.transduce=r;
},{"@thi.ng/transducers":"ntmJ"}],"hIhZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./api");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./forkjoin");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./metastream");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var u=require("./pubsub");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});var n=require("./stream");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});var o=require("./stream-merge");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}})});var f=require("./stream-sync");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return f[e]}})});var c=require("./subscription");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}})});var i=require("./trigger");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return i[e]}})});var a=require("./tween");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return a[e]}})});var s=require("./from/atom");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return s[e]}})});var b=require("./from/event");Object.keys(b).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return b[e]}})});var l=require("./from/interval");Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return l[e]}})});var d=require("./from/iterable");Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return d[e]}})});var p=require("./from/promise");Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return p[e]}})});var j=require("./from/promises");Object.keys(j).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return j[e]}})});var y=require("./from/raf");Object.keys(y).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return y[e]}})});var _=require("./from/view");Object.keys(_).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return _[e]}})});var O=require("./from/worker");Object.keys(O).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return O[e]}})});var m=require("./subs/asidechain");Object.keys(m).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return m[e]}})});var g=require("./subs/bisect");Object.keys(g).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return g[e]}})});var v=require("./subs/post-worker");Object.keys(v).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return v[e]}})});var k=require("./subs/resolve");Object.keys(k).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return k[e]}})});var h=require("./subs/sidechain-partition");Object.keys(h).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return h[e]}})});var x=require("./subs/sidechain-toggle");Object.keys(x).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return x[e]}})});var M=require("./subs/timeout");Object.keys(M).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return M[e]}})});var P=require("./subs/trace");Object.keys(P).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return P[e]}})});var q=require("./subs/transduce");Object.keys(q).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return q[e]}})});var E=require("./subs/tunnel");Object.keys(E).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return E[e]}})});var w=require("./utils/idgen");Object.keys(w).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return w[e]}})});var z=require("./utils/worker");Object.keys(z).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return z[e]}})});
},{"./api":"q5sT","./forkjoin":"Db5O","./metastream":"Q4Dz","./pubsub":"SipP","./stream":"hRnd","./stream-merge":"fveN","./stream-sync":"sB5n","./subscription":"NbpO","./trigger":"edd2","./tween":"cYUH","./from/atom":"twuF","./from/event":"CmHa","./from/interval":"Z4ly","./from/iterable":"kyYf","./from/promise":"hZgy","./from/promises":"IL6H","./from/raf":"X2pL","./from/view":"Od4j","./from/worker":"x8Ml","./subs/asidechain":"WaGi","./subs/bisect":"OiAk","./subs/post-worker":"NSKX","./subs/resolve":"k05g","./subs/sidechain-partition":"aI7l","./subs/sidechain-toggle":"x8T0","./subs/timeout":"Zgzq","./subs/trace":"fx5u","./subs/transduce":"d3Zf","./subs/tunnel":"sTV9","./utils/idgen":"CFHe","./utils/worker":"a320"}],"fGBm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.$$_DEFAULT=exports.$$=exports.$$_CMDS=exports.$$_ROOT=exports.$$_VIEW=exports.$$_LOAD=exports.$$_PATH=exports.ROUTER=exports.ROUTER_PRFX=exports.ROUTER_POST=exports.ROUTER_PREP=exports.CFG=exports.CFG_RUTR=exports.CFG_LOG$=exports.CFG_DRFT=exports.CFG_STOR=exports.CFG_KICK=exports.CFG_VIEW=exports.CFG_ROOT=exports.CFG_RUN$=exports.CMD=exports.CMD_SRC$=exports.CMD_WORK=exports.CMD_ERRO=exports.CMD_RESO=exports.CMD_ARGS=exports.CMD_SUB$=exports.STATE=exports.STATE_DATA=exports.STATE_PATH=exports.DOM=exports.DOM_HEAD=exports.DOM_BODY=exports.DOM_NODE=exports.URL=exports.URL_NPRS=exports.URL_PRSE=exports.URL_PAGE=exports.URL_HASH=exports.URL_QERY=exports.URL_SUBD=exports.URL_DOMN=exports.URL_DATA=exports.URL_PATH=exports.URL_FULL=void 0;const o="URL";exports.URL_FULL="URL";const t="URL_path";exports.URL_PATH=t;const s="URL_data";exports.URL_DATA=s;const r="URL_domain";exports.URL_DOMN=r;const e="URL_subdomain";exports.URL_SUBD=e;const R="URL_query";exports.URL_QERY=R;const p="URL_hash";exports.URL_HASH=p;const x="URL_page";exports.URL_PAGE=x;const _="unfurl";exports.URL_PRSE="unfurl";const O="furl";exports.URL_NPRS="furl";const D={FULL:"URL",PATH:t,DATA:s,DOMN:r,SUBD:e,QERY:R,HASH:p,PAGE:x,PRSE:"unfurl",NPRS:"furl"};exports.URL=D;const T="NODE";exports.DOM_NODE="NODE";const A="BODY";exports.DOM_BODY="BODY";const U="HEAD";exports.DOM_HEAD="HEAD";const E={NODE:"NODE",BODY:"BODY",HEAD:"HEAD"};exports.DOM=E;const c="PATH";exports.STATE_PATH="PATH";const n="DATA";exports.STATE_DATA="DATA";const L={PATH:"PATH",DATA:"DATA"};exports.STATE=L;const $="sub$";exports.CMD_SUB$="sub$";const C="args";exports.CMD_ARGS="args";const S="reso";exports.CMD_RESO="reso";const P="erro";exports.CMD_ERRO="erro";const M="work";exports.CMD_WORK="work";const F="src$";exports.CMD_SRC$="src$";const G={SUB$:"sub$",ARGS:"args",RESO:"reso",ERRO:"erro",WORK:"work",SRC$:"src$"};exports.CMD=G;const u="run";exports.CFG_RUN$="run";const H="root";exports.CFG_ROOT="root";const a="view";exports.CFG_VIEW="view";const N="kick";exports.CFG_KICK="kick";const i="store";exports.CFG_STOR="store";const f="draft";exports.CFG_DRFT="draft";const l="trace";exports.CFG_LOG$="trace";const B="router";exports.CFG_RUTR="router";const I={RUN$:"run",STOR:"store",ROOT:"root",VIEW:"view",DRFT:"draft",LOG$:"trace",RUTR:"router",KICK:"kick"};exports.CFG=I;const d="prep";exports.ROUTER_PREP="prep";const k="post";exports.ROUTER_POST="post";const K="prefix";exports.ROUTER_PRFX="prefix";const W={PREP:"prep",POST:"post",PRFX:"prefix",RUTR:"router"};exports.ROUTER=W;const Y="_ROUTE_PATH";exports.$$_PATH=Y;const w="_ROUTE_LOADING";exports.$$_LOAD=w;const V="_PAGE_TEMPLATE";exports.$$_VIEW=V;const b="_DOM_ROOT";exports.$$_ROOT=b;const v="_COMMANDS";exports.$$_CMDS=v;const g={PATH:Y,LOAD:w,VIEW:V,ROOT:b,CMDS:v};exports.$$=g;const h={[Y]:[],[w]:!0,[V]:null,[b]:null,[v]:{}};exports.$$_DEFAULT=h;
},{}],"NadY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./constants");Object.keys(e).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(exports,t,{enumerable:!0,get:function(){return e[t]}})});
},{"./constants":"fGBm"}],"E5DT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.msTaskPromiseDelay=void 0;const e=e=>new Promise(s=>setTimeout(s,e));exports.msTaskPromiseDelay=e;
},{}],"hUCF":[function(require,module,exports) {
"use strict";function e(e=[],s={}){return[Object.keys(s).filter(s=>!e.includes(s)),Object.entries(s).reduce((s,[t,c])=>e.includes(t)?s:Object.assign(Object.assign({},s),{[t]:c}),{})]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.diff_keys=e;
},{}],"ueSU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.stringify_type=void 0;var e=require("@thi.ng/checks");const t=t=>(0,e.isFunction)(t)&&0===t.length?"THUNK":(0,e.isFunction)(t)&&t.length>0?"FUNCTION":(0,e.isPromise)(t)?"PROMISE":(0,e.isObject)(t)?"OBJECT":"type_str NOT FOUND";exports.stringify_type=t;
},{"@thi.ng/checks":"HctC"}],"f8MV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.trace$=void 0;var e=require("@thi.ng/rstream");const r=(r,s)=>s.subscribeTopic?s.subscribeTopic("_TRACE_STREAM",{next:e=>console.log(r,e),error:console.warn}):s.subscribe((0,e.trace)(r));exports.trace$=r;
},{"@thi.ng/rstream":"hIhZ"}],"dV5c":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.unparse=exports.parse=void 0;var e=s(require("querystring")),t=require("@-0/keys");function s(e){return e&&e.__esModule?e:{default:e}}const i=(s,i)=>{let r=[],l=[],n=[];const o=/(?=\?)|(?=#)/g,p=i?s.replace(i,"").split(o):s.split(o),c=p[0].split("/").filter(e=>""!==e);/http/i.test(s)?(l=c[1].split(".").slice(-2),r=c[1].split(".").slice(0,-2),n=c.slice(2)):n=c;const L=p.filter(e=>"?"===e.slice(0,1))[0]||"",U=p.filter(e=>"#"===e.slice(0,1))[0]||"",_=JSON.parse(JSON.stringify(e.default.decode(L.slice(1)))),u=U.slice(1);return{[t.URL_FULL]:s,[t.URL_SUBD]:r,[t.URL_DOMN]:l,[t.URL_PATH]:n,[t.URL_QERY]:_,[t.URL_HASH]:u}};exports.parse=i;const r=(s=i(window.location.href),r=!1)=>{const{[t.URL_FULL]:l,[t.URL_SUBD]:n,[t.URL_DOMN]:o,[t.URL_PATH]:p,[t.URL_QERY]:c,[t.URL_HASH]:L}=s,[U,_]=s[t.URL_FULL].split("//"),[u]=_.split("/"),[R,...a]=u.split("."),d=n&&o?[...n,...o]:n&&a.length>1?[...n,...a]:n&&1===a.length?[...n,R,...a]:[...n,R],f=e.default.encode(c),g=`${p.length>0?"/"+p.join("/"):""}${f?"?"+f:""}${L?"#"+L:""}`;return r?`${U}//${d.join(".")}${g}`:g};exports.unparse=r;
},{"@-0/keys":"NadY"}],"WCO3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.xKeyError=exports.key_index_err=exports.stringify_w_functions=void 0;const n=(n,e)=>JSON.stringify(n,(n,e)=>"function"==typeof e?e.toString().replace(/\r?\n|\r/g,"").replace(/\s\s+/g," ").slice(0,12)+"...":e,e);exports.stringify_w_functions=n;const e=(n,e)=>{const r=Array.from(Array(19).keys()).reduce((n,e)=>Object.assign(Object.assign({},n),{[e]:`${e+1}th`}),{}),t=Object.assign(Object.assign({},r),{0:"1st",1:"2nd",2:"3rd"});return` it was the ${t[e]} Command in a Task or ${t[e-1]} in a Subtask.`};exports.key_index_err=e;const r=(r,t,s,o,a)=>{const{source$:i}=t,c=Object.entries(t).length;return`\n\n   ${r} ERROR:\n  \n   Unrecognized Command Key(s)\n  \n  FAULTY sub$: "${o}" \n  ${Object.keys(s)[0][0]?`\n  ${a?e(0,a):""}\n\n  The problematic entry/entries: \n\n   ${!a&&c>3&&!i?`${Object.entries(s)[0][0]}: <Stream>`:n(s,2)}`:""} \n\n  ACCEPTABLE ENTRY KEYS ${a?"WITHIN A COMMAND":"DURING REGISTRATION"}: \n\n  'sub$' \n    - optional \n    - topic key for for registering & targeting Commands \n    - signatures:\n      - "X"    : String: Topic key\n      - XX$    : Stream: for dispatching args to custom stream\n\n  'args' \n    - required \n    - payload or accumulator reshaping payload function (Promises OK)\n    - signatures:\n      - PRI    : primitive: static payload -> is NOT accumulated\n      - {?}    : object: static payload -> is accumulated \n      - (+) => : function (non-nullary): dispatch payload from \n                values accumulated from prior Command payloads\n      - (0) => : thunk (nullary): dispatch to custom stream\n      - {P}    : Promise or (#) => {P} Promise returning function\n      \n  'reso' \n    - required for Promise handling \n    - converts resolved Promise payloads to Command args\n    - signature:\n      - ({A: accumulator}, {P: resolved Promise}) =>  \n\n  'erro' \n    - recommended for Promise rejections \n    - handles rejected Promise payloads\n    - signature:\n      - ({A: accumulator}, {E: error object}) =>  \n  ${a?"":"\n  'handler' \n    - required \n    - function that is called on payload's arrival\n    - signature: \n      - (#) => : function instruments actual side-effects/work \n  \n  'source$' \n    - advanced/optional \n    - source stream (see http://thi.ng/rstream)"}\n\n  Hope that helps!\n  `};exports.xKeyError=r;
},{}],"zAu4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"msTaskPromiseDelay",{enumerable:!0,get:function(){return e.msTaskPromiseDelay}}),Object.defineProperty(exports,"diff_keys",{enumerable:!0,get:function(){return r.diff_keys}}),Object.defineProperty(exports,"stringify_type",{enumerable:!0,get:function(){return t.stringify_type}}),Object.defineProperty(exports,"trace$",{enumerable:!0,get:function(){return n.trace$}}),Object.defineProperty(exports,"unparse",{enumerable:!0,get:function(){return i.unparse}}),Object.defineProperty(exports,"parse",{enumerable:!0,get:function(){return i.parse}}),Object.defineProperty(exports,"key_index_err",{enumerable:!0,get:function(){return u.key_index_err}}),Object.defineProperty(exports,"stringify_w_functions",{enumerable:!0,get:function(){return u.stringify_w_functions}}),Object.defineProperty(exports,"xKeyError",{enumerable:!0,get:function(){return u.xKeyError}});var e=require("./taskDelay"),r=require("./diff_keys"),t=require("./stringify_type"),n=require("./trace$"),i=require("./URL"),u=require("./xKey");
},{"./taskDelay":"E5DT","./diff_keys":"hUCF","./stringify_type":"ueSU","./trace$":"f8MV","./URL":"dV5c","./xKey":"WCO3"}],"yFds":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.multiplex=l,exports.task$=exports.command$=exports.out$=exports.run$=void 0;var e=require("@thi.ng/checks"),t=require("@thi.ng/rstream"),n=require("@-0/keys"),r=require("@-0/utils"),o=require("@thi.ng/paths"),s=function(e,t,n,r){return new(n||(n=Promise))(function(o,s){function i(e){try{a(r.next(e))}catch(t){s(t)}}function c(e){try{a(r.throw(e))}catch(t){s(t)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,c)}a((r=r.apply(e,t||[])).next())})};const i=(0,t.pubsub)({topic:e=>!!e[n.CMD_SUB$],id:"run$_stream",equiv:(e,t)=>e===t||"_TRACE_STREAM"===t});exports.run$=i;const c=(0,t.pubsub)({topic:e=>e[n.CMD_SUB$],id:"out$_stream",equiv:(e,t)=>e===t||"_TRACE_STREAM"===t});exports.out$=c;const a=i.subscribeTopic(!0,{next:e=>c.next(e),error:console.warn},{id:"command$_stream"});exports.command$=a;const u=i.subscribeTopic(!1,{next:l,error:console.warn},{id:"task$_stream"});exports.task$=u;const f="Spooling Interupted",_=(e,t)=>console.warn(`\n   No sub$ included for a Command with a primitive for 'args'. \n   Ergo, nothing was done with this Command: \n  \n  ${JSON.stringify(e)}\n  \n  ${(0,r.key_index_err)(e,t)}\n  \n  Hope that helps!\n  `);function l(t){return t.reduce((t,i,c)=>s(this,void 0,void 0,function*(){const s=yield t;if((0,e.isFunction)(i))try{const e=i(s);return e.unshift({[n.CMD_ARGS]:s}),l(e)}catch(M){return void console.warn(f,M)}const u=i[n.CMD_SUB$],d=i[n.CMD_ARGS],p=i[n.CMD_ERRO],C=i[n.CMD_RESO],$=[n.CMD_SUB$,n.CMD_ARGS,n.CMD_RESO,n.CMD_ERRO,n.CMD_SRC$,n.CMD_WORK],[h]=(0,r.diff_keys)($,i);if(h.length>0)throw new Error((0,r.xKeyError)(f,i,h,u,c));const g=(0,r.stringify_type)(d);let x=d;if("PROMISE"!==g&&C&&(x=Promise.resolve(d)),d!==Object(d)&&!u)return _(i,c),s;if("PROMISE"===g&&(x=yield d.catch(e=>e)),"THUNK"===g)return x=d(),console.log(`dispatching to ad-hoc stream: ${u.id}`),u.next(x),s;if("FUNCTION"===g){let t=d(s);x=(0,e.isPromise)(t)?yield t.catch(e=>e):t}if("OBJECT"===g)return u?(a.next(i),Object.assign(Object.assign({},s),d)):Object.assign(Object.assign({},s),d);if(C){if(x instanceof Error){if(p){let e=p(s,x);return(0,o.getIn)(e,[n.CMD_SUB$])?a.next(e):(console.warn(f,"Promise rejected:",x),s)}console.warn(`no 'erro' (Error handler) set for error in ${x}`)}if(!(x instanceof Error)){let e=C(s,x);if((0,o.getIn)(e,[n.CMD_SUB$]))a.next(e);else if(!u)return Object.assign(Object.assign({},s),e);x=e}}return C||u?x instanceof Error?(console.warn(f,x),s):x!==Object(x)?u?(a.next({[n.CMD_SUB$]:u,[n.CMD_ARGS]:x}),s):(_(i,c),s):(a.next({[n.CMD_SUB$]:u,[n.CMD_ARGS]:x}),Object.assign(Object.assign({},s),x)):Object.assign(Object.assign({},s),x)}),Promise.resolve({}))}
},{"@thi.ng/checks":"HctC","@thi.ng/rstream":"hIhZ","@-0/keys":"NadY","@-0/utils":"zAu4","@thi.ng/paths":"X3Fy"}],"yzwM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"command$",{enumerable:!0,get:function(){return e.command$}}),Object.defineProperty(exports,"out$",{enumerable:!0,get:function(){return e.out$}}),Object.defineProperty(exports,"run$",{enumerable:!0,get:function(){return e.run$}}),Object.defineProperty(exports,"task$",{enumerable:!0,get:function(){return e.task$}}),Object.defineProperty(exports,"multiplex",{enumerable:!0,get:function(){return e.multiplex}});var e=require("./multiplex");
},{"./multiplex":"yFds"}],"tj0B":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.registerCMD=exports.supplement$CMD=void 0;var e=require("@thi.ng/transducers"),r=require("@thi.ng/checks"),t=require("@-0/keys"),C=require("@-0/utils"),s=require("../core");const M=(C,s)=>{const M=C[t.CMD_SRC$],D=C[t.CMD_SUB$],_=C[t.CMD_ARGS],o=(0,r.isFunction)(_),n=(e=null)=>({[t.CMD_SUB$]:D,[t.CMD_ARGS]:e?_(e):_});return M.subscribe((r=>(0,e.map)(e=>r.next(o?n(e):n())))(s))};exports.supplement$CMD=M;const D="command Registration `registerCMD`",_=(r=null)=>{const _=r[t.CMD_SUB$],o=r[t.CMD_ARGS],n=r[t.CMD_ERRO],i=r[t.CMD_RESO],R=r[t.CMD_SRC$],u=r[t.CMD_WORK],S=[t.CMD_SUB$,t.CMD_ARGS,t.CMD_RESO,t.CMD_ERRO,t.CMD_SRC$,t.CMD_WORK],[c]=(0,C.diff_keys)(S,r);if(c.length>0)throw new Error((0,C.xKeyError)(D,r,c,_,void 0));return R&&M(r,s.command$),s.out$.subscribeTopic(_,{next:u,error:console.warn},(0,e.map)(e=>e[t.CMD_ARGS])),i?{[t.CMD_SUB$]:_,[t.CMD_ARGS]:o,[t.CMD_RESO]:i,[t.CMD_ERRO]:n}:{[t.CMD_SUB$]:_,[t.CMD_ARGS]:o}};exports.registerCMD=_;
},{"@thi.ng/transducers":"ntmJ","@thi.ng/checks":"HctC","@-0/keys":"NadY","@-0/utils":"zAu4","../core":"yzwM"}],"XIl1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"registerCMD",{enumerable:!0,get:function(){return e.registerCMD}});var e=require("./registerCMD");
},{"./registerCMD":"tj0B"}],"OWB9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"run$",{enumerable:!0,get:function(){return e.run$}}),Object.defineProperty(exports,"command$",{enumerable:!0,get:function(){return e.command$}}),Object.defineProperty(exports,"out$",{enumerable:!0,get:function(){return e.out$}}),Object.defineProperty(exports,"task$",{enumerable:!0,get:function(){return e.task$}}),Object.defineProperty(exports,"registerCMD",{enumerable:!0,get:function(){return r.registerCMD}});var e=require("./core"),r=require("./registers");
},{"./core":"yzwM","./registers":"XIl1"}],"aXLj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SlidingBuffer=exports.DroppingBuffer=exports.FixedBuffer=void 0;var t=require("@thi.ng/dcons");class s{constructor(s=1){this.buf=new t.DCons,this.limit=s}get length(){return this.buf.length}isEmpty(){return 0===this.buf.length}isFull(){return this.buf.length>=this.limit}release(){return this.buf.release()}push(t){return!this.isFull()&&(this.buf.push(t),!0)}drop(){if(!this.isEmpty())return this.buf.drop()}}exports.FixedBuffer=s;class e extends s{constructor(t=1){super(t)}isFull(){return!1}push(t){return this.buf.length<this.limit&&this.buf.push(t),!0}}exports.DroppingBuffer=e;class r extends s{constructor(t=1){super(t)}isFull(){return!1}push(t){return this.buf.length>=this.limit&&this.buf.drop(),this.buf.push(t),!0}}exports.SlidingBuffer=r;
},{"@thi.ng/dcons":"KGHx"}],"Ch0V":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Channel=void 0;var e=require("tslib"),t=require("@thi.ng/arrays"),i=require("@thi.ng/checks"),s=require("@thi.ng/dcons"),r=require("@thi.ng/errors"),n=require("@thi.ng/transducers"),o=require("./buffer");class l{constructor(...e){let t,n,u,a,[c,f]=e;switch(e.length){case 0:break;case 1:"string"==typeof c?t=c:d(c)?n=c:u=c;break;case 2:"string"==typeof c?(t=c,d(f)?n=f:u=f):[u,a]=e;break;case 3:(0,i.isFunction)(e[1])&&(0,i.isFunction)(e[2])?[t,u,a]=e:[t,n,u]=e;break;case 4:[t,n,u,a]=e;break;default:(0,r.illegalArity)(e.length)}this.id=t||`chan-${l.NEXT_ID++}`,n=n||1,this.buf="number"==typeof n?new o.FixedBuffer(n):n,this.writes=new s.DCons,this.reads=new s.DCons,this.txbuf=new s.DCons,this.tx=u?u(l.RFN):null,this.onerror=u&&(a||h),this.state=0,this.isBusy=!1}static constantly(e,t){const i=new l(t?(0,n.delayed)(t):null);return i.produce(()=>e),i}static repeatedly(e,t){const i=new l(t?(0,n.delayed)(t):null);return i.produce(e),i}static cycle(e,t){return l.from((0,n.cycle)(e),t?(0,n.delayed)(t):null)}static range(...e){const[t,i,s,r]=e;return l.from((0,n.range)(t,i,s),void 0!==r?(0,n.delayed)(r):null)}static timeout(e){const t=new l(`timeout-${l.NEXT_ID++}`);return setTimeout(()=>t.close(),e),t}static sleep(e){return l.timeout(e).read()}static fromPromise(t){const i=new l;return t.then(t=>(()=>(0,e.__awaiter)(this,void 0,void 0,function*(){return yield i.write(t),yield i.close(),t}))()),i}static from(...e){let t,i;switch(e.length){case 1:break;case 2:"boolean"==typeof e[1]?t=e[1]:i=e[1];break;case 3:i=e[1],t=e[2];break;default:(0,r.illegalArity)(e.length)}const s=new l(i);return s.into(e[0],t),s}static select(e){return new Promise(i=>{const s=()=>{for(let s of(0,t.shuffle)(e))if(s.isReadable()||s.isClosed())return void s.read().then(e=>i([e,s]));l.SCHEDULE.call(null,s,0)};l.SCHEDULE.call(null,s,0)})}static merge(t,i,s=!0,r=!1){return i=i||new l,(()=>(0,e.__awaiter)(this,void 0,void 0,function*(){for(;;){let[e,n]=yield l.select(t);if(void 0===e){if(t.splice(t.indexOf(n),1),!t.length){s&&(yield i.close());break}}else yield i.write(r?[n.id,e]:e)}}))(),i}static mergeTuples(t,i,s=!0,r=!0){return i=i||new l,(()=>(0,e.__awaiter)(this,void 0,void 0,function*(){let e=[],n=[...t],o=new Set(t),h=t.length;for(;;){let[r,d]=yield l.select([...o]),u=n.indexOf(d);if(void 0===r){if(s||1===t.length)break;t.splice(u,1)}e[u]=r,o.delete(d),0==--h&&(yield i.write(e),e=[],h=t.length,o=new Set(t))}r&&(yield i.close())}))(),i}channel(){return this}write(t){return new Promise(i=>{if(0!==this.state&&i(!1),!(this.writes.length<l.MAX_WRITES))throw new Error(`channel stalled (${l.MAX_WRITES} unprocessed writes)`);this.writes.push({value:this.tx?()=>(0,e.__awaiter)(this,void 0,void 0,function*(){try{(0,n.isReduced)(this.tx[2](this.txbuf,t))&&(this.state=1)}catch(e){this.onerror(e,this,t)}}):()=>t,resolve:i}),this.process()})}read(){return new Promise(e=>{2===this.state&&e(),this.reads.push(e),this.process()})}tryRead(t=1e3){return new Promise(i=>{(()=>(0,e.__awaiter)(this,void 0,void 0,function*(){return i((yield l.select([this,l.timeout(t)]))[0])}))()})}close(e=!1){if(0===this.state)return this.state=1,e&&this.flush(),this.process()}isClosed(){return 0!==this.state}isReadable(){return 2!==this.state&&this.buf&&this.buf.length>0||this.writes&&this.writes.length>0||this.txbuf&&this.txbuf.length>0}consume(t=(e=>console.log(this.id,":",e))){return(()=>(0,e.__awaiter)(this,void 0,void 0,function*(){let e;for(;void 0!==(e=null,e=yield this.read());)yield t(e)}))()}produce(t,i=!0){return(()=>(0,e.__awaiter)(this,void 0,void 0,function*(){for(;!this.isClosed();){const e=yield t();if(void 0===e){i&&(yield this.close());break}yield this.write(e)}}))()}consumeWhileReadable(t=(e=>console.log(this.id,":",e))){return(()=>(0,e.__awaiter)(this,void 0,void 0,function*(){let e;for(;this.isReadable()&&void 0!==(e=yield this.read());)yield t(e),e=null}))()}reduce(t,i){return(()=>(0,e.__awaiter)(this,void 0,void 0,function*(){const[e,s,r]=t;let o;for(i=null!=i?i:e();void 0!==(o=null,o=yield this.read());)if(i=r(i,o),(0,n.isReduced)(i)){i=i.deref();break}return(0,n.unreduced)(s(i))}))()}transduce(t,i,s){return(()=>(0,e.__awaiter)(this,void 0,void 0,function*(){const e=t(i);return(0,n.unreduced)(e[1](yield this.reduce(e,s)))}))()}into(t,i=!0){return(()=>(0,e.__awaiter)(this,void 0,void 0,function*(){for(let e of t){if(this.isClosed())break;yield this.write(e)}i&&(yield this.close())}))()}pipe(e,t=!0){return e instanceof l||(e=new l(e)),this.consume(t=>e.write(t)).then(()=>{t&&e.close()}),e}split(e,t,i,s=!0){return t instanceof l||(t=new l),i instanceof l||(i=new l),this.consume(s=>(e(s)?t:i).write(s)).then(()=>{s&&(t.close(),i.close())}),[t,i]}concat(t,i=!0){return(()=>(0,e.__awaiter)(this,void 0,void 0,function*(){for(let e of t)yield e.consume(e=>this.write(e));i&&(yield this.close())}))()}release(){1===this.state&&(this.state=2,this.flush(),this.buf.release(),delete this.reads,delete this.writes,delete this.buf,delete this.txbuf,delete this.tx,delete this.isBusy,delete this.onerror)}process(){return(0,e.__awaiter)(this,void 0,void 0,function*(){if(!this.isBusy){this.isBusy=!0;const t=this.reads,i=this.writes,s=this.buf,r=this.txbuf;let n=!0;for(;n;){for(;t.length&&(r.length||s.length);)if(r.length){const e=r.drop();void 0!==e&&t.drop()(e)}else{const e=yield s.drop().value();void 0!==e&&t.drop()(e)}for(;i.length&&!s.isFull();){const e=i.drop();s.push(e),e.resolve(!0)}if(1===this.state){if(this.tx&&!i.length)try{this.tx[1](this.txbuf)}catch(e){this.onerror(e,this)}if(!this.isReadable())return void this.release()}n=t.length&&(r.length||s.length)||i.length&&!s.isFull()}this.isBusy=!1}})}flush(){let e;for(;e=this.reads.drop();)e();for(;e=this.writes.drop();)e.resolve(!1);this.buf.release()}}exports.Channel=l,l.MAX_WRITES=1024,l.NEXT_ID=0,l.SCHEDULE="function"==typeof setImmediate?setImmediate:setTimeout,l.RFN=[()=>null,e=>e,(e,t)=>e.push(t)];const h=(e,t,i)=>console.log(t.id,"error occurred",e.message,void 0!==i?i:""),d=e=>e instanceof o.FixedBuffer||"number"==typeof e;
},{"tslib":"vCxL","@thi.ng/arrays":"cGHC","@thi.ng/checks":"HctC","@thi.ng/dcons":"KGHx","@thi.ng/errors":"Qv5j","@thi.ng/transducers":"ntmJ","./buffer":"aXLj"}],"ZtLI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Mult=void 0;var t=require("tslib"),e=require("@thi.ng/dcons"),s=require("@thi.ng/errors"),r=require("./channel");class i{constructor(...t){let n,a;switch(this.tapID=0,t.length){case 2:n=t[0],a=t[1];break;case 1:"string"==typeof t[0]?n=t[0]:a=t[0];break;case 0:n="mult"+i.nextID++;break;default:(0,s.illegalArity)(t.length)}a instanceof r.Channel?this.src=a:this.src=new r.Channel(n,a),this.taps=new e.DCons,this.process()}get id(){return this.src&&this.src.id}set id(t){this.src&&(this.src.id=t)}channel(){return this.src}write(t){return this.src?this.src.write(t):Promise.resolve(!1)}close(t=!1){return this.src?this.src.close(t):void 0}tap(t){if(this.taps){if(t instanceof r.Channel){if(this.taps.find(t))return t}else t=new r.Channel(this.src.id+"-tap"+this.tapID++,t);return this.taps.push(t),t}}untap(t){if(this.taps){const e=this.taps.find(t);if(e)return this.taps.remove(e),!0}return!1}untapAll(t=!0){if(this.taps){let e=this.taps.head;for(;e;)t&&e.value.close(),this.taps.remove(e),e=e.next;return!0}return!1}process(){return(0,t.__awaiter)(this,void 0,void 0,function*(){let t;for(;void 0!==(t=null,t=yield this.src.read());){let e=this.taps.head;for(;e;)(yield e.value.write(t))||this.taps.remove(e),e=e.next}for(let e of this.taps)yield e.close();delete this.src,delete this.taps,delete this.tapID})}}exports.Mult=i,i.nextID=0;
},{"tslib":"vCxL","@thi.ng/dcons":"KGHx","@thi.ng/errors":"Qv5j","./channel":"Ch0V"}],"r5js":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PubSub=void 0;var t=require("tslib"),s=require("@thi.ng/errors"),e=require("./channel"),i=require("./mult");class r{constructor(...t){switch(t.length){case 2:this.src=t[0],this.fn=t[1];break;case 1:this.src=new e.Channel("pubsub"+r.NEXT_ID++),this.fn=t[0];break;default:(0,s.illegalArity)(t.length)}this.topics={},this.process()}get id(){return this.src&&this.src.id}set id(t){this.src&&(this.src.id=t)}channel(){return this.src}write(t){return this.src?this.src.write(t):Promise.resolve(!1)}close(t=!1){return this.src?this.src.close(t):void 0}sub(t,s){let e=this.topics[t];return e||(this.topics[t]=e=new i.Mult(this.src.id+"-"+t)),e.tap(s)}unsub(t,s){let e=this.topics[t];return!!e&&e.untap(s)}unsubAll(t,s=!0){let e=this.topics[t];return!!e&&e.untapAll(s)}process(){return(0,t.__awaiter)(this,void 0,void 0,function*(){let t;for(;void 0!==(t=null,t=yield this.src.read());){const s=yield this.fn(t);let e=this.topics[s];e&&(yield e.write(t)),(e=this.topics["*"])&&(yield e.write(t))}for(let s of Object.keys(this.topics))this.topics[s].close();delete this.src,delete this.topics,delete this.fn})}}exports.PubSub=r,r.NEXT_ID=0;
},{"tslib":"vCxL","@thi.ng/errors":"Qv5j","./channel":"Ch0V","./mult":"ZtLI"}],"uWVb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./buffer");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./channel");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./mult");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var u=require("./pubsub");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});
},{"./buffer":"aXLj","./channel":"Ch0V","./mult":"ZtLI","./pubsub":"r5js"}],"UAx9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.keys2prune_link=exports.keys2prune_detail=exports.pruneKVPairs=exports.renameKeysWQMarks=exports.mapKeys=exports.partial=void 0;const e=(e,s)=>(...t)=>e(s,...t);exports.partial=e;const s=(e,s)=>{let t={};return Object.entries(s).forEach(([s,r])=>t[e(s,r)]=r),t};exports.mapKeys=s;const t=e=>{return s((e,s)=>{let[t,r]=e.split("?");return t},e)};exports.renameKeysWQMarks=t;const r=(e,...s)=>{let t={};return Object.entries(e).forEach(([e,r])=>s.some(s=>s===e)?void 0:t[e]=r),t};exports.pruneKVPairs=r;const i=["wireless_recipients","wireless_delivered","wireless_failed_count","publish_to_facebook","publish_to_twitter","publish_to_rss?","bulletin_visibility?","wireless_unique_clicks","wireless_nonunique_clicks","facebook_nonunique_clicks","twitter_nonunique_clicks","_links"];exports.keys2prune_detail=i;const n=["subject","sent_at","sender_email","_links"];exports.keys2prune_link=n;
},{}],"dZYI":[function(require,module,exports) {
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.dayjs=e()}(this,function(){"use strict";var t="millisecond",e="second",n="minute",r="hour",i="day",s="week",u="month",o="quarter",a="year",h=/^(\d{4})-?(\d{1,2})-?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,f=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,c=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},d={s:c,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+c(r,2,"0")+":"+c(i,2,"0")},m:function(t,e){var n=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(n,u),i=e-r<0,s=t.clone().add(n+(i?-1:1),u);return Number(-(n+(e-r)/(i?r-s:s-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(h){return{M:u,y:a,w:s,d:i,D:"date",h:r,m:n,s:e,ms:t,Q:o}[h]||String(h||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},$={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},l="en",m={};m[l]=$;var y=function(t){return t instanceof v},M=function(t,e,n){var r;if(!t)return l;if("string"==typeof t)m[t]&&(r=t),e&&(m[t]=e,r=t);else{var i=t.name;m[i]=t,r=i}return!n&&r&&(l=r),r||!n&&l},g=function(t,e){if(y(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new v(n)},D=d;D.l=M,D.i=y,D.w=function(t,e){return g(t,{locale:e.$L,utc:e.$u,$offset:e.$offset})};var v=function(){function c(t){this.$L=this.$L||M(t.locale,null,!0),this.parse(t)}var d=c.prototype;return d.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(D.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(h);if(r)return n?new Date(Date.UTC(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)):new Date(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)}return new Date(e)}(t),this.init()},d.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},d.$utils=function(){return D},d.isValid=function(){return!("Invalid Date"===this.$d.toString())},d.isSame=function(t,e){var n=g(t);return this.startOf(e)<=n&&n<=this.endOf(e)},d.isAfter=function(t,e){return g(t)<this.startOf(e)},d.isBefore=function(t,e){return this.endOf(e)<g(t)},d.$g=function(t,e,n){return D.u(t)?this[e]:this.set(n,t)},d.year=function(t){return this.$g(t,"$y",a)},d.month=function(t){return this.$g(t,"$M",u)},d.day=function(t){return this.$g(t,"$W",i)},d.date=function(t){return this.$g(t,"$D","date")},d.hour=function(t){return this.$g(t,"$H",r)},d.minute=function(t){return this.$g(t,"$m",n)},d.second=function(t){return this.$g(t,"$s",e)},d.millisecond=function(e){return this.$g(e,"$ms",t)},d.unix=function(){return Math.floor(this.valueOf()/1e3)},d.valueOf=function(){return this.$d.getTime()},d.startOf=function(t,o){var h=this,f=!!D.u(o)||o,c=D.p(t),d=function(t,e){var n=D.w(h.$u?Date.UTC(h.$y,e,t):new Date(h.$y,e,t),h);return f?n:n.endOf(i)},$=function(t,e){return D.w(h.toDate()[t].apply(h.toDate("s"),(f?[0,0,0,0]:[23,59,59,999]).slice(e)),h)},l=this.$W,m=this.$M,y=this.$D,M="set"+(this.$u?"UTC":"");switch(c){case a:return f?d(1,0):d(31,11);case u:return f?d(1,m):d(0,m+1);case s:var g=this.$locale().weekStart||0,v=(l<g?l+7:l)-g;return d(f?y-v:y+(6-v),m);case i:case"date":return $(M+"Hours",0);case r:return $(M+"Minutes",1);case n:return $(M+"Seconds",2);case e:return $(M+"Milliseconds",3);default:return this.clone()}},d.endOf=function(t){return this.startOf(t,!1)},d.$set=function(s,o){var h,f=D.p(s),c="set"+(this.$u?"UTC":""),d=(h={},h[i]=c+"Date",h.date=c+"Date",h[u]=c+"Month",h[a]=c+"FullYear",h[r]=c+"Hours",h[n]=c+"Minutes",h[e]=c+"Seconds",h[t]=c+"Milliseconds",h)[f],$=f===i?this.$D+(o-this.$W):o;if(f===u||f===a){var l=this.clone().set("date",1);l.$d[d]($),l.init(),this.$d=l.set("date",Math.min(this.$D,l.daysInMonth())).toDate()}else d&&this.$d[d]($);return this.init(),this},d.set=function(t,e){return this.clone().$set(t,e)},d.get=function(t){return this[D.p(t)]()},d.add=function(t,o){var h,f=this;t=Number(t);var c=D.p(o),d=function(e){var n=g(f);return D.w(n.date(n.date()+Math.round(e*t)),f)};if(c===u)return this.set(u,this.$M+t);if(c===a)return this.set(a,this.$y+t);if(c===i)return d(1);if(c===s)return d(7);var $=(h={},h[n]=6e4,h[r]=36e5,h[e]=1e3,h)[c]||1,l=this.$d.getTime()+t*$;return D.w(l,this)},d.subtract=function(t,e){return this.add(-1*t,e)},d.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var n=t||"YYYY-MM-DDTHH:mm:ssZ",r=D.z(this),i=this.$locale(),s=this.$H,u=this.$m,o=this.$M,a=i.weekdays,h=i.months,c=function(t,r,i,s){return t&&(t[r]||t(e,n))||i[r].substr(0,s)},d=function(t){return D.s(s%12||12,t,"0")},$=i.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},l={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:D.s(o+1,2,"0"),MMM:c(i.monthsShort,o,h,3),MMMM:h[o]||h(this,n),D:this.$D,DD:D.s(this.$D,2,"0"),d:String(this.$W),dd:c(i.weekdaysMin,this.$W,a,2),ddd:c(i.weekdaysShort,this.$W,a,3),dddd:a[this.$W],H:String(s),HH:D.s(s,2,"0"),h:d(1),hh:d(2),a:$(s,u,!0),A:$(s,u,!1),m:String(u),mm:D.s(u,2,"0"),s:String(this.$s),ss:D.s(this.$s,2,"0"),SSS:D.s(this.$ms,3,"0"),Z:r};return n.replace(f,function(t,e){return e||l[t]||r.replace(":","")})},d.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},d.diff=function(t,h,f){var c,d=D.p(h),$=g(t),l=6e4*($.utcOffset()-this.utcOffset()),m=this-$,y=D.m(this,$);return y=(c={},c[a]=y/12,c[u]=y,c[o]=y/3,c[s]=(m-l)/6048e5,c[i]=(m-l)/864e5,c[r]=m/36e5,c[n]=m/6e4,c[e]=m/1e3,c)[d]||m,f?y:D.a(y)},d.daysInMonth=function(){return this.endOf(u).$D},d.$locale=function(){return m[this.$L]},d.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=M(t,e,!0);return r&&(n.$L=r),n},d.clone=function(){return D.w(this.$d,this)},d.toDate=function(){return new Date(this.valueOf())},d.toJSON=function(){return this.isValid()?this.toISOString():null},d.toISOString=function(){return this.$d.toISOString()},d.toString=function(){return this.$d.toUTCString()},c}();return g.prototype=v.prototype,g.extend=function(t,e){return t(e,v,g),g},g.locale=M,g.isDayjs=y,g.unix=function(t){return g(1e3*t)},g.en=m[l],g.Ls=m,g});
},{}],"xcS4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.heavy_days_ago=exports.medium_days_ago=exports.light_days_ago=exports.first_days_ago=exports.light_date=exports.medium_date=exports.heavy_date=exports.firstEmailDate=exports.getDaysDiffFromDates=exports.genDateFromDateMinusDays=exports.genGranicusDate=void 0;var e=t(require("dayjs"));function t(e){return e&&e.__esModule?e:{default:e}}const a=t=>(0,e.default)(t).format("YYYY-MM-DD");exports.genGranicusDate=a;const s=(t,a)=>(0,e.default)(t).subtract(a,"day").format("YYYY-MM-DD");exports.genDateFromDateMinusDays=s;const o=(t,a)=>(0,e.default)(a).diff(t,"day");exports.getDaysDiffFromDates=o;const r=new Date("December 03, 2009");exports.firstEmailDate=r;const d="March 30, 2020";exports.heavy_date=d;const n="March 12, 2019";exports.medium_date=n;const i="March 1, 2010";exports.light_date=i;const D=new Date,_=o(r,D);exports.first_days_ago=_;const p=o(new Date(i),D);exports.light_days_ago=p;const x=o(new Date(n),D);exports.medium_days_ago=x;const c=o(new Date(d),D);exports.heavy_days_ago=c;
},{"dayjs":"dZYI"}],"AHpS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.shallow_merge=void 0;const e=(e,r)=>{const t=e;return Object.entries(r).forEach(([r,s],o)=>{t[r]=Array.isArray(s)&&Array.isArray(e[r])?[...e[r],...s]:"object"==typeof s&&"object"==typeof e[r]?Object.assign(Object.assign({},e[r]),s):s}),t};exports.shallow_merge=e;
},{}],"KIF4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.parse_href=void 0;var e=require("@-0/utils"),s=require("@thi.ng/associative");const i=(i="")=>{const t=(0,e.parse)(i),{URL_path:a,URL_query:c}=t,{utm_campaign:n}=c;return new s.EquivMap([[Object.assign(Object.assign({},t),{URL_query:Object.assign(Object.assign({},c),{[""!==n&&"utm_campaign"]:n})}),{utm_campaign:n}],[Object.assign(Object.assign({},t),{URL_path:[...a.slice(0,-1),"one_click_unsubscribe"]}),{unsubscribe:1}],[Object.assign(Object.assign({},t),{URL_path:[...a.slice(0,-1),"one_click_unsubscribe"],URL_query:Object.assign(Object.assign({},c),{[""!==n&&"utm_campaign"]:n})}),{utm_campaign:n,unsubscribe:1}]]).get(t)||null};exports.parse_href=i;
},{"@-0/utils":"zAu4","@thi.ng/associative":"IDdP"}],"v89u":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.gather=void 0;var c=require("./parse_href");const u=(u=[])=>u.reduce((u,t,e)=>{const i=(0,c.parse_href)(t.link_url),n=i&&i.unsubscribe?t.unique_click_count:0,_=u.utm_campaign?u.utm_campaign:i&&i.utm_campaign?i.utm_campaign:"";return{unique_click_count:u.unique_click_count+t.unique_click_count,total_click_count:u.total_click_count+t.total_click_count,utm_campaign:_,unsubscribes:u.unsubscribes+n}},{unique_click_count:0,total_click_count:0,utm_campaign:"",unsubscribes:0});exports.gather=u;
},{"./parse_href":"KIF4"}],"qfux":[function(require,module,exports) {
module.exports=e;var r=/(query|mutation) ?([\w\d-_]+)? ?\(.*?\)? \{/;function e(e){e=Array.isArray(e)?e.join(""):e;var n=r.exec(e);return function(r){var i={query:e};(r&&(i.variables=JSON.stringify(r)),n&&n.length)&&(n[2]&&(i.operationName=n[2]));return JSON.stringify(i)}}
},{}],"AsQL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FetchError=c,exports.Response=exports.Request=exports.Headers=exports.default=void 0;var e=s(require("stream")),t=s(require("http")),r=s(require("url")),o=s(require("https")),n=s(require("zlib"));function s(e){return e&&e.__esModule?e:{default:e}}const i=e.default.Readable,u=Symbol("buffer"),a=Symbol("type");class l{constructor(){this[a]="";const e=arguments[0],t=arguments[1],r=[];let o=0;if(e){const t=e,n=Number(t.length);for(let e=0;e<n;e++){const n=t[e];let s;o+=(s=n instanceof Buffer?n:ArrayBuffer.isView(n)?Buffer.from(n.buffer,n.byteOffset,n.byteLength):n instanceof ArrayBuffer?Buffer.from(n):n instanceof l?n[u]:Buffer.from("string"==typeof n?n:String(n))).length,r.push(s)}}this[u]=Buffer.concat(r);let n=t&&void 0!==t.type&&String(t.type).toLowerCase();n&&!/[^\u0020-\u007E]/.test(n)&&(this[a]=n)}get size(){return this[u].length}get type(){return this[a]}text(){return Promise.resolve(this[u].toString())}arrayBuffer(){const e=this[u],t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return Promise.resolve(t)}stream(){const e=new i;return e._read=function(){},e.push(this[u]),e.push(null),e}toString(){return"[object Blob]"}slice(){const e=this.size,t=arguments[0],r=arguments[1];let o,n;o=void 0===t?0:t<0?Math.max(e+t,0):Math.min(t,e),n=void 0===r?e:r<0?Math.max(e+r,0):Math.min(r,e);const s=Math.max(n-o,0),i=this[u].slice(o,o+s),a=new l([],{type:arguments[2]});return a[u]=i,a}}function c(e,t,r){Error.call(this,e),this.message=e,this.type=t,r&&(this.code=this.errno=r.code),Error.captureStackTrace(this,this.constructor)}let f;Object.defineProperties(l.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}}),Object.defineProperty(l.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0}),c.prototype=Object.create(Error.prototype),c.prototype.constructor=c,c.prototype.name="FetchError";try{f=require("encoding").convert}catch(W){}const d=Symbol("Body internals"),h=e.default.PassThrough;function p(t){var r=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=o.size;let s=void 0===n?0:n;var i=o.timeout;let u=void 0===i?0:i;null==t?t=null:m(t)?t=Buffer.from(t.toString()):g(t)||Buffer.isBuffer(t)||("[object ArrayBuffer]"===Object.prototype.toString.call(t)?t=Buffer.from(t):ArrayBuffer.isView(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):t instanceof e.default||(t=Buffer.from(String(t)))),this[d]={body:t,disturbed:!1,error:null},this.size=s,this.timeout=u,t instanceof e.default&&t.on("error",function(e){const t="AbortError"===e.name?e:new c(`Invalid response body while trying to fetch ${r.url}: ${e.message}`,"system",e);r[d].error=t})}function b(){var t=this;if(this[d].disturbed)return p.Promise.reject(new TypeError(`body used already for: ${this.url}`));if(this[d].disturbed=!0,this[d].error)return p.Promise.reject(this[d].error);let r=this.body;if(null===r)return p.Promise.resolve(Buffer.alloc(0));if(g(r)&&(r=r.stream()),Buffer.isBuffer(r))return p.Promise.resolve(r);if(!(r instanceof e.default))return p.Promise.resolve(Buffer.alloc(0));let o=[],n=0,s=!1;return new p.Promise(function(e,i){let u;t.timeout&&(u=setTimeout(function(){s=!0,i(new c(`Response timeout while trying to fetch ${t.url} (over ${t.timeout}ms)`,"body-timeout"))},t.timeout)),r.on("error",function(e){"AbortError"===e.name?(s=!0,i(e)):i(new c(`Invalid response body while trying to fetch ${t.url}: ${e.message}`,"system",e))}),r.on("data",function(e){if(!s&&null!==e){if(t.size&&n+e.length>t.size)return s=!0,void i(new c(`content size at ${t.url} over limit: ${t.size}`,"max-size"));n+=e.length,o.push(e)}}),r.on("end",function(){if(!s){clearTimeout(u);try{e(Buffer.concat(o,n))}catch(r){i(new c(`Could not create Buffer from response body for ${t.url}: ${r.message}`,"system",r))}}})})}function y(e,t){if("function"!=typeof f)throw new Error("The package `encoding` must be installed to use the textConverted() function");const r=t.get("content-type");let o,n,s="utf-8";return r&&(o=/charset=([^;]*)/i.exec(r)),n=e.slice(0,1024).toString(),!o&&n&&(o=/<meta.+?charset=(['"])(.+?)\1/i.exec(n)),!o&&n&&(o=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(n))&&(o=/charset=(.*)/i.exec(o.pop())),!o&&n&&(o=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(n)),o&&("gb2312"!==(s=o.pop())&&"gbk"!==s||(s="gb18030")),f(e,"UTF-8",s).toString()}function m(e){return"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&("URLSearchParams"===e.constructor.name||"[object URLSearchParams]"===Object.prototype.toString.call(e)||"function"==typeof e.sort)}function g(e){return"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.constructor&&"string"==typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}function w(t){let r,o,n=t.body;if(t.bodyUsed)throw new Error("cannot clone body after it is used");return n instanceof e.default&&"function"!=typeof n.getBoundary&&(r=new h,o=new h,n.pipe(r),n.pipe(o),t[d].body=r,n=o),n}function v(t){return null===t?null:"string"==typeof t?"text/plain;charset=UTF-8":m(t)?"application/x-www-form-urlencoded;charset=UTF-8":g(t)?t.type||null:Buffer.isBuffer(t)?null:"[object ArrayBuffer]"===Object.prototype.toString.call(t)?null:ArrayBuffer.isView(t)?null:"function"==typeof t.getBoundary?`multipart/form-data;boundary=${t.getBoundary()}`:t instanceof e.default?null:"text/plain;charset=UTF-8"}function T(e){const t=e.body;return null===t?0:g(t)?t.size:Buffer.isBuffer(t)?t.length:t&&"function"==typeof t.getLengthSync&&(t._lengthRetrievers&&0==t._lengthRetrievers.length||t.hasKnownLength&&t.hasKnownLength())?t.getLengthSync():null}function S(e,t){const r=t.body;null===r?e.end():g(r)?r.stream().pipe(e):Buffer.isBuffer(r)?(e.write(r),e.end()):r.pipe(e)}p.prototype={get body(){return this[d].body},get bodyUsed(){return this[d].disturbed},arrayBuffer(){return b.call(this).then(function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)})},blob(){let e=this.headers&&this.headers.get("content-type")||"";return b.call(this).then(function(t){return Object.assign(new l([],{type:e.toLowerCase()}),{[u]:t})})},json(){var e=this;return b.call(this).then(function(t){try{return JSON.parse(t.toString())}catch(r){return p.Promise.reject(new c(`invalid json response body at ${e.url} reason: ${r.message}`,"invalid-json"))}})},text(){return b.call(this).then(function(e){return e.toString()})},buffer(){return b.call(this)},textConverted(){var e=this;return b.call(this).then(function(t){return y(t,e.headers)})}},Object.defineProperties(p.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}}),p.mixIn=function(e){for(const t of Object.getOwnPropertyNames(p.prototype))if(!(t in e)){const r=Object.getOwnPropertyDescriptor(p.prototype,t);Object.defineProperty(e,t,r)}},p.Promise=global.Promise;const j=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,x=/[^\t\x20-\x7e\x80-\xff]/;function O(e){if(e=`${e}`,j.test(e)||""===e)throw new TypeError(`${e} is not a legal HTTP header name`)}function P(e){if(e=`${e}`,x.test(e))throw new TypeError(`${e} is not a legal HTTP header value`)}function E(e,t){t=t.toLowerCase();for(const r in e)if(r.toLowerCase()===t)return r}const B=Symbol("map");class ${constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this[B]=Object.create(null),e instanceof $){const t=e.raw(),r=Object.keys(t);for(const e of r)for(const r of t[e])this.append(e,r)}else if(null==e);else{if("object"!=typeof e)throw new TypeError("Provided initializer must be an object");{const t=e[Symbol.iterator];if(null!=t){if("function"!=typeof t)throw new TypeError("Header pairs must be iterable");const r=[];for(const t of e){if("object"!=typeof t||"function"!=typeof t[Symbol.iterator])throw new TypeError("Each header pair must be iterable");r.push(Array.from(t))}for(const e of r){if(2!==e.length)throw new TypeError("Each header pair must be a name/value tuple");this.append(e[0],e[1])}}else for(const r of Object.keys(e)){const t=e[r];this.append(r,t)}}}}get(e){O(e=`${e}`);const t=E(this[B],e);return void 0===t?null:this[B][t].join(", ")}forEach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=C(this),o=0;for(;o<r.length;){var n=r[o];const s=n[0],i=n[1];e.call(t,i,s,this),r=C(this),o++}}set(e,t){t=`${t}`,O(e=`${e}`),P(t);const r=E(this[B],e);this[B][void 0!==r?r:e]=[t]}append(e,t){t=`${t}`,O(e=`${e}`),P(t);const r=E(this[B],e);void 0!==r?this[B][r].push(t):this[B][e]=[t]}has(e){return O(e=`${e}`),void 0!==E(this[B],e)}delete(e){O(e=`${e}`);const t=E(this[B],e);void 0!==t&&delete this[B][t]}raw(){return this[B]}keys(){return A(this,"key")}values(){return A(this,"value")}[Symbol.iterator](){return A(this,"key+value")}}function C(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key+value";return Object.keys(e[B]).sort().map("key"===t?function(e){return e.toLowerCase()}:"value"===t?function(t){return e[B][t].join(", ")}:function(t){return[t.toLowerCase(),e[B][t].join(", ")]})}exports.Headers=$,$.prototype.entries=$.prototype[Symbol.iterator],Object.defineProperty($.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties($.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});const L=Symbol("internal");function A(e,t){const r=Object.create(R);return r[L]={target:e,kind:t,index:0},r}const R=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==R)throw new TypeError("Value of `this` is not a HeadersIterator");var e=this[L];const t=e.target,r=e.kind,o=e.index,n=C(t,r);return o>=n.length?{value:void 0,done:!0}:(this[L].index=o+1,{value:n[o],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));function k(e){const t=Object.assign({__proto__:null},e[B]),r=E(e[B],"Host");return void 0!==r&&(t[r]=t[r][0]),t}function z(e){const t=new $;for(const r of Object.keys(e))if(!j.test(r))if(Array.isArray(e[r]))for(const o of e[r])x.test(o)||(void 0===t[B][r]?t[B][r]=[o]:t[B][r].push(o));else x.test(e[r])||(t[B][r]=[e[r]]);return t}Object.defineProperty(R,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});const U=Symbol("Response internals"),q=t.default.STATUS_CODES;class _{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p.call(this,e,t);const r=t.status||200,o=new $(t.headers);if(null!=e&&!o.has("Content-Type")){const t=v(e);t&&o.append("Content-Type",t)}this[U]={url:t.url,status:r,statusText:t.statusText||q[r],headers:o,counter:t.counter}}get url(){return this[U].url||""}get status(){return this[U].status}get ok(){return this[U].status>=200&&this[U].status<300}get redirected(){return this[U].counter>0}get statusText(){return this[U].statusText}get headers(){return this[U].headers}clone(){return new _(w(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}}exports.Response=_,p.mixIn(_.prototype),Object.defineProperties(_.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}}),Object.defineProperty(_.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});const H=Symbol("Request internals"),F=r.default.parse,I=r.default.format,M="destroy"in e.default.Readable.prototype;function D(e){return"object"==typeof e&&"object"==typeof e[H]}function G(e){const t=e&&"object"==typeof e&&Object.getPrototypeOf(e);return!(!t||"AbortSignal"!==t.constructor.name)}class N{constructor(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};D(e)?t=F(e.url):(t=e&&e.href?F(e.href):F(`${e}`),e={});let o=r.method||e.method||"GET";if(o=o.toUpperCase(),(null!=r.body||D(e)&&null!==e.body)&&("GET"===o||"HEAD"===o))throw new TypeError("Request with GET/HEAD method cannot have body");let n=null!=r.body?r.body:D(e)&&null!==e.body?w(e):null;p.call(this,n,{timeout:r.timeout||e.timeout||0,size:r.size||e.size||0});const s=new $(r.headers||e.headers||{});if(null!=n&&!s.has("Content-Type")){const e=v(n);e&&s.append("Content-Type",e)}let i=D(e)?e.signal:null;if("signal"in r&&(i=r.signal),null!=i&&!G(i))throw new TypeError("Expected signal to be an instanceof AbortSignal");this[H]={method:o,redirect:r.redirect||e.redirect||"follow",headers:s,parsedURL:t,signal:i},this.follow=void 0!==r.follow?r.follow:void 0!==e.follow?e.follow:20,this.compress=void 0!==r.compress?r.compress:void 0===e.compress||e.compress,this.counter=r.counter||e.counter||0,this.agent=r.agent||e.agent}get method(){return this[H].method}get url(){return I(this[H].parsedURL)}get headers(){return this[H].headers}get redirect(){return this[H].redirect}get signal(){return this[H].signal}clone(){return new N(this)}}function V(t){const r=t[H].parsedURL,o=new $(t[H].headers);if(o.has("Accept")||o.set("Accept","*/*"),!r.protocol||!r.hostname)throw new TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(r.protocol))throw new TypeError("Only HTTP(S) protocols are supported");if(t.signal&&t.body instanceof e.default.Readable&&!M)throw new Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8");let n=null;if(null==t.body&&/^(POST|PUT)$/i.test(t.method)&&(n="0"),null!=t.body){const e=T(t);"number"==typeof e&&(n=String(e))}n&&o.set("Content-Length",n),o.has("User-Agent")||o.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),t.compress&&!o.has("Accept-Encoding")&&o.set("Accept-Encoding","gzip,deflate");let s=t.agent;return"function"==typeof s&&(s=s(r)),o.has("Connection")||s||o.set("Connection","close"),Object.assign({},r,{method:t.method,headers:k(o),agent:s})}function Z(e){Error.call(this,e),this.type="aborted",this.message=e,Error.captureStackTrace(this,this.constructor)}exports.Request=N,p.mixIn(N.prototype),Object.defineProperty(N.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(N.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}}),Z.prototype=Object.create(Error.prototype),Z.prototype.constructor=Z,Z.prototype.name="AbortError";const K=e.default.PassThrough,Y=r.default.resolve;function J(r,s){if(!J.Promise)throw new Error("native promise missing, set fetch.Promise to your favorite alternative");return p.Promise=J.Promise,new J.Promise(function(i,u){const a=new N(r,s),l=V(a),f=("https:"===l.protocol?o.default:t.default).request,d=a.signal;let h=null;const p=function(){let t=new Z("The user aborted a request.");u(t),a.body&&a.body instanceof e.default.Readable&&a.body.destroy(t),h&&h.body&&h.body.emit("error",t)};if(d&&d.aborted)return void p();const b=function(){p(),g()},y=f(l);let m;function g(){y.abort(),d&&d.removeEventListener("abort",b),clearTimeout(m)}d&&d.addEventListener("abort",b),a.timeout&&y.once("socket",function(e){m=setTimeout(function(){u(new c(`network timeout at: ${a.url}`,"request-timeout")),g()},a.timeout)}),y.on("error",function(e){u(new c(`request to ${a.url} failed, reason: ${e.message}`,"system",e)),g()}),y.on("response",function(e){clearTimeout(m);const t=z(e.headers);if(J.isRedirect(e.statusCode)){const r=t.get("Location"),o=null===r?null:Y(a.url,r);switch(a.redirect){case"error":return u(new c(`redirect mode is set to error: ${a.url}`,"no-redirect")),void g();case"manual":if(null!==o)try{t.set("Location",o)}catch(f){u(f)}break;case"follow":if(null===o)break;if(a.counter>=a.follow)return u(new c(`maximum redirect reached at: ${a.url}`,"max-redirect")),void g();const r={headers:new $(a.headers),follow:a.follow,counter:a.counter+1,agent:a.agent,compress:a.compress,method:a.method,body:a.body,signal:a.signal,timeout:a.timeout};return 303!==e.statusCode&&a.body&&null===T(a)?(u(new c("Cannot follow redirect with body being a readable stream","unsupported-redirect")),void g()):(303!==e.statusCode&&(301!==e.statusCode&&302!==e.statusCode||"POST"!==a.method)||(r.method="GET",r.body=void 0,r.headers.delete("content-length")),i(J(new N(o,r))),void g())}}e.once("end",function(){d&&d.removeEventListener("abort",b)});let r=e.pipe(new K);const o={url:a.url,status:e.statusCode,statusText:e.statusMessage,headers:t,size:a.size,timeout:a.timeout,counter:a.counter},s=t.get("Content-Encoding");if(!a.compress||"HEAD"===a.method||null===s||204===e.statusCode||304===e.statusCode)return h=new _(r,o),void i(h);const l={flush:n.default.Z_SYNC_FLUSH,finishFlush:n.default.Z_SYNC_FLUSH};if("gzip"==s||"x-gzip"==s)return r=r.pipe(n.default.createGunzip(l)),h=new _(r,o),void i(h);if("deflate"!=s&&"x-deflate"!=s){if("br"==s&&"function"==typeof n.default.createBrotliDecompress)return r=r.pipe(n.default.createBrotliDecompress()),h=new _(r,o),void i(h);h=new _(r,o),i(h)}else{e.pipe(new K).once("data",function(e){r=8==(15&e[0])?r.pipe(n.default.createInflate()):r.pipe(n.default.createInflateRaw()),h=new _(r,o),i(h)})}}),S(y,a)})}J.isRedirect=function(e){return 301===e||302===e||303===e||307===e||308===e},J.Promise=global.Promise;var Q=J;exports.default=Q;
},{}],"i0YR":[function(require,module,exports) {
"use strict";var t=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});const e=t(require("events"));function s(t,e,s,i,r){for(let n=0;n<r;++n)s[n+i]=t[n+e],t[n+e]=void 0}function i(t){return t>>>=0,t-=1,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,(t|=t>>16)+1}function r(t){return i(Math.min(Math.max(16,t),1073741824))}class n{constructor(t){this._capacity=r(t),this._length=0,this._front=0,this.arr=[]}push(t){const e=this._length;this.checkCapacity(e+1);const s=this._front+e&this._capacity-1;return this.arr[s]=t,this._length=e+1,e+1}pop(){const t=this._length;if(0===t)return;const e=this._front+t-1&this._capacity-1,s=this.arr[e];return this.arr[e]=void 0,this._length=t-1,s}shift(){const t=this._length;if(0===t)return;const e=this._front,s=this.arr[e];return this.arr[e]=void 0,this._front=e+1&this._capacity-1,this._length=t-1,s}get length(){return this._length}checkCapacity(t){this._capacity<t&&this.resizeTo(r(1.5*this._capacity+16))}resizeTo(t){const e=this._capacity;this._capacity=t;const i=this._front,r=this._length;if(i+r>e){const t=i+r&e-1;s(this.arr,0,this.arr,e,t)}}}class h extends e.default{}function a(t){return"function"==typeof t}function o(){return"1"}class u{constructor(t,{initFn:e=o,pauseFn:s,resumeFn:i,capacity:r=10}={}){if(a(s)!==a(i))throw new Error("pauseFn and resumeFn must be both set for pausing");this.nrTokens=t,this.free=new n(t),this.waiting=new n(r),this.releaseEmitter=new h,this.noTokens=e===o,this.pauseFn=s,this.resumeFn=i,this.paused=!1,this.releaseEmitter.on("release",t=>{const e=this.waiting.shift();e?e.resolve(t):(this.resumeFn&&this.paused&&(this.paused=!1,this.resumeFn()),this.free.push(t))});for(let n=0;n<t;n++)this.free.push(e())}tryAcquire(){return this.free.pop()}async acquire(){let t=this.tryAcquire();return void 0!==t?t:new Promise((t,e)=>{this.pauseFn&&!this.paused&&(this.paused=!0,this.pauseFn()),this.waiting.push({resolve:t,reject:e})})}release(t){this.releaseEmitter.emit("release",this.noTokens?"1":t)}drain(){const t=new Array(this.nrTokens);for(let e=0;e<this.nrTokens;e++)t[e]=this.acquire();return Promise.all(t)}nrWaiting(){return this.waiting.length}}function c(t,{timeUnit:e=1e3,uniformDistribution:s=!1}={}){const i=new u(s?1:t),r=s?e/t:e;return async function(){await i.acquire(),setTimeout(()=>i.release(),r)}}exports.Sema=u,exports.RateLimit=c;
},{}],"YF8F":[function(require,module,exports) {
const e=require("fs"),n=require("path");function t(e){console.log(`[dotenv][DEBUG] ${e}`)}const o="\n",r=/^\s*([\w.-]+)\s*=\s*(.*)?\s*$/,s=/\\n/g,c=/\n|\r|\r\n/;function l(e,n){const l=Boolean(n&&n.debug),i={};return e.toString().split(c).forEach(function(e,n){const c=e.match(r);if(null!=c){const e=c[1];let n=c[2]||"";const t=n.length-1,r='"'===n[0]&&'"'===n[t];"'"===n[0]&&"'"===n[t]||r?(n=n.substring(1,t),r&&(n=n.replace(s,o))):n=n.trim(),i[e]=n}else l&&t(`did not match key and value when parsing line ${n+1}: ${e}`)}),i}function i(o){let r=n.resolve(process.cwd(),".env"),s="utf8",c=!1;o&&(null!=o.path&&(r=o.path),null!=o.encoding&&(s=o.encoding),null!=o.debug&&(c=!0));try{const n=l(e.readFileSync(r,{encoding:s}),{debug:c});return Object.keys(n).forEach(function(e){Object.prototype.hasOwnProperty.call(process.env,e)?c&&t(`"${e}" is already defined in \`process.env\` and will not be overwritten`):process.env[e]=n[e]}),{parsed:n}}catch(i){return{error:i}}}module.exports.config=i,module.exports.parse=l;
},{}],"WjqQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.grafetch=exports.GQL_KEY=exports.GQL_URL=void 0;var e=r(require("nanographql")),t=r(require("node-fetch")),n=require("async-sema"),o=r(require("dotenv"));function r(e){return e&&e.__esModule?e:{default:e}}var a=function(e,t,n,o){return new(n||(n=Promise))(function(r,a){function c(e){try{s(o.next(e))}catch(t){a(t)}}function i(e){try{s(o.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(c,i)}s((o=o.apply(e,t||[])).next())})};o.default.config();const c=process.env.API_GRANICUS_GRAPHQLAPIENDPOINTOUTPUT;exports.GQL_URL=c;const i=process.env.API_GRANICUS_GRAPHQLAPIKEYOUTPUT;exports.GQL_KEY=i;const s=new n.Sema(500),u=({operation:n,api:o=c,key:r=i,vars_obj:u={}})=>a(void 0,void 0,void 0,function*(){let a=(0,e.default)(n);return yield s.acquire(),yield(0,t.default)(o,{method:"POST",headers:{"x-api-key":r},body:a(u)}).then(e=>e.json()).catch(console.error).finally(()=>s.release())});exports.grafetch=u;
},{"nanographql":"qfux","node-fetch":"AsQL","async-sema":"i0YR","dotenv":"YF8F"}],"jWsf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e={log:!0,logify:!0};exports.logify=exports.log=void 0;var t=require("./clean");Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return t[r]}}))});var r=require("./dates");Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(exports,t,{enumerable:!0,get:function(){return r[t]}}))});var o=require("./shallow_merge");Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(exports,t,{enumerable:!0,get:function(){return o[t]}}))});var n=require("./gather");Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(exports,t,{enumerable:!0,get:function(){return n[t]}}))});var c=require("./grafetch");Object.keys(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(exports,t,{enumerable:!0,get:function(){return c[t]}}))});const l=console.log;exports.log=l;const u=e=>JSON.stringify(e,null,2),a=(...e)=>e.length?e.forEach(u):u(e);exports.logify=a;
},{"./clean":"UAx9","./dates":"xcS4","./shallow_merge":"AHpS","./gather":"v89u","./grafetch":"WjqQ"}],"uQhW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.merge_props_cmd=void 0;var e=require("@-0/spool"),r=require("../utils");const s=(s="details",o="links")=>(0,e.registerCMD)({sub$:`${s}_${s}_MERGE_PROPS`,args:({[s]:e,[o]:t})=>(0,r.shallow_merge)(e,t)});exports.merge_props_cmd=s;
},{"@-0/spool":"OWB9","../utils":"jWsf"}],"Lso2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.csp_put_cmd=exports.LOG_CMD=void 0;var e=require("@-0/spool");const r=(0,e.registerCMD)({sub$:"LOG_CMD",args:e=>e,work:e=>console.log("LOG:",JSON.stringify(e,null,2))});exports.LOG_CMD=r;const s=r=>(0,e.registerCMD)({sub$:`CSP_PUT_CMD_${r.id}`,args:e=>e,work:e=>r.write(e)});exports.csp_put_cmd=s;
},{"@-0/spool":"OWB9"}],"maUu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BUBBLE_CMD=exports.bubble=void 0;var e=require("@thi.ng/paths"),t=require("@-0/spool"),s=require("../utils"),r=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(s[r[o]]=e[r[o]])}return s};const o=(t={333:{detail:{},links:[],topics:[]}})=>{const{portions:o,summary:n,days_ago:i,days_todo:a,details:l,subssummary:u,links:p}=t,c=r(t,["portions","summary","days_ago","days_todo","details","subssummary","links"]);let b={};return Object.entries(c).forEach(([t,{detail:r,links:o,topics:n}])=>{(0,e.mutInUnsafe)(b,[t],{detail:{},links:[],topics:[]}),(0,e.mutInUnsafe)(b,[t,"detail"],Object.assign(Object.assign({},r||{}),(0,s.gather)(o||[]))),(0,e.mutInUnsafe)(b,[t,"links"],o),(0,e.mutInUnsafe)(b,[t,"topics"],n)}),b};exports.bubble=o;const n=(0,t.registerCMD)({sub$:"BUBBLE_CMD",args:e=>o(e)});exports.BUBBLE_CMD=n;
},{"@thi.ng/paths":"X3Fy","@-0/spool":"OWB9","../utils":"jWsf"}],"oCK5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fetchTopicsForBulletinByID=exports.exhaustPagesGvD=exports.reducer=exports.snip_id=exports.GD_ID_path=exports.gen_args=exports.GD_date=exports.GD_age_days=exports.fetchReducer=exports.fetchGDBulletinsInWindow=exports.fetch_opts_GD=exports.genGranicusCall=exports.GD_BASE_URL=exports.GD_ROOT_URL=void 0;var e=s(require("node-fetch")),t=s(require("dotenv")),o=require("@thi.ng/paths"),n=require("../utils");function s(e){return e&&e.__esModule?e:{default:e}}var i=function(e,t,o,n){return new(o||(o=Promise))(function(s,i){function r(e){try{a(n.next(e))}catch(t){i(t)}}function c(e){try{a(n.throw(e))}catch(t){i(t)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(r,c)}a((n=n.apply(e,t||[])).next())})},r=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(o[n[s]]=e[n[s]])}return o};t.default.config();const c="https://api.govdelivery.com";exports.GD_ROOT_URL=c;const a=(e=11723)=>`${c}/api/v2${e&&`/accounts/${e}`||""}`;exports.GD_BASE_URL=a;const l=({endpoint:e="reports/bulletins",account:t=11723,timewindow:o=[],page:n=0,topics:s=[],days_prior:i=0,months_prior:r=0})=>{const[c,l]=o,p=!(n||s.length||i||o.length||r)?"":"?";return`${a(t)}/${e}${p}`+(l?`start_date=${c}&end_date=${l}`:"")+(s.length?s.map(e=>`topic%5B%5D=${e}`).join("&"):"")+(i?`&days=${i}`:"")+(n?`&page=${n}`:"")};exports.genGranicusCall=l;const p={method:"GET",headers:{"x-auth-token":process.env.GD_KEY}};exports.fetch_opts_GD=p;const d=(t,o)=>(0,e.default)(l({timewindow:[t,o]}),p).then(e=>e.json()).catch(console.error);exports.fetchGDBulletinsInWindow=d;const u=t=>(t,o=20)=>i(void 0,void 0,void 0,function*(){yield(0,e.default)(t)});exports.fetchReducer=u;const f=(0,n.getDaysDiffFromDates)(n.firstEmailDate,new Date);exports.GD_age_days=f;const _=e=>(0,n.genDateFromDateMinusDays)(new Date,e);exports.GD_date=_;const h=(e,t=f,o=0)=>({account:11723,endpoint:e,page:o,timewindow:[_(t),_(t)],topics:[],days_prior:0,months_prior:0});exports.gen_args=h;const g=["_links","self","href"];exports.GD_ID_path=g;const x=(e,t,n=g)=>(0,o.getInUnsafe)(e,n).split("/").slice(t)[0].split(".")[0];exports.snip_id=x;const y=console.log,v=(e,t,n,s)=>(r,c,a)=>i(void 0,void 0,void 0,function*(){const i=x(r,n),c=[i,t],a=()=>s(e,c,r);return(0,o.exists)(e,c)?yield a():(0,o.exists)(e,i)?(e[i]=Object.assign(Object.assign({},e[i]),{[t]:[]}),yield a()):(e[i]={[t]:[]},yield a())});exports.reducer=v;const D=({endpoint:t="reports/bulletins",coll_path:n="bulletin_activity_details",days_ago:s=f,page:r=1,acc:c={},key:a="detail",snip_idx:d=-1,mutation:u=((e,t,n)=>(0,o.mutInUnsafe)(e,t,n)),log:_=!1,augment:g=(e=>e)})=>i(void 0,void 0,void 0,function*(){const i=l(h(t,s,r));_&&console.log("fetching page",r,"for",n);const f=yield(0,e.default)(i,p).then(e=>e.json()).catch(console.error),x=(0,o.getInUnsafe)(f,n)||[],y=x.length||0,m=v(c,a,d,u);return x.forEach(m),y<20?c:yield D({endpoint:t,coll_path:n,days_ago:s,page:r+1,acc:c,key:a,snip_idx:d,mutation:u,log:_,augment:g})});exports.exhaustPagesGvD=D;const m=(t,o=0)=>i(void 0,void 0,void 0,function*(){const n=l({endpoint:`bulletins/${t}/topics`,account:0}),s=(yield(0,e.default)(n,p).then(e=>e.json()||[]).catch(console.error)).items.map(t=>i(void 0,void 0,void 0,function*(){const n=yield(0,e.default)((e=>l(h(`reports/topics/${e}`,o)))(t.id),p).then(e=>e.json()||{}).catch(console.error),{_links:s}=n,i=r(n,["_links"]),{_links:c}=t,a=r(t,["_links"]);return Object.assign(Object.assign({},a),i)}))||[];return yield Promise.all(s)});exports.fetchTopicsForBulletinByID=m;
},{"node-fetch":"AsQL","dotenv":"YF8F","@thi.ng/paths":"X3Fy","../utils":"jWsf"}],"vQPz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GET_SUBSSUMMARY_CMD=exports.EXHAUST_PAGES_LINKS_CMD=exports.EXHAUST_PAGES_DETAILS_CMD=exports.exhaustFetchGD_links=exports.exhaustFetchGD_details=exports.inject=exports.exhaustFetch=void 0;var e=require("@-0/spool"),s=i(require("node-fetch")),t=require("@thi.ng/paths"),r=require("../granicus/fetching"),n=require("../utils");function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e,s,t,r){return new(t||(t=Promise))(function(n,i){function o(e){try{a(r.next(e))}catch(s){i(s)}}function c(e){try{a(r.throw(e))}catch(s){i(s)}}function a(e){var s;e.done?n(e.value):(s=e.value,s instanceof t?s:new t(function(e){e(s)})).then(o,c)}a((r=r.apply(e,s||[])).next())})};const c=({url:e="",fetch_opts:t={},recur_cond:r=(e=>!0),re_args_xf:n=((e,s,{url:t,fetch_opts:r,recur_cond:n})=>({url:t,fetch_opts:r,recur_cond:n})),reduction:i=((e,s,t)=>Object.assign(Object.assign({},e),s)),acc:a={}||[],log:l=!1,itr:u=1})=>o(void 0,void 0,void 0,function*(){const o=yield(0,s.default)(e,t).then(e=>e.json()||{}).catch(console.error);if(l&&l(a,o,u),r(o)){return yield c(Object.assign(Object.assign({},n(o,u,{url:e,fetch_opts:t,recur_cond:r})),{log:l,re_args_xf:n,reduction:i,acc:yield i(a,o,u),itr:u+1}))}return yield i(a,o,u)});exports.exhaustFetch=c;const a=(e,s,r)=>{const[n,i]=s;return(0,t.exists)(e,s)?void r():!(0,t.exists)(e,s)&&(0,t.exists)(e,n)?(e[n]=Object.assign(Object.assign({},e[n]),{[i]:null}),void r()):(e[n]={[i]:null},void r())};exports.inject=a;const l=e=>o(void 0,void 0,void 0,function*(){return yield c({url:(0,r.genGranicusCall)((0,r.gen_args)("reports/bulletins",e)),fetch_opts:r.fetch_opts_GD,reduction:(s,i)=>o(void 0,void 0,void 0,function*(){const c=i.bulletin_activity_details||[],l=yield c.reduce((s,i)=>o(void 0,void 0,void 0,function*(){const o=yield s,c=(0,t.getInUnsafe)(i,r.GD_ID_path).split("/").slice(-1)[0].split(".")[0],l=yield(0,r.fetchTopicsForBulletinByID)(c,e);return a(o,[c,"detail"],()=>{const e=Object.assign(Object.assign({id:c},(0,n.pruneKVPairs)(i,...n.keys2prune_detail)),{percent_success:parseFloat(i.percent_success),percent_emails_delivered:parseFloat(i.percent_emails_delivered),percent_opened:parseFloat(i.percent_opened),click_rate:parseFloat(i.click_rate)});(0,t.mutInUnsafe)(o,[c,"detail"],e)}),a(o,[c,"topics"],()=>{(0,t.mutInUnsafe)(o,[c,"topics"],l)}),Object.assign(Object.assign({},s),o)}),Promise.resolve({}));return Object.assign(Object.assign({},s),l)}),recur_cond:e=>{return 20===(e.bulletin_activity_details||[]).length},re_args_xf:(s,t,n)=>Object.assign(Object.assign({},n),{url:(0,r.genGranicusCall)((0,r.gen_args)("reports/bulletins",e,t+1))})})});exports.exhaustFetchGD_details=l;const u=console.log,_=e=>o(void 0,void 0,void 0,function*(){return yield c({url:(0,r.genGranicusCall)((0,r.gen_args)("reports/bulletins/links",e)),fetch_opts:r.fetch_opts_GD,reduction:(e,s,i)=>o(void 0,void 0,void 0,function*(){const i=s.bulletins_links_details||[];let o=Object.assign({},e);return i.forEach(e=>{const{_links:s}=e,i=(0,t.getInUnsafe)(e,r.GD_ID_path).split("/").slice(-3)[0].split(".")[0];a(o,[i,"links"],()=>{o[i].links||(o[i].links=[]),o[i].links.push(Object.assign({id:(0,r.snip_id)(s,-1,["self","href"])},(0,n.pruneKVPairs)(e,...n.keys2prune_link)))})}),o}),recur_cond:e=>{return 20===(e.bulletins_links_details||[]).length},re_args_xf:(s,t,n)=>Object.assign(Object.assign({},n),{url:(0,r.genGranicusCall)((0,r.gen_args)("reports/bulletins/links",e,t+1))})})});exports.exhaustFetchGD_links=_;const d=(0,e.registerCMD)({sub$:"EXHAUST_PAGES_DETAILS_CMD",args:({days_ago:e})=>l(e),erro:(e,s)=>(console.error(s),e),reso:(e,s)=>Object.assign(Object.assign({},e),{details:s})});exports.EXHAUST_PAGES_DETAILS_CMD=d;const g=(0,e.registerCMD)({sub$:"EXHAUST_PAGES_LINKS_CMD",args:({days_ago:e})=>_(e),erro:(e,s)=>(console.error(s),e),reso:(e,s)=>Object.assign(Object.assign({},e),{links:s})});exports.EXHAUST_PAGES_LINKS_CMD=g;const p=(0,e.registerCMD)({sub$:"GET_SUBSSUMMARY_CMD",args:({days_ago:e})=>(0,s.default)((0,r.genGranicusCall)((0,r.gen_args)("reports/subscriber_activity/summary",e)),r.fetch_opts_GD).then(e=>e.json()).catch(console.error),erro:(e,s)=>(console.error(s),e),reso:(e,s)=>Object.assign(Object.assign({},e),{subssummary:s})});exports.GET_SUBSSUMMARY_CMD=p;
},{"@-0/spool":"OWB9","node-fetch":"AsQL","@thi.ng/paths":"X3Fy","../granicus/fetching":"oCK5","../utils":"jWsf"}],"uTT0":[function(require,module,exports) {
"use strict";var t=Object.prototype.toString;module.exports=function(e){var o=t.call(e),r="[object Arguments]"===o;return r||(r="[object Array]"!==o&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),r};
},{}],"orz8":[function(require,module,exports) {
"use strict";var t;if(!Object.keys){var r=Object.prototype.hasOwnProperty,e=Object.prototype.toString,o=require("./isArguments"),n=Object.prototype.propertyIsEnumerable,l=!n.call({toString:null},"toString"),c=n.call(function(){},"prototype"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],a=function(t){var r=t.constructor;return r&&r.prototype===t},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},u=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!f["$"+t]&&r.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{a(window[t])}catch(e){return!0}}catch(e){return!0}return!1}(),p=function(t){if("undefined"==typeof window||!u)return a(t);try{return a(t)}catch(r){return!1}};t=function(t){var n=null!==t&&"object"==typeof t,a="[object Function]"===e.call(t),f=o(t),u=n&&"[object String]"===e.call(t),s=[];if(!n&&!a&&!f)throw new TypeError("Object.keys called on a non-object");var $=c&&a;if(u&&t.length>0&&!r.call(t,0))for(var w=0;w<t.length;++w)s.push(String(w));if(f&&t.length>0)for(var g=0;g<t.length;++g)s.push(String(g));else for(var h in t)$&&"prototype"===h||!r.call(t,h)||s.push(String(h));if(l)for(var y=p(t),d=0;d<i.length;++d)y&&"constructor"===i[d]||!r.call(t,i[d])||s.push(i[d]);return s}}module.exports=t;
},{"./isArguments":"uTT0"}],"ywQn":[function(require,module,exports) {
"use strict";var e=Array.prototype.slice,t=require("./isArguments"),r=Object.keys,n=r?function(e){return r(e)}:require("./implementation"),c=Object.keys;n.shim=function(){Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(r){return t(r)?c(e.call(r)):c(r)}):Object.keys=n;return Object.keys||n},module.exports=n;
},{"./isArguments":"uTT0","./implementation":"orz8"}],"VxKF":[function(require,module,exports) {
"use strict";var t=require("object-keys"),e="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),r=Object.prototype.toString,o=Array.prototype.concat,n=Object.defineProperty,c=function(t){return"function"==typeof t&&"[object Function]"===r.call(t)},u=function(){var t={};try{for(var e in n(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(r){return!1}},l=n&&u(),a=function(t,e,r,o){(!(e in t)||c(o)&&o())&&(l?n(t,e,{configurable:!0,enumerable:!1,value:r,writable:!0}):t[e]=r)},i=function(r,n){var c=arguments.length>2?arguments[2]:{},u=t(n);e&&(u=o.call(u,Object.getOwnPropertySymbols(n)));for(var l=0;l<u.length;l+=1)a(r,u[l],n[u[l]],c[u[l]])};i.supportsDescriptors=!!l,module.exports=i;
},{"object-keys":"ywQn"}],"B6OE":[function(require,module,exports) {
"use strict";var t="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,o=Object.prototype.toString,r="[object Function]";module.exports=function(e){var p=this;if("function"!=typeof p||o.call(p)!==r)throw new TypeError(t+p);for(var i,c=n.call(arguments,1),a=Math.max(0,p.length-c.length),l=[],u=0;u<a;u++)l.push("$"+u);if(i=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof i){var t=p.apply(this,c.concat(n.call(arguments)));return Object(t)===t?t:this}return p.apply(e,c.concat(n.call(arguments)))}),p.prototype){var y=function(){};y.prototype=p.prototype,i.prototype=new y,y.prototype=null}return i};
},{}],"TiwC":[function(require,module,exports) {
"use strict";var e=require("./implementation");module.exports=Function.prototype.bind||e;
},{"./implementation":"B6OE"}],"GMRz":[function(require,module,exports) {
module.exports=require("util").inspect;
},{}],"d9qy":[function(require,module,exports) {
var t="function"==typeof Map&&Map.prototype,e=Object.getOwnPropertyDescriptor&&t?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,r=t&&e&&"function"==typeof e.get?e.get:null,n=t&&Map.prototype.forEach,o="function"==typeof Set&&Set.prototype,u=Object.getOwnPropertyDescriptor&&o?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,i=o&&u&&"function"==typeof u.get?u.get:null,c=o&&Set.prototype.forEach,f="function"==typeof WeakMap&&WeakMap.prototype,l=f?WeakMap.prototype.has:null,a="function"==typeof WeakSet&&WeakSet.prototype,p=a?WeakSet.prototype.has:null,y=Boolean.prototype.valueOf,g=Object.prototype.toString,b=String.prototype.match,s="function"==typeof BigInt?BigInt.prototype.valueOf:null,h=require("./util.inspect").custom,S=h&&w(h)?h:null;function j(t,e,r){var n="double"===(r.quoteStyle||e)?'"':"'";return n+t+n}function d(t){return String(t).replace(/"/g,"&quot;")}function v(t){return"[object Array]"===B(t)}function m(t){return"[object Date]"===B(t)}function O(t){return"[object RegExp]"===B(t)}function M(t){return"[object Error]"===B(t)}function w(t){return"[object Symbol]"===B(t)}function k(t){return"[object String]"===B(t)}function W(t){return"[object Number]"===B(t)}function N(t){return"[object BigInt]"===B(t)}function q(t){return"[object Boolean]"===B(t)}module.exports=function t(e,o,u,f){var l=o||{};if(E(l,"quoteStyle")&&"single"!==l.quoteStyle&&"double"!==l.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return $(e,l);if("number"==typeof e)return 0===e?1/0/e>0?"0":"-0":String(e);if("bigint"==typeof e)return String(e)+"n";var a=void 0===l.depth?5:l.depth;if(void 0===u&&(u=0),u>=a&&a>0&&"object"==typeof e)return"[Object]";if(void 0===f)f=[];else if(P(f,e)>=0)return"[Circular]";function p(e,r){return r&&(f=f.slice()).push(r),t(e,l,u+1,f)}if("function"==typeof e){var g=D(e);return"[Function"+(g?": "+g:"")+"]"}if(w(e)){var b=Symbol.prototype.toString.call(e);return"object"==typeof e?H(b):b}if(T(e)){for(var h="<"+String(e.nodeName).toLowerCase(),x=e.attributes||[],B=0;B<x.length;B++)h+=" "+x[B].name+"="+j(d(x[B].value),"double",l);return h+=">",e.childNodes&&e.childNodes.length&&(h+="..."),h+="</"+String(e.nodeName).toLowerCase()+">"}if(v(e))return 0===e.length?"[]":"[ "+G(e,p).join(", ")+" ]";if(M(e)){var z=G(e,p);return 0===z.length?"["+String(e)+"]":"{ ["+String(e)+"] "+z.join(", ")+" }"}if("object"==typeof e){if(S&&"function"==typeof e[S])return e[S]();if("function"==typeof e.inspect)return e.inspect()}if(C(e)){var J=[];return n.call(e,function(t,r){J.push(p(r,e)+" => "+p(t,e))}),R("Map",r.call(e),J)}if(A(e)){var K=[];return c.call(e,function(t){K.push(p(t,e))}),R("Set",i.call(e),K)}if(L(e))return F("WeakMap");if(I(e))return F("WeakSet");if(W(e))return H(p(Number(e)));if(N(e))return H(p(s.call(e)));if(q(e))return H(y.call(e));if(k(e))return H(p(String(e)));if(!m(e)&&!O(e)){var Q=G(e,p);return 0===Q.length?"{}":"{ "+Q.join(", ")+" }"}return String(e)};var x=Object.prototype.hasOwnProperty||function(t){return t in this};function E(t,e){return x.call(t,e)}function B(t){return g.call(t)}function D(t){if(t.name)return t.name;var e=b.call(t,/^function\s*([\w$]+)/);return e?e[1]:null}function P(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function C(t){if(!r||!t||"object"!=typeof t)return!1;try{r.call(t);try{i.call(t)}catch(e){return!0}return t instanceof Map}catch(n){}return!1}function L(t){if(!l||!t||"object"!=typeof t)return!1;try{l.call(t,l);try{p.call(t,p)}catch(e){return!0}return t instanceof WeakMap}catch(r){}return!1}function A(t){if(!i||!t||"object"!=typeof t)return!1;try{i.call(t);try{r.call(t)}catch(e){return!0}return t instanceof Set}catch(n){}return!1}function I(t){if(!p||!t||"object"!=typeof t)return!1;try{p.call(t,p);try{l.call(t,l)}catch(e){return!0}return t instanceof WeakSet}catch(r){}return!1}function T(t){return!(!t||"object"!=typeof t)&&("undefined"!=typeof HTMLElement&&t instanceof HTMLElement||"string"==typeof t.nodeName&&"function"==typeof t.getAttribute)}function $(t,e){return j(t.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,z),"single",e)}function z(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+e.toString(16)}function H(t){return"Object("+t+")"}function F(t){return t+" { ? }"}function R(t,e,r){return t+" ("+e+") {"+r.join(", ")+"}"}function G(t,e){var r=v(t),n=[];if(r){n.length=t.length;for(var o=0;o<t.length;o++)n[o]=E(t,o)?e(t[o],t):""}for(var u in t)E(t,u)&&(r&&String(Number(u))===u&&u<t.length||(/[^\w$]/.test(u)?n.push(e(u,t)+": "+e(t[u],t)):n.push(u+": "+e(t[u],t))));return n}
},{"./util.inspect":"GMRz"}],"jYt2":[function(require,module,exports) {
"use strict";module.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var o=Object.getOwnPropertySymbols(t);if(1!==o.length||o[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var n=Object.getOwnPropertyDescriptor(t,e);if(42!==n.value||!0!==n.enumerable)return!1}return!0};
},{}],"NS5K":[function(require,module,exports) {
"use strict";var o=global.Symbol,t=require("./shams");module.exports=function(){return"function"==typeof o&&("function"==typeof Symbol&&("symbol"==typeof o("foo")&&("symbol"==typeof Symbol("bar")&&t())))};
},{"./shams":"jYt2"}],"LENn":[function(require,module,exports) {
"use strict";var r,e=TypeError,t=Object.getOwnPropertyDescriptor;if(t)try{t({},"")}catch(U){t=null}var o,n,y,a=function(){throw new e},p=t?function(){try{return arguments.callee,a}catch(r){try{return t(arguments,"callee").get}catch(e){return a}}}():a,i=require("has-symbols")(),f=Object.getPrototypeOf||function(r){return r.__proto__},d=o?f(o):r,u=n?n.constructor:r,A=y?f(y):r,l=y?y():r,s="undefined"==typeof Uint8Array?r:f(Uint8Array),c={"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":i?f([][Symbol.iterator]()):r,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":u,"%AsyncFunctionPrototype%":u?u.prototype:r,"%AsyncGenerator%":y?f(l):r,"%AsyncGeneratorFunction%":A,"%AsyncGeneratorPrototype%":A?A.prototype:r,"%AsyncIteratorPrototype%":l&&i&&Symbol.asyncIterator?l[Symbol.asyncIterator]():r,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"==typeof DataView?r:DataView,"%DataViewPrototype%":"undefined"==typeof DataView?r:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float32ArrayPrototype%":"undefined"==typeof Float32Array?r:Float32Array.prototype,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%Float64ArrayPrototype%":"undefined"==typeof Float64Array?r:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":o?f(o()):r,"%GeneratorFunction%":d,"%GeneratorPrototype%":d?d.prototype:r,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int8ArrayPrototype%":"undefined"==typeof Int8Array?r:Int8Array.prototype,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int16ArrayPrototype%":"undefined"==typeof Int16Array?r:Int8Array.prototype,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%Int32ArrayPrototype%":"undefined"==typeof Int32Array?r:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":i?f(f([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%JSONParse%":"object"==typeof JSON?JSON.parse:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&i?f((new Map)[Symbol.iterator]()):r,"%MapPrototype%":"undefined"==typeof Map?r:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%PromisePrototype%":"undefined"==typeof Promise?r:Promise.prototype,"%PromiseProto_then%":"undefined"==typeof Promise?r:Promise.prototype.then,"%Promise_all%":"undefined"==typeof Promise?r:Promise.all,"%Promise_reject%":"undefined"==typeof Promise?r:Promise.reject,"%Promise_resolve%":"undefined"==typeof Promise?r:Promise.resolve,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&i?f((new Set)[Symbol.iterator]()):r,"%SetPrototype%":"undefined"==typeof Set?r:Set.prototype,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":i?f(""[Symbol.iterator]()):r,"%StringPrototype%":String.prototype,"%Symbol%":i?Symbol:r,"%SymbolPrototype%":i?Symbol.prototype:r,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":p,"%TypedArray%":s,"%TypedArrayPrototype%":s?s.prototype:r,"%TypeError%":e,"%TypeErrorPrototype%":e.prototype,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?r:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?r:Uint16Array.prototype,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?r:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakMapPrototype%":"undefined"==typeof WeakMap?r:WeakMap.prototype,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet,"%WeakSetPrototype%":"undefined"==typeof WeakSet?r:WeakSet.prototype},P=require("function-bind"),m=P.call(Function.call,String.prototype.replace),S=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,E=/\\(\\)?/g,I=function(r){var e=[];return m(r,S,function(r,t,o,n){e[e.length]=o?m(n,E,"$1"):t||r}),e},b=function(r,t){if(!(r in c))throw new SyntaxError("intrinsic "+r+" does not exist!");if(void 0===c[r]&&!t)throw new e("intrinsic "+r+" exists, but is not available. Please file an issue!");return c[r]};module.exports=function(r,o){if("string"!=typeof r||0===r.length)throw new TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof o)throw new TypeError('"allowMissing" argument must be a boolean');for(var n=I(r),y=b("%"+(n.length>0?n[0]:"")+"%",o),a=1;a<n.length;a+=1)if(null!=y)if(t&&a+1>=n.length){var p=t(y,n[a]);if(!(o||n[a]in y))throw new e("base intrinsic for "+r+" exists, but the property is not available.");y=p?p.get||p.value:y[n[a]]}else y=y[n[a]];return y};
},{"has-symbols":"NS5K","function-bind":"TiwC"}],"b4C7":[function(require,module,exports) {
"use strict";var t=Function.prototype.toString,r=/^\s*class\b/,n=function(n){try{var o=t.call(n);return r.test(o)}catch(e){return!1}},o=function(r){try{return!n(r)&&(t.call(r),!0)}catch(o){return!1}},e=Object.prototype.toString,c="[object Function]",u="[object GeneratorFunction]",i="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;module.exports=function(t){if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;if(i)return o(t);if(n(t))return!1;var r=e.call(t);return r===c||r===u};
},{}],"kdXM":[function(require,module,exports) {
"use strict";module.exports=require("is-callable");
},{"is-callable":"b4C7"}],"pbtM":[function(require,module,exports) {
"use strict";var e=require("../GetIntrinsic"),r=e("%TypeError%"),t=require("object-inspect"),i=require("./IsCallable");module.exports=function(e,n){var o=arguments.length>2?arguments[2]:[];if(!i(e))throw new r(t(e)+" is not a function");return e.apply(n,o)};
},{"../GetIntrinsic":"LENn","object-inspect":"d9qy","./IsCallable":"kdXM"}],"mmlB":[function(require,module,exports) {
"use strict";module.exports=function(t){return"string"==typeof t||"symbol"==typeof t};
},{}],"P2le":[function(require,module,exports) {
"use strict";module.exports=function(e){return null===e?"Null":void 0===e?"Undefined":"function"==typeof e||"object"==typeof e?"Object":"number"==typeof e?"Number":"boolean"==typeof e?"Boolean":"string"==typeof e?"String":void 0};
},{}],"QalR":[function(require,module,exports) {
"use strict";var e=require("../5/Type");module.exports=function(r){return"symbol"==typeof r?"Symbol":e(r)};
},{"../5/Type":"P2le"}],"ARLd":[function(require,module,exports) {
"use strict";var e=require("../GetIntrinsic"),r=e("%TypeError%"),t=require("object-inspect"),i=require("./IsPropertyKey"),o=require("./Type");module.exports=function(e,s){if("Object"!==o(e))throw new r("Assertion failed: Type(O) is not Object");if(!i(s))throw new r("Assertion failed: IsPropertyKey(P) is not true, got "+t(s));return e[s]};
},{"../GetIntrinsic":"LENn","object-inspect":"d9qy","./IsPropertyKey":"mmlB","./Type":"QalR"}],"ITpX":[function(require,module,exports) {
"use strict";var n=require("function-bind"),r=require("../GetIntrinsic"),e=r("%Function%"),t=e.apply,u=e.call;module.exports=function(){return n.apply(u,arguments)},module.exports.apply=function(){return n.apply(t,arguments)};
},{"function-bind":"TiwC","../GetIntrinsic":"LENn"}],"rAXm":[function(require,module,exports) {
"use strict";var r=require("../GetIntrinsic"),t=require("./callBind"),e=t(r("String.prototype.indexOf"));module.exports=function(i,n){var o=r(i,!!n);return"function"==typeof o&&e(i,".prototype.")?t(o):o};
},{"../GetIntrinsic":"LENn","./callBind":"ITpX"}],"AgMd":[function(require,module,exports) {
"use strict";var r=require("has-symbols")(),e=require("../GetIntrinsic"),n=require("./callBound"),t=e("%Symbol.iterator%",!0),u=n("String.prototype.slice");module.exports=function(e,n){var i;return r?i=e.GetMethod(n,t):e.IsArray(n)?i=function(){var r=-1,e=this;return{next:function(){return{done:(r+=1)>=e.length,value:e[r]}}}}:"String"===e.Type(n)&&(i=function(){var r=0;return{next:function(){var t=e.AdvanceStringIndex(n,r,!0),i=u(n,r,t);return r=t,{done:t>n.length,value:i}}}}),i};
},{"has-symbols":"NS5K","../GetIntrinsic":"LENn","./callBound":"rAXm"}],"TD7O":[function(require,module,exports) {
"use strict";module.exports=Number.isNaN||function(e){return e!=e};
},{}],"lJl4":[function(require,module,exports) {
"use strict";var e=Number.isNaN||function(e){return e!=e};module.exports=Number.isFinite||function(r){return"number"==typeof r&&!e(r)&&r!==1/0&&r!==-1/0};
},{}],"goCJ":[function(require,module,exports) {
"use strict";var e=require("../GetIntrinsic"),r=e("%Math%"),i=r.floor,t=r.abs,s=require("../helpers/isNaN"),u=require("../helpers/isFinite");module.exports=function(e){if("number"!=typeof e||s(e)||!u(e))return!1;var r=t(e);return i(r)===r};
},{"../GetIntrinsic":"LENn","../helpers/isNaN":"TD7O","../helpers/isFinite":"lJl4"}],"a6Kk":[function(require,module,exports) {
"use strict";var e=require("../GetIntrinsic"),r=e("%Math%"),t=e("%Number%");module.exports=t.MAX_SAFE_INTEGER||r.pow(2,53)-1;
},{"../GetIntrinsic":"LENn"}],"bECc":[function(require,module,exports) {
"use strict";var e=require("../GetIntrinsic"),r=require("./IsInteger"),t=require("./Type"),n=require("../helpers/maxSafeInteger"),i=e("%TypeError%"),o=require("../helpers/callBound")("String.prototype.charCodeAt");module.exports=function(e,u,a){if("String"!==t(e))throw new i("Assertion failed: `S` must be a String");if(!r(u)||u<0||u>n)throw new i("Assertion failed: `length` must be an integer >= 0 and <= 2**53");if("Boolean"!==t(a))throw new i("Assertion failed: `unicode` must be a Boolean");if(!a)return u+1;if(u+1>=e.length)return u+1;var s=o(e,u);if(s<55296||s>56319)return u+1;var l=o(e,u+1);return l<56320||l>57343?u+1:u+2};
},{"../GetIntrinsic":"LENn","./IsInteger":"goCJ","./Type":"QalR","../helpers/maxSafeInteger":"a6Kk","../helpers/callBound":"rAXm"}],"NaRt":[function(require,module,exports) {
"use strict";var r=require("../GetIntrinsic"),e=r("%TypeError%");module.exports=function(r,n){if(null==r)throw new e(n||"Cannot call method on "+r);return r};
},{"../GetIntrinsic":"LENn"}],"Mk3Q":[function(require,module,exports) {
"use strict";module.exports=require("../5/CheckObjectCoercible");
},{"../5/CheckObjectCoercible":"NaRt"}],"FwyB":[function(require,module,exports) {
"use strict";var e=require("../GetIntrinsic"),r=e("%Object%"),t=require("./RequireObjectCoercible");module.exports=function(e){return t(e),r(e)};
},{"../GetIntrinsic":"LENn","./RequireObjectCoercible":"Mk3Q"}],"mFWC":[function(require,module,exports) {
"use strict";var r=require("../GetIntrinsic"),e=r("%TypeError%"),t=require("./IsPropertyKey"),i=require("./ToObject");module.exports=function(r,o){if(!t(o))throw new e("Assertion failed: IsPropertyKey(P) is not true");return i(r)[o]};
},{"../GetIntrinsic":"LENn","./IsPropertyKey":"mmlB","./ToObject":"FwyB"}],"yRxw":[function(require,module,exports) {
"use strict";var r=require("../GetIntrinsic"),e=r("%TypeError%"),t=require("./GetV"),i=require("./IsCallable"),n=require("./IsPropertyKey");module.exports=function(r,o){if(!n(o))throw new e("Assertion failed: IsPropertyKey(P) is not true");var s=t(r,o);if(null!=s){if(!i(s))throw new e(o+"is not a function");return s}};
},{"../GetIntrinsic":"LENn","./GetV":"mFWC","./IsCallable":"kdXM","./IsPropertyKey":"mmlB"}],"jFZi":[function(require,module,exports) {
"use strict";var r=require("../GetIntrinsic"),e=r("%Array%"),t=!e.isArray&&require("../helpers/callBound")("Object.prototype.toString");module.exports=e.isArray||function(r){return"[object Array]"===t(r)};
},{"../GetIntrinsic":"LENn","../helpers/callBound":"rAXm"}],"UQdM":[function(require,module,exports) {
"use strict";var e=require("../GetIntrinsic"),r=e("%TypeError%"),t=require("../helpers/getIteratorMethod"),i=require("./AdvanceStringIndex"),n=require("./Call"),u=require("./GetMethod"),a=require("./IsArray"),o=require("./Type");module.exports=function(e,d){var s=d;arguments.length<2&&(s=t({AdvanceStringIndex:i,GetMethod:u,IsArray:a,Type:o},e));var c=n(s,e);if("Object"!==o(c))throw new r("iterator must return an object");return c};
},{"../GetIntrinsic":"LENn","../helpers/getIteratorMethod":"AgMd","./AdvanceStringIndex":"bECc","./Call":"pbtM","./GetMethod":"yRxw","./IsArray":"jFZi","./Type":"QalR"}],"dbJR":[function(require,module,exports) {
"use strict";var r=require("../GetIntrinsic"),e=r("%TypeError%"),t=require("./Call"),i=require("./GetMethod"),o=require("./IsCallable"),n=require("./Type");module.exports=function(r,u){if("Object"!==n(r))throw new e("Assertion failed: Type(iterator) is not Object");if(!o(u))throw new e("Assertion failed: completion is not a thunk for a Completion Record");var a,l=u,s=i(r,"return");if(void 0===s)return l();try{var c=t(s,r,[])}catch(f){throw l(),l=null,f}if(a=l(),l=null,"Object"!==n(c))throw new e("iterator .return must return an object");return a};
},{"../GetIntrinsic":"LENn","./Call":"pbtM","./GetMethod":"yRxw","./IsCallable":"kdXM","./Type":"QalR"}],"Kfog":[function(require,module,exports) {
"use strict";module.exports=function(t){return!!t};
},{}],"qcoi":[function(require,module,exports) {
"use strict";var e=require("../GetIntrinsic"),r=e("%TypeError%"),t=require("./Get"),i=require("./ToBoolean"),o=require("./Type");module.exports=function(e){if("Object"!==o(e))throw new r("Assertion failed: Type(iterResult) is not Object");return i(t(e,"done"))};
},{"../GetIntrinsic":"LENn","./Get":"ARLd","./ToBoolean":"Kfog","./Type":"QalR"}],"haiz":[function(require,module,exports) {
"use strict";var r=require("../GetIntrinsic"),e=r("%TypeError%"),t=require("../helpers/callBound")("Array.prototype.slice"),i=require("./Call"),u=require("./GetV"),o=require("./IsPropertyKey");module.exports=function(r,s){if(!o(s))throw new e("P must be a Property Key");var l=t(arguments,2),n=u(r,s);return i(n,r,l)};
},{"../GetIntrinsic":"LENn","../helpers/callBound":"rAXm","./Call":"pbtM","./GetV":"mFWC","./IsPropertyKey":"mmlB"}],"i2cx":[function(require,module,exports) {
"use strict";var e=require("../GetIntrinsic"),r=e("%TypeError%"),t=require("./Invoke"),n=require("./Type");module.exports=function(e,i){var u=t(e,"next",arguments.length<2?[]:[i]);if("Object"!==n(u))throw new r("iterator next must return an object");return u};
},{"../GetIntrinsic":"LENn","./Invoke":"haiz","./Type":"QalR"}],"jBJJ":[function(require,module,exports) {
"use strict";var r=require("./IteratorComplete"),e=require("./IteratorNext");module.exports=function(t){var o=e(t);return!0!==r(o)&&o};
},{"./IteratorComplete":"qcoi","./IteratorNext":"i2cx"}],"bZo0":[function(require,module,exports) {
"use strict";var e=require("../GetIntrinsic"),r=e("%TypeError%"),t=require("./Get"),i=require("./Type");module.exports=function(e){if("Object"!==i(e))throw new r("Assertion failed: Type(iterResult) is not Object");return t(e,"value")};
},{"../GetIntrinsic":"LENn","./Get":"ARLd","./Type":"QalR"}],"cdSU":[function(require,module,exports) {
"use strict";var r=require("object-inspect"),e=require("../GetIntrinsic"),t=e("%TypeError%"),i=require("./Call"),n=require("./Get"),a=require("./GetIterator"),o=require("./IsCallable"),u=require("./IteratorClose"),l=require("./IteratorStep"),s=require("./IteratorValue"),c=require("./Type");module.exports=function(e,f,q){if(!o(q))throw new t("Assertion failed: `adder` is not callable");if(null==f)throw new t("Assertion failed: `iterable` is present, and not nullish");for(var w=a(f);;){var b=l(w);if(!b)return e;var d=s(b);if("Object"!==c(d)){var h=new t("iterator next must return an Object, got "+r(d));return u(w,function(){throw h})}try{var p=n(d,"0"),v=n(d,"1");i(q,e,[p,v])}catch(I){return u(w,function(){throw I})}}};
},{"object-inspect":"d9qy","../GetIntrinsic":"LENn","./Call":"pbtM","./Get":"ARLd","./GetIterator":"UQdM","./IsCallable":"kdXM","./IteratorClose":"dbJR","./IteratorStep":"jBJJ","./IteratorValue":"bZo0","./Type":"QalR"}],"qut1":[function(require,module,exports) {
"use strict";var r=require("../GetIntrinsic"),e=r("%Object.defineProperty%",!0);if(e)try{e({},"a",{value:1})}catch(n){e=null}var t=require("../helpers/callBound"),u=t("Object.prototype.propertyIsEnumerable");module.exports=function(r,t,n,i,a,l){if(!e){if(!r(l))return!1;if(!l["[[Configurable]]"]||!l["[[Writable]]"])return!1;if(a in i&&u(i,a)!==!!l["[[Enumerable]]"])return!1;var o=l["[[Value]]"];return i[a]=o,t(i[a],o)}return e(i,a,n(l)),!0};
},{"../GetIntrinsic":"LENn","../helpers/callBound":"rAXm"}],"ar57":[function(require,module,exports) {
"use strict";var t=require("function-bind");module.exports=t.call(Function.call,Object.prototype.hasOwnProperty);
},{"function-bind":"TiwC"}],"mBar":[function(require,module,exports) {
"use strict";var r=require("../GetIntrinsic"),e=r("%TypeError%"),t=r("%SyntaxError%"),n=require("has"),o={"Property Descriptor":function(r,t){if("Object"!==r(t))return!1;var o={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var i in t)if(n(t,i)&&!o[i])return!1;var a=n(t,"[[Value]]"),u=n(t,"[[Get]]")||n(t,"[[Set]]");if(a&&u)throw new e("Property Descriptors may not be both accessor and data descriptors");return!0}};module.exports=function(r,n,i,a){var u=o[n];if("function"!=typeof u)throw new t("unknown record type: "+n);if(!u(r,a))throw new e(i+" must be a "+n)};
},{"../GetIntrinsic":"LENn","has":"ar57"}],"k6iA":[function(require,module,exports) {
"use strict";var e=require("../helpers/assertRecord"),r=require("./Type");module.exports=function(i){if(void 0===i)return i;e(r,"Property Descriptor","Desc",i);var t={};return"[[Value]]"in i&&(t.value=i["[[Value]]"]),"[[Writable]]"in i&&(t.writable=i["[[Writable]]"]),"[[Get]]"in i&&(t.get=i["[[Get]]"]),"[[Set]]"in i&&(t.set=i["[[Set]]"]),"[[Enumerable]]"in i&&(t.enumerable=i["[[Enumerable]]"]),"[[Configurable]]"in i&&(t.configurable=i["[[Configurable]]"]),t};
},{"../helpers/assertRecord":"mBar","./Type":"QalR"}],"H5HI":[function(require,module,exports) {
"use strict";var t=require("../GetIntrinsic"),e=t("%Object.getOwnPropertyDescriptor%");if(e)try{e([],"length")}catch(r){e=null}module.exports=e;
},{"../GetIntrinsic":"LENn"}],"DhUb":[function(require,module,exports) {
"use strict";var t=require("has"),e=RegExp.prototype.exec,r=Object.getOwnPropertyDescriptor,o=function(t){try{var r=t.lastIndex;return t.lastIndex=0,e.call(t),!0}catch(o){return!1}finally{t.lastIndex=r}},n=Object.prototype.toString,l="[object RegExp]",a="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;module.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!a)return n.call(e)===l;var c=r(e,"lastIndex");return!(!c||!t(c,"value"))&&o(e)};
},{"has":"ar57"}],"xUda":[function(require,module,exports) {
"use strict";var e=require("../GetIntrinsic"),r=e("%Symbol.match%",!0),i=require("is-regex"),t=require("./ToBoolean");module.exports=function(e){if(!e||"object"!=typeof e)return!1;if(r){var o=e[r];if(void 0!==o)return t(o)}return i(e)};
},{"../GetIntrinsic":"LENn","is-regex":"DhUb","./ToBoolean":"Kfog"}],"M3Zt":[function(require,module,exports) {
"use strict";var e=require("has"),r=require("../GetIntrinsic"),t=r("%TypeError%"),a=require("./Type"),i=require("./ToBoolean"),o=require("./IsCallable");module.exports=function(r){if("Object"!==a(r))throw new t("ToPropertyDescriptor requires an object");var u={};if(e(r,"enumerable")&&(u["[[Enumerable]]"]=i(r.enumerable)),e(r,"configurable")&&(u["[[Configurable]]"]=i(r.configurable)),e(r,"value")&&(u["[[Value]]"]=r.value),e(r,"writable")&&(u["[[Writable]]"]=i(r.writable)),e(r,"get")){var n=r.get;if(void 0!==n&&!o(n))throw new TypeError("getter must be a function");u["[[Get]]"]=n}if(e(r,"set")){var l=r.set;if(void 0!==l&&!o(l))throw new t("setter must be a function");u["[[Set]]"]=l}if((e(u,"[[Get]]")||e(u,"[[Set]]"))&&(e(u,"[[Value]]")||e(u,"[[Writable]]")))throw new t("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return u};
},{"has":"ar57","../GetIntrinsic":"LENn","./Type":"QalR","./ToBoolean":"Kfog","./IsCallable":"kdXM"}],"HKIH":[function(require,module,exports) {
"use strict";var e=require("../GetIntrinsic"),r=require("../helpers/getOwnPropertyDescriptor"),t=e("%TypeError%"),i=require("../helpers/callBound"),u=i("Object.prototype.propertyIsEnumerable"),o=require("has"),s=require("./IsArray"),n=require("./IsPropertyKey"),p=require("./IsRegExp"),a=require("./ToPropertyDescriptor"),l=require("./Type");module.exports=function(e,i){if("Object"!==l(e))throw new t("Assertion failed: O must be an Object");if(!n(i))throw new t("Assertion failed: P must be a Property Key");if(o(e,i)){if(!r){var y=s(e)&&"length"===i,b=p(e)&&"lastIndex"===i;return{"[[Configurable]]":!(y||b),"[[Enumerable]]":u(e,i),"[[Value]]":e[i],"[[Writable]]":!0}}return a(r(e,i))}};
},{"../GetIntrinsic":"LENn","../helpers/getOwnPropertyDescriptor":"H5HI","../helpers/callBound":"rAXm","has":"ar57","./IsArray":"jFZi","./IsPropertyKey":"mmlB","./IsRegExp":"xUda","./ToPropertyDescriptor":"M3Zt","./Type":"QalR"}],"Ragd":[function(require,module,exports) {
"use strict";var e=require("has"),r=require("../helpers/assertRecord"),s=require("./Type");module.exports=function(t){return void 0!==t&&(r(s,"Property Descriptor","Desc",t),!(!e(t,"[[Value]]")&&!e(t,"[[Writable]]")))};
},{"has":"ar57","../helpers/assertRecord":"mBar","./Type":"QalR"}],"T9JR":[function(require,module,exports) {
"use strict";module.exports=function(t){return null===t||"function"!=typeof t&&"object"!=typeof t};
},{}],"qFre":[function(require,module,exports) {
"use strict";var e=require("../GetIntrinsic"),r=e("%Object%"),i=require("../helpers/isPrimitive"),t=r.preventExtensions,n=r.isExtensible;module.exports=t?function(e){return!i(e)&&n(e)}:function(e){return!i(e)};
},{"../GetIntrinsic":"LENn","../helpers/isPrimitive":"T9JR"}],"ZH9I":[function(require,module,exports) {
"use strict";var e=require("../helpers/isNaN");module.exports=function(r,s){return r===s?0!==r||1/r==1/s:e(r)&&e(s)};
},{"../helpers/isNaN":"TD7O"}],"dFpr":[function(require,module,exports) {
"use strict";var e=require("../GetIntrinsic"),r=e("%TypeError%"),i=require("../helpers/DefineOwnProperty"),t=require("./FromPropertyDescriptor"),o=require("./OrdinaryGetOwnProperty"),n=require("./IsDataDescriptor"),u=require("./IsExtensible"),s=require("./IsPropertyKey"),a=require("./SameValue"),l=require("./Type");module.exports=function(e,p,y){if("Object"!==l(e))throw new r("Assertion failed: Type(O) is not Object");if(!s(p))throw new r("Assertion failed: IsPropertyKey(P) is not true");var q=o(e,p),b=!q||u(e);return!(q&&(!q["[[Writable]]"]||!q["[[Configurable]]"])||!b)&&i(n,a,t,e,p,{"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Value]]":y,"[[Writable]]":!0})};
},{"../GetIntrinsic":"LENn","../helpers/DefineOwnProperty":"qut1","./FromPropertyDescriptor":"k6iA","./OrdinaryGetOwnProperty":"HKIH","./IsDataDescriptor":"Ragd","./IsExtensible":"qFre","./IsPropertyKey":"mmlB","./SameValue":"ZH9I","./Type":"QalR"}],"muFB":[function(require,module,exports) {
"use strict";var e=require("../GetIntrinsic"),r=e("%TypeError%"),t=require("./CreateDataProperty"),i=require("./IsPropertyKey"),o=require("./Type");module.exports=function(e,n,s){if("Object"!==o(e))throw new r("Assertion failed: Type(O) is not Object");if(!i(n))throw new r("Assertion failed: IsPropertyKey(P) is not true");var a=t(e,n,s);if(!a)throw new r("unable to create data property");return a};
},{"../GetIntrinsic":"LENn","./CreateDataProperty":"dFpr","./IsPropertyKey":"mmlB","./Type":"QalR"}],"NyUK":[function(require,module,exports) {
"use strict";var t=Date.prototype.getDay,o=function(o){try{return t.call(o),!0}catch(e){return!1}},e=Object.prototype.toString,r="[object Date]",n="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;module.exports=function(t){return"object"==typeof t&&null!==t&&(n?o(t):e.call(t)===r)};
},{}],"js02":[function(require,module,exports) {
"use strict";var t=Object.prototype.toString,r=require("has-symbols")();if(r){var e=Symbol.prototype.toString,o=/^Symbol\(.*\)$/,l=function(t){return"symbol"==typeof t.valueOf()&&o.test(e.call(t))};module.exports=function(r){if("symbol"==typeof r)return!0;if("[object Symbol]"!==t.call(r))return!1;try{return l(r)}catch(e){return!1}}}else module.exports=function(t){return!1};
},{"has-symbols":"NS5K"}],"v1lv":[function(require,module,exports) {
"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,e=require("./helpers/isPrimitive"),t=require("is-callable"),o=require("is-date-object"),i=require("is-symbol"),n=function(r,o){if(null==r)throw new TypeError("Cannot call method on "+r);if("string"!=typeof o||"number"!==o&&"string"!==o)throw new TypeError('hint must be "string" or "number"');var i,n,u,l="string"===o?["toString","valueOf"]:["valueOf","toString"];for(u=0;u<l.length;++u)if(i=r[l[u]],t(i)&&(n=i.call(r),e(n)))return n;throw new TypeError("No default value")},u=function(r,e){var o=r[e];if(null!=o){if(!t(o))throw new TypeError(o+" returned for property "+e+" of object "+r+" is not a function");return o}};module.exports=function(t){if(e(t))return t;var l,f="default";if(arguments.length>1&&(arguments[1]===String?f="string":arguments[1]===Number&&(f="number")),r&&(Symbol.toPrimitive?l=u(t,Symbol.toPrimitive):i(t)&&(l=Symbol.prototype.valueOf)),void 0!==l){var a=l.call(t,f);if(e(a))return a;throw new TypeError("unable to convert exotic object to primitive")}return"default"===f&&(o(t)||i(t))&&(f="string"),n(t,"default"===f?"number":f)};
},{"./helpers/isPrimitive":"T9JR","is-callable":"b4C7","is-date-object":"NyUK","is-symbol":"js02"}],"BXKc":[function(require,module,exports) {
"use strict";var e=require("es-to-primitive/es2015");module.exports=function(r){return arguments.length>1?e(r,arguments[1]):e(r)};
},{"es-to-primitive/es2015":"v1lv"}],"DQdT":[function(require,module,exports) {
"use strict";var r=require("../GetIntrinsic"),t=r("%String%"),e=r("%TypeError%");module.exports=function(r){if("symbol"==typeof r)throw new e("Cannot convert a Symbol value to a string");return t(r)};
},{"../GetIntrinsic":"LENn"}],"Cjxv":[function(require,module,exports) {
"use strict";var r=require("../GetIntrinsic"),e=r("%String%"),i=require("./ToPrimitive"),t=require("./ToString");module.exports=function(r){var n=i(r,e);return"symbol"==typeof n?n:t(n)};
},{"../GetIntrinsic":"LENn","./ToPrimitive":"BXKc","./ToString":"DQdT"}],"h0vd":[function(require,module,exports) {
"use strict";var r=require("es-abstract/2019/AddEntriesFromIterable"),e=require("es-abstract/2019/CreateDataPropertyOrThrow"),t=require("es-abstract/2019/Get"),a=require("es-abstract/2019/IsArray"),o=require("es-abstract/2019/RequireObjectCoercible"),n=require("es-abstract/2019/ToPropertyKey"),s=require("es-abstract/2019/Type"),i=function(r,t){var a=n(r);e(this,a,t)},c=function(r,a){for(var o=0;o<a.length;++o){var i=a[o];if("Object"!==s(i))throw new TypeError("iterator returned a non-object; entry expected");var c=t(i,"0"),u=t(i,"1"),b=n(c);e(r,b,u)}},u="function"==typeof Symbol&&"symbol"==typeof Symbol("foo");module.exports=function(e){o(e);var t={};if(!u){if(!a(e))throw new TypeError("this environment lacks native Symbols, and can not support non-Array iterables");return c(t,e),t}return r(t,e,i)};
},{"es-abstract/2019/AddEntriesFromIterable":"cdSU","es-abstract/2019/CreateDataPropertyOrThrow":"muFB","es-abstract/2019/Get":"ARLd","es-abstract/2019/IsArray":"jFZi","es-abstract/2019/RequireObjectCoercible":"Mk3Q","es-abstract/2019/ToPropertyKey":"Cjxv","es-abstract/2019/Type":"QalR"}],"lSXN":[function(require,module,exports) {
"use strict";var e=require("./implementation");module.exports=function(){return"function"==typeof Object.fromEntries?Object.fromEntries:e};
},{"./implementation":"h0vd"}],"mD0i":[function(require,module,exports) {
"use strict";var r=require("./polyfill"),e=require("define-properties");module.exports=function(){var t=r();return e(Object,{fromEntries:t},{fromEntries:function(){return Object.fromEntries!==t}}),t};
},{"./polyfill":"lSXN","define-properties":"VxKF"}],"GjJU":[function(require,module,exports) {
"use strict";var e=require("define-properties"),i=require("function-bind"),r=require("./implementation"),l=require("./polyfill"),t=require("./shim"),n=i.call(l());e(n,{getPolyfill:l,implementation:r,shim:t}),module.exports=n;
},{"define-properties":"VxKF","function-bind":"TiwC","./implementation":"h0vd","./polyfill":"lSXN","./shim":"mD0i"}],"AhIC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.APPORTION_CMD=exports.apportion_subs=exports.subs_proportions=exports.key_partition=void 0;var e=require("@-0/spool"),t=require("@thi.ng/paths"),s=o(require("object.fromentries")),r=require("../utils");function o(e){return e&&e.__esModule?e:{default:e}}var n=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(s[r[o]]=e[r[o]])}return s};Object.fromEntries||s.default.shim();const i=(e,s=[-1],r="_")=>{let o={};return Object.entries(e).forEach(([e,n])=>{let i=e.split(r),a=i.splice(...s).join(r),l=i.join(r),p=l?[a,l]:a;o=(0,t.setInUnsafe)(o,p,n)}),o};exports.key_partition=i;const a={direct:0,overlay:0,signup:0,upload:0,other:0,total:0,deleted:0,all_network:0,net:0},l=(e=a)=>{let{direct:t,overlay:s,signup:o,upload:n,other:i,total:l,deleted:p,all_network:u,net:c}=e;const d=((...e)=>{let t=0;return e.forEach(e=>t+=e),t})(...[t,s,o,n,i,u]);let _={};return Object.entries(e).forEach(([e,t])=>_[e]=t/d),(0,r.pruneKVPairs)(_,"total","deleted","net")};exports.subs_proportions=l;const p=(e,s)=>{var{_links:r}=e,o=n(e,["_links"]);return Object.entries(s).reduce((e,[s,r],o)=>{const{portions:a={}}=e,{topics:l=[],detail:p={},links:u=[]}=r,c=(0,t.setInManyUnsafe)(e,[s,"detail"],p,[s,"topics"],l.map(e=>{let s=i(e,[-2,2]),{this_period:r={new_subscriptions:0}}=s,o=n(s,["this_period"]);(0,t.getInUnsafe)(r,["new_subscriptions"]);return r=(0,t.setInUnsafe)(r,["allocated"],Object.fromEntries(Object.entries(a).map(([e,t])=>[e,~~(t*r.new_subscriptions)]))),Object.assign(Object.assign({},o),{this_period:r})}),[s,"links"],u.sort((e,t)=>t.unique_click_count-t.unique_click_count));return Object.assign(Object.assign({},e),c)},{portions:l(i(o).subscriptions),summary:o})};exports.apportion_subs=p;const u=(0,e.registerCMD)({sub$:"APPORTION_CMD",args:e=>{const{subssummary:t,days_ago:s,days_todo:r,details:o,links:i}=e,a=n(e,["subssummary","days_ago","days_todo","details","links"]),l=p(t,a);return Object.assign({days_ago:s,days_todo:r},l)}});exports.APPORTION_CMD=u;
},{"@-0/spool":"OWB9","@thi.ng/paths":"X3Fy","object.fromentries":"GjJU","../utils":"jWsf"}],"EYku":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.deleteSub=exports.updateSub=exports.createSub=exports.deleteFollower=exports.updateFollower=exports.createFollower=exports.deleteTopicFollower=exports.updateTopicFollower=exports.createTopicFollower=exports.deleteAccumulator=exports.updateAccumulator=exports.createAccumulator=exports.deleteSubsSummary=exports.updateSubsSummary=exports.createSubsSummary=exports.deleteBulletinTopic=exports.updateBulletinTopic=exports.createBulletinTopic=exports.deleteBulletin=exports.updateBulletin=exports.createBulletin=exports.deleteTopic=exports.updateTopic=exports.createTopic=exports.deleteSender=exports.updateSender=exports.createSender=exports.deleteCampaign=exports.updateCampaign=exports.createCampaign=void 0;const n="\n  mutation CreateCampaign(\n    $input: CreateCampaignInput!\n    $condition: ModelCampaignConditionInput\n  ) {\n    createCampaign(input: $input, condition: $condition) {\n      id\n      bulletins {\n        items {\n          id\n          campaign_id\n          sender_email\n          created_at\n          createdAt\n          updatedAt\n        }\n        nextToken\n      }\n      createdAt\n      updatedAt\n    }\n  }\n";exports.createCampaign=n;const e="\n  mutation UpdateCampaign(\n    $input: UpdateCampaignInput!\n    $condition: ModelCampaignConditionInput\n  ) {\n    updateCampaign(input: $input, condition: $condition) {\n      id\n      bulletins {\n        items {\n          id\n          campaign_id\n          sender_email\n          created_at\n          createdAt\n          updatedAt\n        }\n        nextToken\n      }\n      createdAt\n      updatedAt\n    }\n  }\n";exports.updateCampaign=e;const t="\n  mutation DeleteCampaign(\n    $input: DeleteCampaignInput!\n    $condition: ModelCampaignConditionInput\n  ) {\n    deleteCampaign(input: $input, condition: $condition) {\n      id\n      bulletins {\n        items {\n          id\n          campaign_id\n          sender_email\n          created_at\n          createdAt\n          updatedAt\n        }\n        nextToken\n      }\n      createdAt\n      updatedAt\n    }\n  }\n";exports.deleteCampaign=t;const i="\n  mutation CreateSender(\n    $input: CreateSenderInput!\n    $condition: ModelSenderConditionInput\n  ) {\n    createSender(input: $input, condition: $condition) {\n      id\n      bulletins {\n        items {\n          id\n          campaign_id\n          sender_email\n          created_at\n          createdAt\n          updatedAt\n        }\n        nextToken\n      }\n      createdAt\n      updatedAt\n    }\n  }\n";exports.createSender=i;const o="\n  mutation UpdateSender(\n    $input: UpdateSenderInput!\n    $condition: ModelSenderConditionInput\n  ) {\n    updateSender(input: $input, condition: $condition) {\n      id\n      bulletins {\n        items {\n          id\n          campaign_id\n          sender_email\n          created_at\n          createdAt\n          updatedAt\n        }\n        nextToken\n      }\n      createdAt\n      updatedAt\n    }\n  }\n";exports.updateSender=o;const d="\n  mutation DeleteSender(\n    $input: DeleteSenderInput!\n    $condition: ModelSenderConditionInput\n  ) {\n    deleteSender(input: $input, condition: $condition) {\n      id\n      bulletins {\n        items {\n          id\n          campaign_id\n          sender_email\n          created_at\n          createdAt\n          updatedAt\n        }\n        nextToken\n      }\n      createdAt\n      updatedAt\n    }\n  }\n";exports.deleteSender=d;const c="\n  mutation CreateTopic(\n    $input: CreateTopicInput!\n    $condition: ModelTopicConditionInput\n  ) {\n    createTopic(input: $input, condition: $condition) {\n      id\n      code\n      name\n      description\n      bulletins {\n        items {\n          id\n          bulletin_id\n          topic_id\n          created_at\n          createdAt\n          updatedAt\n        }\n        nextToken\n      }\n      followers {\n        items {\n          id\n          topic_id\n          follower_id\n          createdAt\n          updatedAt\n        }\n        nextToken\n      }\n      subscriptions {\n        items {\n          id\n          referrer_url\n          created_at\n          deleted_at\n          source\n          topic_id\n          follower_id\n          createdAt\n          updatedAt\n        }\n        nextToken\n      }\n      createdAt\n      updatedAt\n    }\n  }\n";exports.createTopic=c;const u="\n  mutation UpdateTopic(\n    $input: UpdateTopicInput!\n    $condition: ModelTopicConditionInput\n  ) {\n    updateTopic(input: $input, condition: $condition) {\n      id\n      code\n      name\n      description\n      bulletins {\n        items {\n          id\n          bulletin_id\n          topic_id\n          created_at\n          createdAt\n          updatedAt\n        }\n        nextToken\n      }\n      followers {\n        items {\n          id\n          topic_id\n          follower_id\n          createdAt\n          updatedAt\n        }\n        nextToken\n      }\n      subscriptions {\n        items {\n          id\n          referrer_url\n          created_at\n          deleted_at\n          source\n          topic_id\n          follower_id\n          createdAt\n          updatedAt\n        }\n        nextToken\n      }\n      createdAt\n      updatedAt\n    }\n  }\n";exports.updateTopic=u;const s="\n  mutation DeleteTopic(\n    $input: DeleteTopicInput!\n    $condition: ModelTopicConditionInput\n  ) {\n    deleteTopic(input: $input, condition: $condition) {\n      id\n      code\n      name\n      description\n      bulletins {\n        items {\n          id\n          bulletin_id\n          topic_id\n          created_at\n          createdAt\n          updatedAt\n        }\n        nextToken\n      }\n      followers {\n        items {\n          id\n          topic_id\n          follower_id\n          createdAt\n          updatedAt\n        }\n        nextToken\n      }\n      subscriptions {\n        items {\n          id\n          referrer_url\n          created_at\n          deleted_at\n          source\n          topic_id\n          follower_id\n          createdAt\n          updatedAt\n        }\n        nextToken\n      }\n      createdAt\n      updatedAt\n    }\n  }\n";exports.deleteTopic=s;const a="\n  mutation CreateBulletin(\n    $input: CreateBulletinInput!\n    $condition: ModelBulletinConditionInput\n  ) {\n    createBulletin(input: $input, condition: $condition) {\n      id\n      campaign_id\n      campaign {\n        id\n        bulletins {\n          nextToken\n        }\n        createdAt\n        updatedAt\n      }\n      sender_email\n      sender {\n        id\n        bulletins {\n          nextToken\n        }\n        createdAt\n        updatedAt\n      }\n      created_at\n      detail {\n        subject\n        to_text\n        delivery_status_name\n        addresses_count\n        success_count\n        failed_count\n        percent_success\n        immediate_email_recipients\n        emails_delivered\n        emails_failed\n        percent_emails_delivered\n        opens_count\n        percent_opened\n        nonunique_opens_count\n        links_count\n        click_rate\n        clicks_count\n        nonunique_clicks_count\n        digest_email_recipients\n        unique_click_count\n        total_click_count\n        unsubscribes\n      }\n      links {\n        id\n        link_url\n        unique_click_count\n        total_click_count\n      }\n      topics {\n        items {\n          id\n          bulletin_id\n          topic_id\n          created_at\n          createdAt\n          updatedAt\n        }\n        nextToken\n      }\n      createdAt\n      updatedAt\n    }\n  }\n";exports.createBulletin=a;const r="\n  mutation UpdateBulletin(\n    $input: UpdateBulletinInput!\n    $condition: ModelBulletinConditionInput\n  ) {\n    updateBulletin(input: $input, condition: $condition) {\n      id\n      campaign_id\n      campaign {\n        id\n        bulletins {\n          nextToken\n        }\n        createdAt\n        updatedAt\n      }\n      sender_email\n      sender {\n        id\n        bulletins {\n          nextToken\n        }\n        createdAt\n        updatedAt\n      }\n      created_at\n      detail {\n        subject\n        to_text\n        delivery_status_name\n        addresses_count\n        success_count\n        failed_count\n        percent_success\n        immediate_email_recipients\n        emails_delivered\n        emails_failed\n        percent_emails_delivered\n        opens_count\n        percent_opened\n        nonunique_opens_count\n        links_count\n        click_rate\n        clicks_count\n        nonunique_clicks_count\n        digest_email_recipients\n        unique_click_count\n        total_click_count\n        unsubscribes\n      }\n      links {\n        id\n        link_url\n        unique_click_count\n        total_click_count\n      }\n      topics {\n        items {\n          id\n          bulletin_id\n          topic_id\n          created_at\n          createdAt\n          updatedAt\n        }\n        nextToken\n      }\n      createdAt\n      updatedAt\n    }\n  }\n";exports.updateBulletin=r;const l="\n  mutation DeleteBulletin(\n    $input: DeleteBulletinInput!\n    $condition: ModelBulletinConditionInput\n  ) {\n    deleteBulletin(input: $input, condition: $condition) {\n      id\n      campaign_id\n      campaign {\n        id\n        bulletins {\n          nextToken\n        }\n        createdAt\n        updatedAt\n      }\n      sender_email\n      sender {\n        id\n        bulletins {\n          nextToken\n        }\n        createdAt\n        updatedAt\n      }\n      created_at\n      detail {\n        subject\n        to_text\n        delivery_status_name\n        addresses_count\n        success_count\n        failed_count\n        percent_success\n        immediate_email_recipients\n        emails_delivered\n        emails_failed\n        percent_emails_delivered\n        opens_count\n        percent_opened\n        nonunique_opens_count\n        links_count\n        click_rate\n        clicks_count\n        nonunique_clicks_count\n        digest_email_recipients\n        unique_click_count\n        total_click_count\n        unsubscribes\n      }\n      links {\n        id\n        link_url\n        unique_click_count\n        total_click_count\n      }\n      topics {\n        items {\n          id\n          bulletin_id\n          topic_id\n          created_at\n          createdAt\n          updatedAt\n        }\n        nextToken\n      }\n      createdAt\n      updatedAt\n    }\n  }\n";exports.deleteBulletin=l;const p="\n  mutation CreateBulletinTopic(\n    $input: CreateBulletinTopicInput!\n    $condition: ModelBulletinTopicConditionInput\n  ) {\n    createBulletinTopic(input: $input, condition: $condition) {\n      id\n      bulletin_id\n      topic_id\n      created_at\n      to_date {\n        total_subscriptions\n        new_subscriptions\n        deleted_subscriptions\n        bulletins_sent\n        allocated {\n          direct\n          overlay\n          signup\n          upload\n          other\n          all_network\n        }\n      }\n      this_period {\n        total_subscriptions\n        new_subscriptions\n        deleted_subscriptions\n        bulletins_sent\n        allocated {\n          direct\n          overlay\n          signup\n          upload\n          other\n          all_network\n        }\n      }\n      bulletin {\n        id\n        campaign_id\n        campaign {\n          id\n          createdAt\n          updatedAt\n        }\n        sender_email\n        sender {\n          id\n          createdAt\n          updatedAt\n        }\n        created_at\n        detail {\n          subject\n          to_text\n          delivery_status_name\n          addresses_count\n          success_count\n          failed_count\n          percent_success\n          immediate_email_recipients\n          emails_delivered\n          emails_failed\n          percent_emails_delivered\n          opens_count\n          percent_opened\n          nonunique_opens_count\n          links_count\n          click_rate\n          clicks_count\n          nonunique_clicks_count\n          digest_email_recipients\n          unique_click_count\n          total_click_count\n          unsubscribes\n        }\n        links {\n          id\n          link_url\n          unique_click_count\n          total_click_count\n        }\n        topics {\n          nextToken\n        }\n        createdAt\n        updatedAt\n      }\n      topic {\n        id\n        code\n        name\n        description\n        bulletins {\n          nextToken\n        }\n        followers {\n          nextToken\n        }\n        subscriptions {\n          nextToken\n        }\n        createdAt\n        updatedAt\n      }\n      createdAt\n      updatedAt\n    }\n  }\n";exports.createBulletinTopic=p;const _="\n  mutation UpdateBulletinTopic(\n    $input: UpdateBulletinTopicInput!\n    $condition: ModelBulletinTopicConditionInput\n  ) {\n    updateBulletinTopic(input: $input, condition: $condition) {\n      id\n      bulletin_id\n      topic_id\n      created_at\n      to_date {\n        total_subscriptions\n        new_subscriptions\n        deleted_subscriptions\n        bulletins_sent\n        allocated {\n          direct\n          overlay\n          signup\n          upload\n          other\n          all_network\n        }\n      }\n      this_period {\n        total_subscriptions\n        new_subscriptions\n        deleted_subscriptions\n        bulletins_sent\n        allocated {\n          direct\n          overlay\n          signup\n          upload\n          other\n          all_network\n        }\n      }\n      bulletin {\n        id\n        campaign_id\n        campaign {\n          id\n          createdAt\n          updatedAt\n        }\n        sender_email\n        sender {\n          id\n          createdAt\n          updatedAt\n        }\n        created_at\n        detail {\n          subject\n          to_text\n          delivery_status_name\n          addresses_count\n          success_count\n          failed_count\n          percent_success\n          immediate_email_recipients\n          emails_delivered\n          emails_failed\n          percent_emails_delivered\n          opens_count\n          percent_opened\n          nonunique_opens_count\n          links_count\n          click_rate\n          clicks_count\n          nonunique_clicks_count\n          digest_email_recipients\n          unique_click_count\n          total_click_count\n          unsubscribes\n        }\n        links {\n          id\n          link_url\n          unique_click_count\n          total_click_count\n        }\n        topics {\n          nextToken\n        }\n        createdAt\n        updatedAt\n      }\n      topic {\n        id\n        code\n        name\n        description\n        bulletins {\n          nextToken\n        }\n        followers {\n          nextToken\n        }\n        subscriptions {\n          nextToken\n        }\n        createdAt\n        updatedAt\n      }\n      createdAt\n      updatedAt\n    }\n  }\n";exports.updateBulletinTopic=_;const m="\n  mutation DeleteBulletinTopic(\n    $input: DeleteBulletinTopicInput!\n    $condition: ModelBulletinTopicConditionInput\n  ) {\n    deleteBulletinTopic(input: $input, condition: $condition) {\n      id\n      bulletin_id\n      topic_id\n      created_at\n      to_date {\n        total_subscriptions\n        new_subscriptions\n        deleted_subscriptions\n        bulletins_sent\n        allocated {\n          direct\n          overlay\n          signup\n          upload\n          other\n          all_network\n        }\n      }\n      this_period {\n        total_subscriptions\n        new_subscriptions\n        deleted_subscriptions\n        bulletins_sent\n        allocated {\n          direct\n          overlay\n          signup\n          upload\n          other\n          all_network\n        }\n      }\n      bulletin {\n        id\n        campaign_id\n        campaign {\n          id\n          createdAt\n          updatedAt\n        }\n        sender_email\n        sender {\n          id\n          createdAt\n          updatedAt\n        }\n        created_at\n        detail {\n          subject\n          to_text\n          delivery_status_name\n          addresses_count\n          success_count\n          failed_count\n          percent_success\n          immediate_email_recipients\n          emails_delivered\n          emails_failed\n          percent_emails_delivered\n          opens_count\n          percent_opened\n          nonunique_opens_count\n          links_count\n          click_rate\n          clicks_count\n          nonunique_clicks_count\n          digest_email_recipients\n          unique_click_count\n          total_click_count\n          unsubscribes\n        }\n        links {\n          id\n          link_url\n          unique_click_count\n          total_click_count\n        }\n        topics {\n          nextToken\n        }\n        createdAt\n        updatedAt\n      }\n      topic {\n        id\n        code\n        name\n        description\n        bulletins {\n          nextToken\n        }\n        followers {\n          nextToken\n        }\n        subscriptions {\n          nextToken\n        }\n        createdAt\n        updatedAt\n      }\n      createdAt\n      updatedAt\n    }\n  }\n";exports.deleteBulletinTopic=m;const b="\n  mutation CreateSubsSummary(\n    $input: CreateSubsSummaryInput!\n    $condition: ModelSubsSummaryConditionInput\n  ) {\n    createSubsSummary(input: $input, condition: $condition) {\n      id\n      direct_subscribers\n      direct_subscriptions\n      overlay_subscribers\n      overlay_subscriptions\n      signup_subscribers\n      signup_subscriptions\n      upload_subscribers\n      upload_subscriptions\n      other_subscribers\n      other_subscriptions\n      total_subscribers\n      total_subscriptions\n      deleted_subscribers\n      deleted_subscriptions\n      all_network_subscribers\n      all_network_subscriptions\n      net_subscribers\n      net_subscriptions\n      createdAt\n      updatedAt\n    }\n  }\n";exports.createSubsSummary=b;const A="\n  mutation UpdateSubsSummary(\n    $input: UpdateSubsSummaryInput!\n    $condition: ModelSubsSummaryConditionInput\n  ) {\n    updateSubsSummary(input: $input, condition: $condition) {\n      id\n      direct_subscribers\n      direct_subscriptions\n      overlay_subscribers\n      overlay_subscriptions\n      signup_subscribers\n      signup_subscriptions\n      upload_subscribers\n      upload_subscriptions\n      other_subscribers\n      other_subscriptions\n      total_subscribers\n      total_subscriptions\n      deleted_subscribers\n      deleted_subscriptions\n      all_network_subscribers\n      all_network_subscriptions\n      net_subscribers\n      net_subscriptions\n      createdAt\n      updatedAt\n    }\n  }\n";exports.updateSubsSummary=A;const k="\n  mutation DeleteSubsSummary(\n    $input: DeleteSubsSummaryInput!\n    $condition: ModelSubsSummaryConditionInput\n  ) {\n    deleteSubsSummary(input: $input, condition: $condition) {\n      id\n      direct_subscribers\n      direct_subscriptions\n      overlay_subscribers\n      overlay_subscriptions\n      signup_subscribers\n      signup_subscriptions\n      upload_subscribers\n      upload_subscriptions\n      other_subscribers\n      other_subscriptions\n      total_subscribers\n      total_subscriptions\n      deleted_subscribers\n      deleted_subscriptions\n      all_network_subscribers\n      all_network_subscriptions\n      net_subscribers\n      net_subscriptions\n      createdAt\n      updatedAt\n    }\n  }\n";exports.deleteSubsSummary=k;const x="\n  mutation CreateAccumulator(\n    $input: CreateAccumulatorInput!\n    $condition: ModelAccumulatorConditionInput\n  ) {\n    createAccumulator(input: $input, condition: $condition) {\n      id\n      all_topics\n      all_campaigns\n      all_senders\n      createdAt\n      updatedAt\n    }\n  }\n";exports.createAccumulator=x;const T="\n  mutation UpdateAccumulator(\n    $input: UpdateAccumulatorInput!\n    $condition: ModelAccumulatorConditionInput\n  ) {\n    updateAccumulator(input: $input, condition: $condition) {\n      id\n      all_topics\n      all_campaigns\n      all_senders\n      createdAt\n      updatedAt\n    }\n  }\n";exports.updateAccumulator=T;const $="\n  mutation DeleteAccumulator(\n    $input: DeleteAccumulatorInput!\n    $condition: ModelAccumulatorConditionInput\n  ) {\n    deleteAccumulator(input: $input, condition: $condition) {\n      id\n      all_topics\n      all_campaigns\n      all_senders\n      createdAt\n      updatedAt\n    }\n  }\n";exports.deleteAccumulator=$;const w="\n  mutation CreateTopicFollower(\n    $input: CreateTopicFollowerInput!\n    $condition: ModelTopicFollowerConditionInput\n  ) {\n    createTopicFollower(input: $input, condition: $condition) {\n      id\n      topic_id\n      follower_id\n      topic {\n        id\n        code\n        name\n        description\n        bulletins {\n          nextToken\n        }\n        followers {\n          nextToken\n        }\n        subscriptions {\n          nextToken\n        }\n        createdAt\n        updatedAt\n      }\n      follower {\n        id\n        domain\n        latitude\n        longitude\n        created_at\n        source\n        topics {\n          nextToken\n        }\n        subscriptions {\n          nextToken\n        }\n        createdAt\n        updatedAt\n        destination\n      }\n      createdAt\n      updatedAt\n    }\n  }\n";exports.createTopicFollower=w;const S="\n  mutation UpdateTopicFollower(\n    $input: UpdateTopicFollowerInput!\n    $condition: ModelTopicFollowerConditionInput\n  ) {\n    updateTopicFollower(input: $input, condition: $condition) {\n      id\n      topic_id\n      follower_id\n      topic {\n        id\n        code\n        name\n        description\n        bulletins {\n          nextToken\n        }\n        followers {\n          nextToken\n        }\n        subscriptions {\n          nextToken\n        }\n        createdAt\n        updatedAt\n      }\n      follower {\n        id\n        domain\n        latitude\n        longitude\n        created_at\n        source\n        topics {\n          nextToken\n        }\n        subscriptions {\n          nextToken\n        }\n        createdAt\n        updatedAt\n        destination\n      }\n      createdAt\n      updatedAt\n    }\n  }\n";exports.updateTopicFollower=S;const C="\n  mutation DeleteTopicFollower(\n    $input: DeleteTopicFollowerInput!\n    $condition: ModelTopicFollowerConditionInput\n  ) {\n    deleteTopicFollower(input: $input, condition: $condition) {\n      id\n      topic_id\n      follower_id\n      topic {\n        id\n        code\n        name\n        description\n        bulletins {\n          nextToken\n        }\n        followers {\n          nextToken\n        }\n        subscriptions {\n          nextToken\n        }\n        createdAt\n        updatedAt\n      }\n      follower {\n        id\n        domain\n        latitude\n        longitude\n        created_at\n        source\n        topics {\n          nextToken\n        }\n        subscriptions {\n          nextToken\n        }\n        createdAt\n        updatedAt\n        destination\n      }\n      createdAt\n      updatedAt\n    }\n  }\n";exports.deleteTopicFollower=C;const g="\n  mutation CreateFollower(\n    $input: CreateFollowerInput!\n    $condition: ModelFollowerConditionInput\n  ) {\n    createFollower(input: $input, condition: $condition) {\n      id\n      domain\n      latitude\n      longitude\n      created_at\n      source\n      topics {\n        items {\n          id\n          topic_id\n          follower_id\n          createdAt\n          updatedAt\n        }\n        nextToken\n      }\n      subscriptions {\n        items {\n          id\n          referrer_url\n          created_at\n          deleted_at\n          source\n          topic_id\n          follower_id\n          createdAt\n          updatedAt\n        }\n        nextToken\n      }\n      createdAt\n      updatedAt\n      destination\n    }\n  }\n";exports.createFollower=g;const I="\n  mutation UpdateFollower(\n    $input: UpdateFollowerInput!\n    $condition: ModelFollowerConditionInput\n  ) {\n    updateFollower(input: $input, condition: $condition) {\n      id\n      domain\n      latitude\n      longitude\n      created_at\n      source\n      topics {\n        items {\n          id\n          topic_id\n          follower_id\n          createdAt\n          updatedAt\n        }\n        nextToken\n      }\n      subscriptions {\n        items {\n          id\n          referrer_url\n          created_at\n          deleted_at\n          source\n          topic_id\n          follower_id\n          createdAt\n          updatedAt\n        }\n        nextToken\n      }\n      createdAt\n      updatedAt\n      destination\n    }\n  }\n";exports.updateFollower=I;const f="\n  mutation DeleteFollower(\n    $input: DeleteFollowerInput!\n    $condition: ModelFollowerConditionInput\n  ) {\n    deleteFollower(input: $input, condition: $condition) {\n      id\n      domain\n      latitude\n      longitude\n      created_at\n      source\n      topics {\n        items {\n          id\n          topic_id\n          follower_id\n          createdAt\n          updatedAt\n        }\n        nextToken\n      }\n      subscriptions {\n        items {\n          id\n          referrer_url\n          created_at\n          deleted_at\n          source\n          topic_id\n          follower_id\n          createdAt\n          updatedAt\n        }\n        nextToken\n      }\n      createdAt\n      updatedAt\n      destination\n    }\n  }\n";exports.deleteFollower=f;const y="\n  mutation CreateSub(\n    $input: CreateSubInput!\n    $condition: ModelSubConditionInput\n  ) {\n    createSub(input: $input, condition: $condition) {\n      id\n      referrer_url\n      created_at\n      deleted_at\n      source\n      topic_id\n      follower_id\n      topic {\n        id\n        code\n        name\n        description\n        bulletins {\n          nextToken\n        }\n        followers {\n          nextToken\n        }\n        subscriptions {\n          nextToken\n        }\n        createdAt\n        updatedAt\n      }\n      follower {\n        id\n        domain\n        latitude\n        longitude\n        created_at\n        source\n        topics {\n          nextToken\n        }\n        subscriptions {\n          nextToken\n        }\n        createdAt\n        updatedAt\n        destination\n      }\n      createdAt\n      updatedAt\n    }\n  }\n";exports.createSub=y;const B="\n  mutation UpdateSub(\n    $input: UpdateSubInput!\n    $condition: ModelSubConditionInput\n  ) {\n    updateSub(input: $input, condition: $condition) {\n      id\n      referrer_url\n      created_at\n      deleted_at\n      source\n      topic_id\n      follower_id\n      topic {\n        id\n        code\n        name\n        description\n        bulletins {\n          nextToken\n        }\n        followers {\n          nextToken\n        }\n        subscriptions {\n          nextToken\n        }\n        createdAt\n        updatedAt\n      }\n      follower {\n        id\n        domain\n        latitude\n        longitude\n        created_at\n        source\n        topics {\n          nextToken\n        }\n        subscriptions {\n          nextToken\n        }\n        createdAt\n        updatedAt\n        destination\n      }\n      createdAt\n      updatedAt\n    }\n  }\n";exports.updateSub=B;const F="\n  mutation DeleteSub(\n    $input: DeleteSubInput!\n    $condition: ModelSubConditionInput\n  ) {\n    deleteSub(input: $input, condition: $condition) {\n      id\n      referrer_url\n      created_at\n      deleted_at\n      source\n      topic_id\n      follower_id\n      topic {\n        id\n        code\n        name\n        description\n        bulletins {\n          nextToken\n        }\n        followers {\n          nextToken\n        }\n        subscriptions {\n          nextToken\n        }\n        createdAt\n        updatedAt\n      }\n      follower {\n        id\n        domain\n        latitude\n        longitude\n        created_at\n        source\n        topics {\n          nextToken\n        }\n        subscriptions {\n          nextToken\n        }\n        createdAt\n        updatedAt\n        destination\n      }\n      createdAt\n      updatedAt\n    }\n  }\n";exports.deleteSub=F;
},{}],"Neb3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.listFollowers=exports.getFollower=exports.subsByFollower=exports.subsByTopic=exports.followersByTopic=exports.topicsByFollower=exports.bulletinsBySender=exports.bulletinsByCampaign=exports.listSubs=exports.getSub=exports.listAccumulators=exports.getAccumulator=exports.listSubsSummarys=exports.getSubsSummary=exports.listBulletins=exports.getBulletin=exports.listTopics=exports.getTopic=exports.listSenders=exports.getSender=exports.listCampaigns=exports.getCampaign=void 0;const n="\n  query GetCampaign($id: ID!) {\n    getCampaign(id: $id) {\n      id\n      bulletins {\n        items {\n          id\n          campaign_id\n          sender_email\n          created_at\n          createdAt\n          updatedAt\n        }\n        nextToken\n      }\n      createdAt\n      updatedAt\n    }\n  }\n";exports.getCampaign=n;const e="\n  query ListCampaigns(\n    $filter: ModelCampaignFilterInput\n    $limit: Int\n    $nextToken: String\n  ) {\n    listCampaigns(filter: $filter, limit: $limit, nextToken: $nextToken) {\n      items {\n        id\n        bulletins {\n          nextToken\n        }\n        createdAt\n        updatedAt\n      }\n      nextToken\n    }\n  }\n";exports.listCampaigns=e;const t="\n  query GetSender($id: ID!) {\n    getSender(id: $id) {\n      id\n      bulletins {\n        items {\n          id\n          campaign_id\n          sender_email\n          created_at\n          createdAt\n          updatedAt\n        }\n        nextToken\n      }\n      createdAt\n      updatedAt\n    }\n  }\n";exports.getSender=t;const i="\n  query ListSenders(\n    $filter: ModelSenderFilterInput\n    $limit: Int\n    $nextToken: String\n  ) {\n    listSenders(filter: $filter, limit: $limit, nextToken: $nextToken) {\n      items {\n        id\n        bulletins {\n          nextToken\n        }\n        createdAt\n        updatedAt\n      }\n      nextToken\n    }\n  }\n";exports.listSenders=i;const o="\n  query GetTopic($id: ID!) {\n    getTopic(id: $id) {\n      id\n      code\n      name\n      description\n      bulletins {\n        items {\n          id\n          bulletin_id\n          topic_id\n          created_at\n          createdAt\n          updatedAt\n        }\n        nextToken\n      }\n      followers {\n        items {\n          id\n          topic_id\n          follower_id\n          createdAt\n          updatedAt\n        }\n        nextToken\n      }\n      subscriptions {\n        items {\n          id\n          referrer_url\n          created_at\n          deleted_at\n          source\n          topic_id\n          follower_id\n          createdAt\n          updatedAt\n        }\n        nextToken\n      }\n      createdAt\n      updatedAt\n    }\n  }\n";exports.getTopic=o;const r="\n  query ListTopics(\n    $filter: ModelTopicFilterInput\n    $limit: Int\n    $nextToken: String\n  ) {\n    listTopics(filter: $filter, limit: $limit, nextToken: $nextToken) {\n      items {\n        id\n        code\n        name\n        description\n        bulletins {\n          nextToken\n        }\n        followers {\n          nextToken\n        }\n        subscriptions {\n          nextToken\n        }\n        createdAt\n        updatedAt\n      }\n      nextToken\n    }\n  }\n";exports.listTopics=r;const s="\n  query GetBulletin($id: ID!) {\n    getBulletin(id: $id) {\n      id\n      campaign_id\n      campaign {\n        id\n        bulletins {\n          nextToken\n        }\n        createdAt\n        updatedAt\n      }\n      sender_email\n      sender {\n        id\n        bulletins {\n          nextToken\n        }\n        createdAt\n        updatedAt\n      }\n      created_at\n      detail {\n        subject\n        to_text\n        delivery_status_name\n        addresses_count\n        success_count\n        failed_count\n        percent_success\n        immediate_email_recipients\n        emails_delivered\n        emails_failed\n        percent_emails_delivered\n        opens_count\n        percent_opened\n        nonunique_opens_count\n        links_count\n        click_rate\n        clicks_count\n        nonunique_clicks_count\n        digest_email_recipients\n        unique_click_count\n        total_click_count\n        unsubscribes\n      }\n      links {\n        id\n        link_url\n        unique_click_count\n        total_click_count\n      }\n      topics {\n        items {\n          id\n          bulletin_id\n          topic_id\n          created_at\n          createdAt\n          updatedAt\n        }\n        nextToken\n      }\n      createdAt\n      updatedAt\n    }\n  }\n";exports.getBulletin=s;const d="\n  query ListBulletins(\n    $filter: ModelBulletinFilterInput\n    $limit: Int\n    $nextToken: String\n  ) {\n    listBulletins(filter: $filter, limit: $limit, nextToken: $nextToken) {\n      items {\n        id\n        campaign_id\n        campaign {\n          id\n          createdAt\n          updatedAt\n        }\n        sender_email\n        sender {\n          id\n          createdAt\n          updatedAt\n        }\n        created_at\n        detail {\n          subject\n          to_text\n          delivery_status_name\n          addresses_count\n          success_count\n          failed_count\n          percent_success\n          immediate_email_recipients\n          emails_delivered\n          emails_failed\n          percent_emails_delivered\n          opens_count\n          percent_opened\n          nonunique_opens_count\n          links_count\n          click_rate\n          clicks_count\n          nonunique_clicks_count\n          digest_email_recipients\n          unique_click_count\n          total_click_count\n          unsubscribes\n        }\n        links {\n          id\n          link_url\n          unique_click_count\n          total_click_count\n        }\n        topics {\n          nextToken\n        }\n        createdAt\n        updatedAt\n      }\n      nextToken\n    }\n  }\n";exports.listBulletins=d;const l="\n  query GetSubsSummary($id: ID!) {\n    getSubsSummary(id: $id) {\n      id\n      direct_subscribers\n      direct_subscriptions\n      overlay_subscribers\n      overlay_subscriptions\n      signup_subscribers\n      signup_subscriptions\n      upload_subscribers\n      upload_subscriptions\n      other_subscribers\n      other_subscriptions\n      total_subscribers\n      total_subscriptions\n      deleted_subscribers\n      deleted_subscriptions\n      all_network_subscribers\n      all_network_subscriptions\n      net_subscribers\n      net_subscriptions\n      createdAt\n      updatedAt\n    }\n  }\n";exports.getSubsSummary=l;const c="\n  query ListSubsSummarys(\n    $filter: ModelSubsSummaryFilterInput\n    $limit: Int\n    $nextToken: String\n  ) {\n    listSubsSummarys(filter: $filter, limit: $limit, nextToken: $nextToken) {\n      items {\n        id\n        direct_subscribers\n        direct_subscriptions\n        overlay_subscribers\n        overlay_subscriptions\n        signup_subscribers\n        signup_subscriptions\n        upload_subscribers\n        upload_subscriptions\n        other_subscribers\n        other_subscriptions\n        total_subscribers\n        total_subscriptions\n        deleted_subscribers\n        deleted_subscriptions\n        all_network_subscribers\n        all_network_subscriptions\n        net_subscribers\n        net_subscriptions\n        createdAt\n        updatedAt\n      }\n      nextToken\n    }\n  }\n";exports.listSubsSummarys=c;const u="\n  query GetAccumulator($id: ID!) {\n    getAccumulator(id: $id) {\n      id\n      all_topics\n      all_campaigns\n      all_senders\n      createdAt\n      updatedAt\n    }\n  }\n";exports.getAccumulator=u;const a="\n  query ListAccumulators(\n    $filter: ModelAccumulatorFilterInput\n    $limit: Int\n    $nextToken: String\n  ) {\n    listAccumulators(filter: $filter, limit: $limit, nextToken: $nextToken) {\n      items {\n        id\n        all_topics\n        all_campaigns\n        all_senders\n        createdAt\n        updatedAt\n      }\n      nextToken\n    }\n  }\n";exports.listAccumulators=a;const _="\n  query GetSub($id: ID!) {\n    getSub(id: $id) {\n      id\n      referrer_url\n      created_at\n      deleted_at\n      source\n      topic_id\n      follower_id\n      topic {\n        id\n        code\n        name\n        description\n        bulletins {\n          nextToken\n        }\n        followers {\n          nextToken\n        }\n        subscriptions {\n          nextToken\n        }\n        createdAt\n        updatedAt\n      }\n      follower {\n        id\n        domain\n        latitude\n        longitude\n        created_at\n        source\n        topics {\n          nextToken\n        }\n        subscriptions {\n          nextToken\n        }\n        createdAt\n        updatedAt\n        destination\n      }\n      createdAt\n      updatedAt\n    }\n  }\n";exports.getSub=_;const p="\n  query ListSubs(\n    $filter: ModelSubFilterInput\n    $limit: Int\n    $nextToken: String\n  ) {\n    listSubs(filter: $filter, limit: $limit, nextToken: $nextToken) {\n      items {\n        id\n        referrer_url\n        created_at\n        deleted_at\n        source\n        topic_id\n        follower_id\n        topic {\n          id\n          code\n          name\n          description\n          createdAt\n          updatedAt\n        }\n        follower {\n          id\n          domain\n          latitude\n          longitude\n          created_at\n          source\n          createdAt\n          updatedAt\n          destination\n        }\n        createdAt\n        updatedAt\n      }\n      nextToken\n    }\n  }\n";exports.listSubs=p;const m="\n  query BulletinsByCampaign(\n    $campaign_id: ID\n    $created_at: ModelStringKeyConditionInput\n    $sortDirection: ModelSortDirection\n    $filter: ModelBulletinFilterInput\n    $limit: Int\n    $nextToken: String\n  ) {\n    bulletinsByCampaign(\n      campaign_id: $campaign_id\n      created_at: $created_at\n      sortDirection: $sortDirection\n      filter: $filter\n      limit: $limit\n      nextToken: $nextToken\n    ) {\n      items {\n        id\n        campaign_id\n        campaign {\n          id\n          createdAt\n          updatedAt\n        }\n        sender_email\n        sender {\n          id\n          createdAt\n          updatedAt\n        }\n        created_at\n        detail {\n          subject\n          to_text\n          delivery_status_name\n          addresses_count\n          success_count\n          failed_count\n          percent_success\n          immediate_email_recipients\n          emails_delivered\n          emails_failed\n          percent_emails_delivered\n          opens_count\n          percent_opened\n          nonunique_opens_count\n          links_count\n          click_rate\n          clicks_count\n          nonunique_clicks_count\n          digest_email_recipients\n          unique_click_count\n          total_click_count\n          unsubscribes\n        }\n        links {\n          id\n          link_url\n          unique_click_count\n          total_click_count\n        }\n        topics {\n          nextToken\n        }\n        createdAt\n        updatedAt\n      }\n      nextToken\n    }\n  }\n";exports.bulletinsByCampaign=m;const $="\n  query BulletinsBySender(\n    $sender_email: ID\n    $created_at: ModelStringKeyConditionInput\n    $sortDirection: ModelSortDirection\n    $filter: ModelBulletinFilterInput\n    $limit: Int\n    $nextToken: String\n  ) {\n    bulletinsBySender(\n      sender_email: $sender_email\n      created_at: $created_at\n      sortDirection: $sortDirection\n      filter: $filter\n      limit: $limit\n      nextToken: $nextToken\n    ) {\n      items {\n        id\n        campaign_id\n        campaign {\n          id\n          createdAt\n          updatedAt\n        }\n        sender_email\n        sender {\n          id\n          createdAt\n          updatedAt\n        }\n        created_at\n        detail {\n          subject\n          to_text\n          delivery_status_name\n          addresses_count\n          success_count\n          failed_count\n          percent_success\n          immediate_email_recipients\n          emails_delivered\n          emails_failed\n          percent_emails_delivered\n          opens_count\n          percent_opened\n          nonunique_opens_count\n          links_count\n          click_rate\n          clicks_count\n          nonunique_clicks_count\n          digest_email_recipients\n          unique_click_count\n          total_click_count\n          unsubscribes\n        }\n        links {\n          id\n          link_url\n          unique_click_count\n          total_click_count\n        }\n        topics {\n          nextToken\n        }\n        createdAt\n        updatedAt\n      }\n      nextToken\n    }\n  }\n";exports.bulletinsBySender=$;const x="\n  query TopicsByFollower(\n    $follower_id: ID\n    $topic_id: ModelIDKeyConditionInput\n    $sortDirection: ModelSortDirection\n    $filter: ModelTopicFollowerFilterInput\n    $limit: Int\n    $nextToken: String\n  ) {\n    topicsByFollower(\n      follower_id: $follower_id\n      topic_id: $topic_id\n      sortDirection: $sortDirection\n      filter: $filter\n      limit: $limit\n      nextToken: $nextToken\n    ) {\n      items {\n        id\n        topic_id\n        follower_id\n        topic {\n          id\n          code\n          name\n          description\n          createdAt\n          updatedAt\n        }\n        follower {\n          id\n          domain\n          latitude\n          longitude\n          created_at\n          source\n          createdAt\n          updatedAt\n          destination\n        }\n        createdAt\n        updatedAt\n      }\n      nextToken\n    }\n  }\n";exports.topicsByFollower=x;const k="\n  query FollowersByTopic(\n    $topic_id: ID\n    $follower_id: ModelIDKeyConditionInput\n    $sortDirection: ModelSortDirection\n    $filter: ModelTopicFollowerFilterInput\n    $limit: Int\n    $nextToken: String\n  ) {\n    followersByTopic(\n      topic_id: $topic_id\n      follower_id: $follower_id\n      sortDirection: $sortDirection\n      filter: $filter\n      limit: $limit\n      nextToken: $nextToken\n    ) {\n      items {\n        id\n        topic_id\n        follower_id\n        topic {\n          id\n          code\n          name\n          description\n          createdAt\n          updatedAt\n        }\n        follower {\n          id\n          domain\n          latitude\n          longitude\n          created_at\n          source\n          createdAt\n          updatedAt\n          destination\n        }\n        createdAt\n        updatedAt\n      }\n      nextToken\n    }\n  }\n";exports.followersByTopic=k;const b="\n  query SubsByTopic(\n    $topic_id: ID\n    $created_at: ModelStringKeyConditionInput\n    $sortDirection: ModelSortDirection\n    $filter: ModelSubFilterInput\n    $limit: Int\n    $nextToken: String\n  ) {\n    subsByTopic(\n      topic_id: $topic_id\n      created_at: $created_at\n      sortDirection: $sortDirection\n      filter: $filter\n      limit: $limit\n      nextToken: $nextToken\n    ) {\n      items {\n        id\n        referrer_url\n        created_at\n        deleted_at\n        source\n        topic_id\n        follower_id\n        topic {\n          id\n          code\n          name\n          description\n          createdAt\n          updatedAt\n        }\n        follower {\n          id\n          domain\n          latitude\n          longitude\n          created_at\n          source\n          createdAt\n          updatedAt\n          destination\n        }\n        createdAt\n        updatedAt\n      }\n      nextToken\n    }\n  }\n";exports.subsByTopic=b;const A="\n  query SubsByFollower(\n    $follower_id: ID\n    $created_at: ModelStringKeyConditionInput\n    $sortDirection: ModelSortDirection\n    $filter: ModelSubFilterInput\n    $limit: Int\n    $nextToken: String\n  ) {\n    subsByFollower(\n      follower_id: $follower_id\n      created_at: $created_at\n      sortDirection: $sortDirection\n      filter: $filter\n      limit: $limit\n      nextToken: $nextToken\n    ) {\n      items {\n        id\n        referrer_url\n        created_at\n        deleted_at\n        source\n        topic_id\n        follower_id\n        topic {\n          id\n          code\n          name\n          description\n          createdAt\n          updatedAt\n        }\n        follower {\n          id\n          domain\n          latitude\n          longitude\n          created_at\n          source\n          createdAt\n          updatedAt\n          destination\n        }\n        createdAt\n        updatedAt\n      }\n      nextToken\n    }\n  }\n";exports.subsByFollower=A;const T="\n  query GetFollower($id: ID!) {\n    getFollower(id: $id) {\n      id\n      domain\n      latitude\n      longitude\n      created_at\n      source\n      topics {\n        items {\n          id\n          topic_id\n          follower_id\n          createdAt\n          updatedAt\n        }\n        nextToken\n      }\n      subscriptions {\n        items {\n          id\n          referrer_url\n          created_at\n          deleted_at\n          source\n          topic_id\n          follower_id\n          createdAt\n          updatedAt\n        }\n        nextToken\n      }\n      createdAt\n      updatedAt\n      destination\n    }\n  }\n";exports.getFollower=T;const f="\n  query ListFollowers(\n    $filter: ModelFollowerFilterInput\n    $limit: Int\n    $nextToken: String\n  ) {\n    listFollowers(filter: $filter, limit: $limit, nextToken: $nextToken) {\n      items {\n        id\n        domain\n        latitude\n        longitude\n        created_at\n        source\n        topics {\n          nextToken\n        }\n        subscriptions {\n          nextToken\n        }\n        createdAt\n        updatedAt\n        destination\n      }\n      nextToken\n    }\n  }\n";exports.listFollowers=f;
},{}],"IuUX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.save_daily_payload_CMD=exports.saveDailyPayload=void 0;var t=require("@-0/spool"),e=require("@thi.ng/paths"),a=require("../utils"),o=require("../graphql/mutations"),n=require("../graphql/queries"),i=function(t,e,a,o){return new(a||(a=Promise))(function(n,i){function r(t){try{d(o.next(t))}catch(e){i(e)}}function l(t){try{d(o.throw(t))}catch(e){i(e)}}function d(t){var e;t.done?n(t.value):(e=t.value,e instanceof a?e:new a(function(t){t(e)})).then(r,l)}d((o=o.apply(t,e||[])).next())})},r=function(t,e){var a={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(a[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(t);n<o.length;n++)e.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(t,o[n])&&(a[o[n]]=t[o[n]])}return a};const l=(t,r)=>i(void 0,void 0,void 0,function*(){const{all_campaigns:i}=t,{detail:l}=r,{utm_campaign:d}=l,c=d||"NA";let u=[...i];return i.has(c)?((0,a.log)(" Campaign alread in Accumulator:",c),u):((0,a.log)(`Campaign ${c} not in Accumulator. Checking DB...`),(0,a.grafetch)({operation:n.getCampaign,vars_obj:{id:c}}).then(t=>{return(0,e.getIn)(t,["data","getCampaign","id"])?(u.push(c),(0,a.log)("Campaign already in DB:",c,". Accumulator Updated"),u):((0,a.log)(`Campaign ${c} not in DB. Creating ...`),(0,a.grafetch)({operation:o.createCampaign,vars_obj:{input:{id:c}}}).then(t=>(u.push(c),(0,a.log)(`Campaign ${c} added to DB. Accumulator Updated`),u)))}))}),d=(t,r)=>i(void 0,void 0,void 0,function*(){const{all_senders:i}=t,{detail:l}=r,{sender_email:d="unavailable"}=l;let c=[...i];return i.has(d)?((0,a.log)(" Sender already in Accumulator:",d),c):((0,a.log)(`Sender ${d} not in Accumulator. Checking DB...`),(0,a.grafetch)({operation:n.getSender,vars_obj:{id:d}}).then(t=>{return(0,e.getIn)(t,["data","getSender","id"])?(c.push(d),(0,a.log)("Sender in DB:",d,". Accumulator Updated"),c):((0,a.log)(`Sender ${d} not in DB. Creating...`),(0,a.grafetch)({operation:o.createSender,vars_obj:{input:{id:d}}}).then(t=>{const o=(0,e.getIn)(t,["data","createSender","id"]);return(0,a.log)("Sender Created",o),c.push(o),(0,a.log)("Sender added to Accumulator:",o),c}))}))}),c=(t,r)=>i(void 0,void 0,void 0,function*(){const i=(0,a.genGranicusDate)(new Date(t));return(0,a.grafetch)({operation:n.getSubsSummary,vars_obj:{id:i}}).then(t=>{const n=(0,e.getIn)(t,["data","getSubsSummary","id"]);return n?(0,a.grafetch)({operation:o.updateSubsSummary,vars_obj:{inputs:Object.assign({id:n},r)}}).then(t=>{(0,a.log)("summary updated:",t)}):(0,a.grafetch)({operation:o.createSubsSummary,vars_obj:{input:Object.assign({id:i},r)}}).then(t=>{(0,a.log)("summary created:",t)})})}),u=(t,r)=>i(void 0,void 0,void 0,function*(){const{all_topics:i}=t,{id:l=null,code:d,name:c,description:u}=r;if(!l)return void(0,a.log)("Topic is not legitimate, skipping");let s=[...i];return i.has(l)?((0,a.log)(` Topic ${l} already in Accumulator `),s):((0,a.log)(`Topic ${l} not in Accumulator, checking DB...`),(0,a.grafetch)({operation:n.getTopic,vars_obj:{id:l}}).then(t=>{return(0,e.getIn)(t,["data","getTopic","id"])?((0,a.log)(`Topic ${l} already in DB, Updating Accumulator...`),s.push(l),s):((0,a.log)(`Topic ${l} not present in DB, creating...`),(0,a.grafetch)({operation:o.createTopic,vars_obj:{input:{id:l,code:d,name:c,description:u}}}).then(t=>((0,a.log)(`Created Topic ${l} in DB.`),(0,a.log)(`Pushing Topic: ${l} to Accumulator`),s.push(l),s)))}))}),s=({acc_update_sets:t,bulletin_id:n,created_at:r,topics:l})=>l.map(l=>i(void 0,void 0,void 0,function*(){const{id:i=null,to_date:d,this_period:c}=l;if(!i)return void(0,a.log)("BulletinTopic is not legitimate, skipping");const s=`${n}_${i}`,g={id:s,bulletin_id:n,topic_id:i,created_at:r,this_period:c,to_date:d};return(yield u(t,l)).forEach(e=>t.all_topics.add(e)),(0,a.grafetch)({operation:o.createBulletinTopic,vars_obj:{input:g}}).then(t=>{return(0,a.log)("Creating BulletinTopic:",s),(0,e.getIn)(t,["data","createBulletinTopic","id"])?((0,a.log)(" Created BulletinTopic:",s),t):((0,a.log)(`BulltinTopic ${s} already in DB, Updating...`),(0,a.grafetch)({operation:o.updateBulletinTopic,vars_obj:{input:g}}).then(t=>((0,a.log)(`Updated BulletinTopic ${s}.`),t)))})})),g=t=>i(void 0,void 0,void 0,function*(){const{subssummary:c,portions:u,summary:g,days_ago:p,days_todo:_}=t,m=r(t,["subssummary","portions","summary","days_ago","days_todo"]);if(!Object.keys(m).length)return(0,a.log)("no entries for the day"),t;const{data:{getAccumulator:{all_campaigns:h,all_senders:y,all_topics:v}}}=yield(0,a.grafetch)({operation:n.getAccumulator,vars_obj:{id:"ACCUMULATOR"}}).then(t=>{return(0,e.getIn)(t,["data","getAccumulator","id"])?((0,a.log)("returning Accumulator..."),t):((0,a.log)("Accumulator non-existent. Creating..."),(0,a.grafetch)({operation:o.createAccumulator,vars_obj:{input:{id:"ACCUMULATOR"}}}).then(t=>{const{data:{createAccumulator:e}}=t;return(0,a.log)("Accumulator created"),{data:{getAccumulator:e}}}))}),f={all_campaigns:new Set(h),all_senders:new Set(y),all_topics:new Set(v)},b=Object.entries(m).map(([t,n])=>i(void 0,void 0,void 0,function*(){const{detail:t,links:i,topics:c}=n;if(!t)return void(0,a.log)("invalid/empty entry, bailing...");const{id:u=null,created_at:g,sender_email:p="unavailable",utm_campaign:_}=t,m=r(t,["id","created_at","sender_email","utm_campaign"]);if(!u)return void(0,a.log)("detail doesn't exist, bailing...");const h={id:u,campaign_id:_||"NA",created_at:g,sender_email:p,detail:m,links:i},y=yield d(f,n),v=yield l(f,n);return y.forEach(t=>f.all_senders.add(t)),v.forEach(t=>f.all_campaigns.add(t)),yield(0,a.grafetch)({operation:o.createBulletin,vars_obj:{input:h}}).then(t=>{const n=(0,e.getIn)(t,["data","createBulletin","id"]);return n?((0,a.log)(`Created Bulletin ${n}. Saving BulletinTopics...`),Promise.all(s({acc_update_sets:f,bulletin_id:n,created_at:g,topics:c}))):((0,a.log)(`Bulletin ${u} already in DB, updating...`),(0,a.grafetch)({operation:o.updateBulletin,vars_obj:{input:h}}).then(t=>{const o=(0,e.getIn)(t,["data","updateBulletin","id"]);return(0,a.log)(`Updated Bulletin ${o}. Saving BulletinTopics...`),Promise.all(s({acc_update_sets:f,bulletin_id:o,created_at:g,topics:c}))}))})}));return yield Promise.all(b).then(t=>{const e={id:"ACCUMULATOR",all_campaigns:[...f.all_campaigns],all_senders:[...f.all_senders],all_topics:[...f.all_topics]};return(0,a.grafetch)({operation:o.updateAccumulator,vars_obj:{input:e}}).then(t=>{const o={updateAccumulator:{all_campaigns:e.all_campaigns.length,all_senders:e.all_senders.length,all_topics:e.all_topics.length}};return(0,a.log)("updated accumulator:",JSON.stringify(o,null,2)),{days_ago:p,days_todo:_}})})});exports.saveDailyPayload=g;const p=e=>[e,(o,n)=>(0,t.registerCMD)({sub$:"SAVE_DAILY_PAYLOAD_CMD",args:g,work:t=>((0,a.log)(t),t.days_ago===t.days_todo?((0,a.log)(" !!!!!!!!!!!!!!! FINISHED !!!!!!!!!!!!!!!"),e.write("finished")):((0,a.log)("================= DONE ================="),(0,a.log)(`for days_ago: ${t.days_ago}, minus 1...`),(0,a.log)(`days left todo: ${t.days_ago-t.days_todo}`),o.next(n({days_ago:--t.days_ago,days_todo:t.days_todo}))))})];exports.save_daily_payload_CMD=p;
},{"@-0/spool":"OWB9","@thi.ng/paths":"X3Fy","../utils":"jWsf","../graphql/mutations":"EYku","../graphql/queries":"Neb3"}],"wiV8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./merge");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./outputs");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./bubble");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var u=require("./exhaust");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});var n=require("./apportion");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});var o=require("./graphql");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}})});
},{"./merge":"uQhW","./outputs":"Lso2","./bubble":"maUu","./exhaust":"vQPz","./apportion":"AhIC","./graphql":"IuUX"}],"T9t1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SAVE_DAILY_PAYLOAD_CMD=exports.SDPCMD=exports._OUT_=exports.days_ago__save_GQL=void 0;var _=require("@thi.ng/csp"),s=require("../commands"),o=require("@-0/spool");const e=({days_ago:_,days_todo:o})=>{const e=(0,s.merge_props_cmd)("details","links");return[{args:{days_ago:_,days_todo:o}},s.GET_SUBSSUMMARY_CMD,s.EXHAUST_PAGES_DETAILS_CMD,s.EXHAUST_PAGES_LINKS_CMD,e,s.APPORTION_CMD,s.BUBBLE_CMD]},a=({days_ago:_,days_todo:s})=>[...e({days_ago:_,days_todo:s}),d];exports.days_ago__save_GQL=a;const[r,t]=(0,s.save_daily_payload_CMD)(new _.Channel);exports.SDPCMD=t,exports._OUT_=r;const d=t(o.run$,a);exports.SAVE_DAILY_PAYLOAD_CMD=d;
},{"@thi.ng/csp":"uWVb","../commands":"wiV8","@-0/spool":"OWB9"}],"iRZK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./clusterfork");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});
},{"./clusterfork":"T9t1"}],"Focm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports._CHAN_=exports.doTheThing=void 0;var e=require("@-0/spool"),o=require("./tasks");const s=(s,r=s-2)=>e.run$.next((0,o.days_ago__save_GQL)({days_ago:s,days_todo:r}));exports.doTheThing=s;const r=o._OUT_;exports._CHAN_=r;
},{"@-0/spool":"OWB9","./tasks":"iRZK"}]},{},["Focm"], null)
//# sourceMappingURL=/index.js.map