import { bubble } from "./bubble"

export const single_merged_pruned_payload = {
    37094111: {
        detail: {
            created_at: "2019-03-12T13:22:28.000Z",
            subject: "Census News Report - Tuesday, 03.12.19",
            to_text: "Subscribers of News Clips",
            delivery_status_name: "Succeeded",
            addresses_count: 460,
            success_count: 460,
            failed_count: 0,
            percent_success: "100.0",
            immediate_email_recipients: 460,
            emails_delivered: 460,
            emails_failed: 0,
            percent_emails_delivered: "100.0",
            opens_count: 143,
            percent_opened: "31.086956521739130435",
            nonunique_opens_count: 217,
            links_count: 9,
            click_rate: "15.434782608695652174",
            clicks_count: 71,
            nonunique_clicks_count: 87,
            sender_email: "joann.hotchkiss@census.gov",
            digest_email_recipients: 0,
            wireless_recipients: 0,
            wireless_delivered: 0,
            wireless_failed_count: 0,
            publish_to_facebook: "No",
            publish_to_twitter: "No",
            "publish_to_rss?": "Yes",
            wireless_unique_clicks: 0,
            wireless_nonunique_clicks: 0,
            facebook_nonunique_clicks: 0,
            twitter_nonunique_clicks: 0,
            _links: {
                self: {
                    href: "/api/v2/accounts/11723/reports/bulletins/37094111",
                },
                topics: {
                    href: "/api/v2/bulletins/37094111/topics",
                },
            },
        },
        links: [
            {
                link_url:
                    "https://us.vocuspr.com/Publish/518008/Forward_518008_2215647.htm?Date=3%2F12%2F2019+9%3A07%3A47+AM&Email=ashleah.younker%40cision.com&utm_campaign=&utm_medium=email&utm_source=govdelivery",
                subject: "Census News Report - Tuesday, 03.12.19",
                sent_at: "2019-03-12T13:22:28.000Z",
                sender_email: "joann.hotchkiss@census.gov",
                unique_click_count: 68,
                total_click_count: 84,
                _links: {
                    self: {
                        href: "/api/v2/accounts/11723/reports/bulletins/37094111/links/123206685",
                    },
                },
            },
            {
                link_url:
                    "https://collab.ecm.census.gov/div/pio/intranet/Pages/Daily-News-Digest.aspx?utm_campaign=&utm_medium=email&utm_source=govdelivery",
                subject: "Census News Report - Tuesday, 03.12.19",
                sent_at: "2019-03-12T13:22:28.000Z",
                sender_email: "joann.hotchkiss@census.gov",
                unique_click_count: 3,
                total_click_count: 3,
                _links: {
                    self: {
                        href: "/api/v2/accounts/11723/reports/bulletins/37094111/links/123206687",
                    },
                },
            },
            {
                link_url:
                    "http://www.census.gov/about/contact-us.html?utm_campaign=bloopers&utm_medium=email&utm_source=govdelivery",
                subject: "Census News Report - Tuesday, 03.12.19",
                sent_at: "2019-03-12T13:22:28.000Z",
                sender_email: "joann.hotchkiss@census.gov",
                unique_click_count: 0,
                total_click_count: 0,
                _links: {
                    self: {
                        href: "/api/v2/accounts/11723/reports/bulletins/37094111/links/123206689",
                    },
                },
            },
            {
                link_url:
                    "https://public.govdelivery.com/accounts/USCENSUS/subscriber/edit?preferences=true#tab1",
                subject: "Census News Report - Tuesday, 03.12.19",
                sent_at: "2019-03-12T13:22:28.000Z",
                sender_email: "joann.hotchkiss@census.gov",
                unique_click_count: 0,
                total_click_count: 0,
                _links: {
                    self: {
                        href: "/api/v2/accounts/11723/reports/bulletins/37094111/links/123206695",
                    },
                },
            },
            {
                link_url:
                    "https://twitter.com/uscensusbureau?utm_campaign=&utm_medium=email&utm_source=govdelivery",
                subject: "Census News Report - Tuesday, 03.12.19",
                sent_at: "2019-03-12T13:22:28.000Z",
                sender_email: "joann.hotchkiss@census.gov",
                unique_click_count: 0,
                total_click_count: 0,
                _links: {
                    self: {
                        href: "/api/v2/accounts/11723/reports/bulletins/37094111/links/123206684",
                    },
                },
            },
            {
                link_url:
                    "https://public.govdelivery.com/accounts/USCENSUS/subscriber/one_click_unsubscribe?verification=%5B%5BVERIFICATION%5D%5D&destination=%5B%5BEMAIL_ADDRESS%5D%5D",
                subject: "Census News Report - Tuesday, 03.12.19",
                sent_at: "2019-03-12T13:22:28.000Z",
                sender_email: "joann.hotchkiss@census.gov",
                unique_click_count: 10,
                total_click_count: 20,
                _links: {
                    self: {
                        href: "/api/v2/accounts/11723/reports/bulletins/37094111/links/123206692",
                    },
                },
            },
            {
                link_url:
                    "https://www.facebook.com/uscensusbureau/one_click_unsubscribe?utm_campaign=&utm_medium=email&utm_source=govdelivery",
                subject: "Census News Report - Tuesday, 03.12.19",
                sent_at: "2019-03-12T13:22:28.000Z",
                sender_email: "joann.hotchkiss@census.gov",
                unique_click_count: 5,
                total_click_count: 5,
                _links: {
                    self: {
                        href: "/api/v2/accounts/11723/reports/bulletins/37094111/links/123206682",
                    },
                },
            },
            {
                link_url: "https://subscriberhelp.govdelivery.com/",
                subject: "Census News Report - Tuesday, 03.12.19",
                sent_at: "2019-03-12T13:22:28.000Z",
                sender_email: "joann.hotchkiss@census.gov",
                unique_click_count: 0,
                total_click_count: 0,
                _links: {
                    self: {
                        href: "/api/v2/accounts/11723/reports/bulletins/37094111/links/123206693",
                    },
                },
            },
            {
                link_url:
                    "https://www.youtube.com/user/uscensusbureau?utm_campaign=&utm_medium=email&utm_source=govdelivery",
                subject: "Census News Report - Tuesday, 03.12.19",
                sent_at: "2019-03-12T13:22:28.000Z",
                sender_email: "joann.hotchkiss@census.gov",
                unique_click_count: 0,
                total_click_count: 0,
                _links: {
                    self: {
                        href: "/api/v2/accounts/11723/reports/bulletins/37094111/links/123206694",
                    },
                },
            },
        ],
    },
}
// bubble ///////////////////////////////////////////////

// @ts-ignore
JSON.stringify(bubble(single_merged_pruned_payload), null, 2) //?

/////////////////////////////////////////////// bubble //

// graphql time ///////////////////////////////////////////////
//
//           d8
//   d88~\ _d88__  e88~-_  888-~\  e88~~8e
//  C888    888   d888   i 888    d888  88b
//   Y88b   888   8888   | 888    8888__888
//    888D  888   Y888   ' 888    Y888    ,
//  \_88P   "88_/  "88_-~  888     "88___/
//
//
////////////////////////////////////////////////// graphql time

/**
 *
 * Pseudo:
 * - get current date
 * - get last stored date
 * - call every date between last date and current date
 *    - call the granicus task
 *    - store into graphql schema <- YOU ARE HERE ðŸ§­
 *
 * - decouple from window pattern to allow for batch window
 *   (e.g., past week) fetching (overlapping windows ::
 *   updates to already stored batches)
 */
